(window.webpackJsonp=window.webpackJsonp||[]).push([[134],{1050:function(t,e){t.exports=function t(e,r){for(var n=0;n<r.length;n++){var o=r[n];if(Array.isArray(o))t(e,o);else{if(("number"===typeof o||"boolean"===typeof o||o instanceof Date||o instanceof RegExp)&&(o=o.toString()),"string"===typeof o){if(e.lastChild&&"#text"===e.lastChild.nodeName){e.lastChild.nodeValue+=o;continue}o=document.createTextNode(o)}o&&o.nodeType&&e.appendChild(o)}}}},1112:function(t,e,r){"use strict";var n=r(4),o="function"===typeof Symbol&&"symbol"===n(Symbol.iterator)?function(t){return n(t)}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":n(t)},i="undefined"===typeof Promise?r(1552).Promise:Promise,s=r(1134),a=r(2397);function u(t){return{hours:Math.floor(t/3600)%24,minutes:Math.floor(t/60)%60,seconds:Math.floor(t%60)}}function c(t){return new i(function(e,r){var n=new FileReader;n.addEventListener("load",function(t){e(t.target.result)}),n.addEventListener("error",function(t){console.error("FileReader error"+t),r(t)}),n.readAsArrayBuffer(t)})}var l={"video/ogg":"ogv","audio/ogg":"ogg","video/webm":"webm","audio/webm":"webm","video/mp4":"mp4","audio/mp3":"mp3"};function p(t){var e=/(?:\.([^.]+))?$/.exec(t)[1];return[t.replace("."+e,""),e]}function d(t,e,r){var n=t.split(",")[1],o=e.mimeType||t.split(",")[0].split(":")[1].split(";")[0];null==o&&(o="plain/text");for(var i=atob(n),s=[],a=0;a<i.length;a++)s.push(i.charCodeAt(a));return r?new File([new Uint8Array(s)],e.name||"",{type:o}):new Blob([new Uint8Array(s)],{type:o})}function f(t){if(!t.bytesUploaded)return 0;var e=new Date-t.uploadStarted;return t.bytesUploaded/(e/1e3)}function h(t){return t.bytesTotal-t.bytesUploaded}var m=s(function(t,e,r){var n=e.progress,o=e.bytesUploaded,i=e.bytesTotal;n&&(t.core.log("Upload progress: "+n),t.core.emitter.emit("core:upload-progress",{uploader:t,id:r.id,bytesUploaded:o,bytesTotal:i}))},300,{leading:!0,trailing:!0});t.exports={generateFileID:function(t){console.log(t);var e=t.name.toLowerCase();return e=e.replace(/[^A-Z0-9]/gi,""),e+=t.data.lastModified},toArray:function(t){return Array.prototype.slice.call(t||[],0)},every:function(t,e){return t.reduce(function(t,r){return!!t&&e(r)},!0)},flatten:function(t){return[].concat.apply([],t)},groupBy:function(t,e){return t.reduce(function(t,r){var n=e(r),o=t.get(n)||[];return o.push(r),t.set(n,o),t},new Map)},extend:function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return Object.assign.apply(this,[{}].concat(e))},runPromiseSequence:function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];var o=Promise.resolve();return t.forEach(function(t){o=o.then(function(){return t.apply(void 0,r)})}),o},supportsMediaRecorder:function(){return"function"===typeof MediaRecorder&&!!MediaRecorder.prototype&&"function"===typeof MediaRecorder.prototype.start},isTouchDevice:function(){return"ontouchstart"in window||navigator.maxTouchPoints},getFileNameAndExtension:p,truncateString:function(t,e){return t.length>e?t.substr(0,e/2)+"..."+t.substr(t.length-e/4,t.length):t},getFileTypeExtension:function(t){return l[t]||null},getFileType:function(t){var e=["",""],r={md:"text/markdown",markdown:"text/markdown",mp4:"video/mp4",mp3:"audio/mp3"};if(t.isRemote)return Promise.resolve(t.type.split("/"));var n=p(t.name)[1];return c(t.data.slice(0,4100)).then(function(o){var i=a(o);return i&&i.mime?i.mime.split("/"):t.type?t.type.split("/"):r[n]?r[n].split("/"):e}).catch(function(){return e})},getArrayBuffer:c,isPreviewSupported:function(t){return!!/^(jpeg|gif|png|svg|svg\+xml|bmp)$/.test(t)},getThumbnail:function(t){return URL.createObjectURL(t)},secondsToTime:u,dataURItoBlob:d,dataURItoFile:function(t,e){return d(t,e,!0)},getSpeed:f,getBytesRemaining:h,getETA:function(t){if(!t.bytesUploaded)return 0;var e=f(t),r=h(t);return Math.round(r/e*10)/10},copyToClipboard:function(t,e){return e=e||"Copy the URL below",new i(function(r,n){var o=document.createElement("textarea");o.setAttribute("style",{position:"fixed",top:0,left:0,width:"2em",height:"2em",padding:0,border:"none",outline:"none",boxShadow:"none",background:"transparent"}),o.value=t,document.body.appendChild(o),o.select();var i=function(r){return document.body.removeChild(o),window.prompt(e,t),n("Oops, unable to copy displayed fallback prompt: "+r)};try{return document.execCommand("copy")?(document.body.removeChild(o),r()):i("copy command unavailable")}catch(s){return document.body.removeChild(o),i(s)}})},prettyETA:function(t){var e=u(t),r=e.hours?e.hours+"h ":"",n=e.hours?("0"+e.minutes).substr(-2):e.minutes;return r+(n?n+"m ":"")+(n?("0"+e.seconds).substr(-2):e.seconds)+"s"},findDOMElement:function(t){return"string"===typeof t?document.querySelector(t):"object"===("undefined"===typeof t?"undefined":o(t))&&(e=t)&&"object"===("undefined"===typeof e?"undefined":o(e))&&e.nodeType===Node.ELEMENT_NODE?t:void 0;var e},getSocketHost:function(t){var e=/^(?:https?:\/\/|\/\/)?(?:[^@\n]+@)?(?:www\.)?([^\n]+)/.exec(t)[1];return("https:"===location.protocol?"wss":"ws")+"://"+e},emitSocketProgress:m}},1134:function(t,e,r){(function(e){var n=r(4),o="Expected a function",i=NaN,s="[object Symbol]",a=/^\s+|\s+$/g,u=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,l=/^0o[0-7]+$/i,p=parseInt,d="object"==("undefined"===typeof e?"undefined":n(e))&&e&&e.Object===Object&&e,f="object"==("undefined"===typeof self?"undefined":n(self))&&self&&self.Object===Object&&self,h=d||f||Function("return this")(),m=Object.prototype.toString,b=Math.max,g=Math.min,v=function(){return h.Date.now()};function y(t,e,r){var n,i,s,a,u,c,l=0,p=!1,d=!1,f=!0;if("function"!=typeof t)throw new TypeError(o);function h(e){var r=n,o=i;return n=i=void 0,l=e,a=t.apply(o,r)}function m(t){var r=t-c;return void 0===c||r>=e||r<0||d&&t-l>=s}function y(){var t=v();if(m(t))return w(t);u=setTimeout(y,function(t){var r=e-(t-c);return d?g(r,s-(t-l)):r}(t))}function w(t){return u=void 0,f&&n?h(t):(n=i=void 0,a)}function E(){var t=v(),r=m(t);if(n=arguments,i=this,c=t,r){if(void 0===u)return function(t){return l=t,u=setTimeout(y,e),p?h(t):a}(c);if(d)return u=setTimeout(y,e),h(c)}return void 0===u&&(u=setTimeout(y,e)),a}return e=S(e)||0,A(r)&&(p=!!r.leading,s=(d="maxWait"in r)?b(S(r.maxWait)||0,e):s,f="trailing"in r?!!r.trailing:f),E.cancel=function(){void 0!==u&&clearTimeout(u),l=0,n=c=i=u=void 0},E.flush=function(){return void 0===u?a:w(v())},E}function A(t){var e=n(t);return!!t&&("object"==e||"function"==e)}function w(t){return"symbol"==n(t)||function(t){return!!t&&"object"==n(t)}(t)&&m.call(t)==s}function S(t){if("number"==typeof t)return t;if(w(t))return i;if(A(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=A(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(a,"");var r=c.test(t);return r||l.test(t)?p(t.slice(2),r?2:8):u.test(t)?i:+t}t.exports=function(t,e,r){var n=!0,i=!0;if("function"!=typeof t)throw new TypeError(o);return A(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),y(t,e,{leading:n,maxWait:e,trailing:i})}}).call(this,r(40))},1139:function(t,e,r){"use strict";var n=r(2402),o=r(2411),i=r(1112).findDOMElement,s=r(2413);t.exports=function(){function t(e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.core=e,this.opts=r||{},this.type="none",this.opts.replaceTargetContent,this.opts.replaceTargetContent,this.update=this.update.bind(this),this.mount=this.mount.bind(this),this.install=this.install.bind(this),this.uninstall=this.uninstall.bind(this)}return t.prototype.update=function(t){"undefined"!==typeof this.el&&this.updateUI&&this.updateUI(t)},t.prototype.mount=function(t,e){var r=this,a=e.id,u=i(t);if(this.updateUI=o(function(t){r.el=n.update(r.el,r.render(t))}),u){if(this.core.log("Installing "+a+" to a DOM element"),this.opts.getMetaFromForm&&"FORM"===u.nodeName){var c=s(u);this.core.setMeta(c)}return this.opts.replaceTargetContent&&(u.innerHTML=""),this.el=e.render(this.core.state),u.appendChild(this.el),u}var l=(new t).id;return this.core.log("Installing "+a+" to "+l),this.core.getPlugin(l).addTarget(e)},t.prototype.unmount=function(){this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)},t.prototype.install=function(){},t.prototype.uninstall=function(){this.unmount()},t}()},1153:function(t,e,r){"use strict";var n="http://www.w3.org/2000/svg",o=r(1050);t.exports={defaultTabIcon:function(){var t,e;return(e=document.createElementNS(n,"svg")).setAttribute("width","30"),e.setAttribute("height","30"),e.setAttribute("viewBox","0 0 30 30"),e.setAttribute("class","UppyIcon"),o(e,[" ",(t=document.createElementNS(n,"path"),t.setAttribute("d","M15 30c8.284 0 15-6.716 15-15 0-8.284-6.716-15-15-15C6.716 0 0 6.716 0 15c0 8.284 6.716 15 15 15zm4.258-12.676v6.846h-8.426v-6.846H5.204l9.82-12.364 9.82 12.364H19.26z"),t)," "]),e},iconCopy:function(){var t,e,r;return(r=document.createElementNS(n,"svg")).setAttribute("width","51"),r.setAttribute("height","51"),r.setAttribute("viewBox","0 0 51 51"),r.setAttribute("class","UppyIcon"),o(r,[" ",(t=document.createElementNS(n,"path"),t.setAttribute("d","M17.21 45.765a5.394 5.394 0 0 1-7.62 0l-4.12-4.122a5.393 5.393 0 0 1 0-7.618l6.774-6.775-2.404-2.404-6.775 6.776c-3.424 3.427-3.424 9 0 12.426l4.12 4.123a8.766 8.766 0 0 0 6.216 2.57c2.25 0 4.5-.858 6.214-2.57l13.55-13.552a8.72 8.72 0 0 0 2.575-6.213 8.73 8.73 0 0 0-2.575-6.213l-4.123-4.12-2.404 2.404 4.123 4.12a5.352 5.352 0 0 1 1.58 3.81c0 1.438-.562 2.79-1.58 3.808l-13.55 13.55z"),t)," ",(e=document.createElementNS(n,"path"),e.setAttribute("d","M44.256 2.858A8.728 8.728 0 0 0 38.043.283h-.002a8.73 8.73 0 0 0-6.212 2.574l-13.55 13.55a8.725 8.725 0 0 0-2.575 6.214 8.73 8.73 0 0 0 2.574 6.216l4.12 4.12 2.405-2.403-4.12-4.12a5.357 5.357 0 0 1-1.58-3.812c0-1.437.562-2.79 1.58-3.808l13.55-13.55a5.348 5.348 0 0 1 3.81-1.58c1.44 0 2.792.562 3.81 1.58l4.12 4.12c2.1 2.1 2.1 5.518 0 7.617L39.2 23.775l2.404 2.404 6.775-6.777c3.426-3.427 3.426-9 0-12.426l-4.12-4.12z"),e)," "]),r},iconResume:function(){var t,e;return(e=document.createElementNS(n,"svg")).setAttribute("width","25"),e.setAttribute("height","25"),e.setAttribute("viewBox","0 0 44 44"),e.setAttribute("class","UppyIcon"),o(e,[" ",(t=document.createElementNS(n,"polygon"),t.setAttribute("transform","translate(6, 5.5)"),t.setAttribute("points","13 21.6666667 13 11 21 16.3333333"),t.setAttribute("class","play"),t)," "]),e},iconPause:function(){var t,e,r,i;return(i=document.createElementNS(n,"svg")).setAttribute("width","25px"),i.setAttribute("height","25px"),i.setAttribute("viewBox","0 0 44 44"),i.setAttribute("class","UppyIcon"),o(i,[" ",(r=document.createElementNS(n,"g"),r.setAttribute("transform","translate(18, 17)"),r.setAttribute("class","pause"),o(r,[" ",(t=document.createElementNS(n,"rect"),t.setAttribute("x","0"),t.setAttribute("y","0"),t.setAttribute("width","2"),t.setAttribute("height","10"),t.setAttribute("rx","0"),t)," ",(e=document.createElementNS(n,"rect"),e.setAttribute("x","6"),e.setAttribute("y","0"),e.setAttribute("width","2"),e.setAttribute("height","10"),e.setAttribute("rx","0"),e)," "]),r)," "]),i},iconEdit:function(){var t,e;return(e=document.createElementNS(n,"svg")).setAttribute("width","28"),e.setAttribute("height","28"),e.setAttribute("viewBox","0 0 28 28"),e.setAttribute("class","UppyIcon"),o(e,[" ",(t=document.createElementNS(n,"path"),t.setAttribute("d","M25.436 2.566a7.98 7.98 0 0 0-2.078-1.51C22.638.703 21.906.5 21.198.5a3 3 0 0 0-1.023.17 2.436 2.436 0 0 0-.893.562L2.292 18.217.5 27.5l9.28-1.796 16.99-16.99c.255-.254.444-.56.562-.888a3 3 0 0 0 .17-1.023c0-.708-.205-1.44-.555-2.16a8 8 0 0 0-1.51-2.077zM9.01 24.252l-4.313.834c0-.03.008-.06.012-.09.007-.944-.74-1.715-1.67-1.723-.04 0-.078.007-.118.01l.83-4.29L17.72 5.024l5.264 5.264L9.01 24.252zm16.84-16.96a.818.818 0 0 1-.194.31l-1.57 1.57-5.26-5.26 1.57-1.57a.82.82 0 0 1 .31-.194 1.45 1.45 0 0 1 .492-.074c.397 0 .917.126 1.468.397.55.27 1.13.678 1.656 1.21.53.53.94 1.11 1.208 1.655.272.55.397 1.07.393 1.468.004.193-.027.358-.074.488z"),t)," "]),e},localIcon:function(){var t,e,r;return(r=document.createElementNS(n,"svg")).setAttribute("width","27"),r.setAttribute("height","25"),r.setAttribute("viewBox","0 0 27 25"),r.setAttribute("class","UppyIcon"),o(r,[" ",(t=document.createElementNS(n,"path"),t.setAttribute("d","M5.586 9.288a.313.313 0 0 0 .282.176h4.84v3.922c0 1.514 1.25 2.24 2.792 2.24 1.54 0 2.79-.726 2.79-2.24V9.464h4.84c.122 0 .23-.068.284-.176a.304.304 0 0 0-.046-.324L13.735.106a.316.316 0 0 0-.472 0l-7.63 8.857a.302.302 0 0 0-.047.325z"),t)," ",(e=document.createElementNS(n,"path"),e.setAttribute("d","M24.3 5.093c-.218-.76-.54-1.187-1.208-1.187h-4.856l1.018 1.18h3.948l2.043 11.038h-7.193v2.728H9.114v-2.725h-7.36l2.66-11.04h3.33l1.018-1.18H3.907c-.668 0-1.06.46-1.21 1.186L0 16.456v7.062C0 24.338.676 25 1.51 25h23.98c.833 0 1.51-.663 1.51-1.482v-7.062L24.3 5.093z"),e)," "]),r},closeIcon:function(){var t,e;return(e=document.createElementNS(n,"svg")).setAttribute("width","14px"),e.setAttribute("height","14px"),e.setAttribute("viewBox","0 0 19 19"),e.setAttribute("class","UppyIcon"),o(e,[" ",(t=document.createElementNS(n,"path"),t.setAttribute("d","M17.318 17.232L9.94 9.854 9.586 9.5l-.354.354-7.378 7.378h.707l-.62-.62v.706L9.318 9.94l.354-.354-.354-.354L1.94 1.854v.707l.62-.62h-.706l7.378 7.378.354.354.354-.354 7.378-7.378h-.707l.622.62v-.706L9.854 9.232l-.354.354.354.354 7.378 7.378.708-.707-7.38-7.378v.708l7.38-7.38.353-.353-.353-.353-.622-.622-.353-.353-.354.352-7.378 7.38h.708L2.56 1.23 2.208.88l-.353.353-.622.62-.353.355.352.353 7.38 7.38v-.708l-7.38 7.38-.353.353.352.353.622.622.353.353.354-.353 7.38-7.38h-.708l7.38 7.38z"),t)," "]),e},pluginIcon:function(){var t,e,r;return(r=document.createElementNS(n,"svg")).setAttribute("width","16px"),r.setAttribute("height","16px"),r.setAttribute("viewBox","0 0 32 30"),r.setAttribute("class","UppyIcon"),o(r,[" ",(t=document.createElementNS(n,"path"),t.setAttribute("d","M6.6209894,11.1451162 C6.6823051,11.2751669 6.81374248,11.3572188 6.95463813,11.3572188 L12.6925482,11.3572188 L12.6925482,16.0630427 C12.6925482,17.880509 14.1726048,18.75 16.0000083,18.75 C17.8261072,18.75 19.3074684,17.8801847 19.3074684,16.0630427 L19.3074684,11.3572188 L25.0437478,11.3572188 C25.1875787,11.3572188 25.3164069,11.2751669 25.3790272,11.1451162 C25.4370814,11.0173358 25.4171865,10.8642587 25.3252129,10.7562615 L16.278212,0.127131837 C16.2093949,0.0463771751 16.1069846,0 15.9996822,0 C15.8910751,0 15.7886648,0.0463771751 15.718217,0.127131837 L6.6761083,10.7559371 C6.58250402,10.8642587 6.56293518,11.0173358 6.6209894,11.1451162 L6.6209894,11.1451162 Z"),t)," ",(e=document.createElementNS(n,"path"),e.setAttribute("d","M28.8008722,6.11142645 C28.5417891,5.19831555 28.1583331,4.6875 27.3684848,4.6875 L21.6124454,4.6875 L22.8190234,6.10307874 L27.4986725,6.10307874 L29.9195817,19.3486449 L21.3943891,19.3502502 L21.3943891,22.622552 L10.8023461,22.622552 L10.8023461,19.3524977 L2.07815702,19.3534609 L5.22979699,6.10307874 L9.17871529,6.10307874 L10.3840011,4.6875 L4.6308691,4.6875 C3.83940559,4.6875 3.37421888,5.2390909 3.19815864,6.11142645 L0,19.7470874 L0,28.2212959 C0,29.2043992 0.801477937,30 1.78870751,30 L30.2096773,30 C31.198199,30 32,29.2043992 32,28.2212959 L32,19.7470874 L28.8008722,6.11142645 L28.8008722,6.11142645 Z"),e)," "]),r},checkIcon:function(){var t,e;return(e=document.createElementNS(n,"svg")).setAttribute("width","13px"),e.setAttribute("height","9px"),e.setAttribute("viewBox","0 0 13 9"),e.setAttribute("class","UppyIcon UppyIcon-check"),o(e,[" ",(t=document.createElementNS(n,"polygon"),t.setAttribute("points","5 7.293 1.354 3.647 0.646 4.354 5 8.707 12.354 1.354 11.646 0.647"),t)]),e},iconAudio:function(){var t,e;return(e=document.createElementNS(n,"svg")).setAttribute("viewBox","0 0 55 55"),e.setAttribute("class","UppyIcon"),o(e,[" ",(t=document.createElementNS(n,"path"),t.setAttribute("d","M52.66.25c-.216-.19-.5-.276-.79-.242l-31 4.01a1 1 0 0 0-.87.992V40.622C18.174 38.428 15.273 37 12 37c-5.514 0-10 4.037-10 9s4.486 9 10 9 10-4.037 10-9c0-.232-.02-.46-.04-.687.014-.065.04-.124.04-.192V16.12l29-3.753v18.257C49.174 28.428 46.273 27 43 27c-5.514 0-10 4.037-10 9s4.486 9 10 9c5.464 0 9.913-3.966 9.993-8.867 0-.013.007-.024.007-.037V1a.998.998 0 0 0-.34-.75zM12 53c-4.41 0-8-3.14-8-7s3.59-7 8-7 8 3.14 8 7-3.59 7-8 7zm31-10c-4.41 0-8-3.14-8-7s3.59-7 8-7 8 3.14 8 7-3.59 7-8 7zM22 14.1V5.89l29-3.753v8.21l-29 3.754z"),t)," "]),e},iconVideo:function(){var t,e,r;return(r=document.createElementNS(n,"svg")).setAttribute("viewBox","0 0 58 58"),r.setAttribute("class","UppyIcon"),o(r,[" ",(t=document.createElementNS(n,"path"),t.setAttribute("d","M36.537 28.156l-11-7a1.005 1.005 0 0 0-1.02-.033C24.2 21.3 24 21.635 24 22v14a1 1 0 0 0 1.537.844l11-7a1.002 1.002 0 0 0 0-1.688zM26 34.18V23.82L34.137 29 26 34.18z"),t),(e=document.createElementNS(n,"path"),e.setAttribute("d","M57 6H1a1 1 0 0 0-1 1v44a1 1 0 0 0 1 1h56a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1zM10 28H2v-9h8v9zm-8 2h8v9H2v-9zm10 10V8h34v42H12V40zm44-12h-8v-9h8v9zm-8 2h8v9h-8v-9zm8-22v9h-8V8h8zM2 8h8v9H2V8zm0 42v-9h8v9H2zm54 0h-8v-9h8v9z"),e)," "]),r},iconPDF:function(){var t,e;return(e=document.createElementNS(n,"svg")).setAttribute("viewBox","0 0 342 335"),e.setAttribute("class","UppyIcon"),o(e,[" ",(t=document.createElementNS(n,"path"),t.setAttribute("d","M329.337 227.84c-2.1 1.3-8.1 2.1-11.9 2.1-12.4 0-27.6-5.7-49.1-14.9 8.3-.6 15.8-.9 22.6-.9 12.4 0 16 0 28.2 3.1 12.1 3 12.2 9.3 10.2 10.6zm-215.1 1.9c4.8-8.4 9.7-17.3 14.7-26.8 12.2-23.1 20-41.3 25.7-56.2 11.5 20.9 25.8 38.6 42.5 52.8 2.1 1.8 4.3 3.5 6.7 5.3-34.1 6.8-63.6 15-89.6 24.9zm39.8-218.9c6.8 0 10.7 17.06 11 33.16.3 16-3.4 27.2-8.1 35.6-3.9-12.4-5.7-31.8-5.7-44.5 0 0-.3-24.26 2.8-24.26zm-133.4 307.2c3.9-10.5 19.1-31.3 41.6-49.8 1.4-1.1 4.9-4.4 8.1-7.4-23.5 37.6-39.3 52.5-49.7 57.2zm315.2-112.3c-6.8-6.7-22-10.2-45-10.5-15.6-.2-34.3 1.2-54.1 3.9-8.8-5.1-17.9-10.6-25.1-17.3-19.2-18-35.2-42.9-45.2-70.3.6-2.6 1.2-4.8 1.7-7.1 0 0 10.8-61.5 7.9-82.3-.4-2.9-.6-3.7-1.4-5.9l-.9-2.5c-2.9-6.76-8.7-13.96-17.8-13.57l-5.3-.17h-.1c-10.1 0-18.4 5.17-20.5 12.84-6.6 24.3.2 60.5 12.5 107.4l-3.2 7.7c-8.8 21.4-19.8 43-29.5 62l-1.3 2.5c-10.2 20-19.5 37-27.9 51.4l-8.7 4.6c-.6.4-15.5 8.2-19 10.3-29.6 17.7-49.28 37.8-52.54 53.8-1.04 5-.26 11.5 5.01 14.6l8.4 4.2c3.63 1.8 7.53 2.7 11.43 2.7 21.1 0 45.6-26.2 79.3-85.1 39-12.7 83.4-23.3 122.3-29.1 29.6 16.7 66 28.3 89 28.3 4.1 0 7.6-.4 10.5-1.2 4.4-1.1 8.1-3.6 10.4-7.1 4.4-6.7 5.4-15.9 4.1-25.4-.3-2.8-2.6-6.3-5-8.7z"),t)," "]),e},iconFile:function(){var t,e;return(e=document.createElementNS(n,"svg")).setAttribute("width","44"),e.setAttribute("height","58"),e.setAttribute("viewBox","0 0 44 58"),e.setAttribute("class","UppyIcon"),o(e,[" ",(t=document.createElementNS(n,"path"),t.setAttribute("d","M27.437.517a1 1 0 0 0-.094.03H4.25C2.037.548.217 2.368.217 4.58v48.405c0 2.212 1.82 4.03 4.03 4.03H39.03c2.21 0 4.03-1.818 4.03-4.03V15.61a1 1 0 0 0-.03-.28 1 1 0 0 0 0-.093 1 1 0 0 0-.03-.032 1 1 0 0 0 0-.03 1 1 0 0 0-.032-.063 1 1 0 0 0-.03-.063 1 1 0 0 0-.032 0 1 1 0 0 0-.03-.063 1 1 0 0 0-.032-.03 1 1 0 0 0-.03-.063 1 1 0 0 0-.063-.062l-14.593-14a1 1 0 0 0-.062-.062A1 1 0 0 0 28 .708a1 1 0 0 0-.374-.157 1 1 0 0 0-.156 0 1 1 0 0 0-.03-.03l-.003-.003zM4.25 2.547h22.218v9.97c0 2.21 1.82 4.03 4.03 4.03h10.564v36.438a2.02 2.02 0 0 1-2.032 2.032H4.25c-1.13 0-2.032-.9-2.032-2.032V4.58c0-1.13.902-2.032 2.03-2.032zm24.218 1.345l10.375 9.937.75.718H30.5c-1.13 0-2.032-.9-2.032-2.03V3.89z"),t)," "]),e},iconText:function(){var t,e,r;return(r=document.createElementNS(n,"svg")).setAttribute("viewBox","0 0 64 64"),r.setAttribute("class","UppyIcon"),o(r,[" ",(t=document.createElementNS(n,"path"),t.setAttribute("d","M8 64h48V0H22.586L8 14.586V64zm46-2H10V16h14V2h30v60zM11.414 14L22 3.414V14H11.414z"),t)," ",(e=document.createElementNS(n,"path"),e.setAttribute("d","M32 13h14v2H32zM18 23h28v2H18zM18 33h28v2H18zM18 43h28v2H18zM18 53h28v2H18z"),e)," "]),r},uploadIcon:function(){var t,e,r;return(r=document.createElementNS(n,"svg")).setAttribute("width","37"),r.setAttribute("height","33"),r.setAttribute("viewBox","0 0 37 33"),r.setAttribute("class","UppyIcon"),o(r,[" ",(t=document.createElementNS(n,"path"),t.setAttribute("d","M29.107 24.5c4.07 0 7.393-3.355 7.393-7.442 0-3.994-3.105-7.307-7.012-7.502l.468.415C29.02 4.52 24.34.5 18.886.5c-4.348 0-8.27 2.522-10.138 6.506l.446-.288C4.394 6.782.5 10.758.5 15.608c0 4.924 3.906 8.892 8.76 8.892h4.872c.635 0 1.095-.467 1.095-1.104 0-.636-.46-1.103-1.095-1.103H9.26c-3.644 0-6.63-3.035-6.63-6.744 0-3.71 2.926-6.685 6.57-6.685h.964l.14-.28.177-.362c1.477-3.4 4.744-5.576 8.347-5.576 4.58 0 8.45 3.452 9.01 8.072l.06.536.05.446h1.101c2.87 0 5.204 2.37 5.204 5.295s-2.333 5.296-5.204 5.296h-6.062c-.634 0-1.094.467-1.094 1.103 0 .637.46 1.104 1.094 1.104h6.12z"),t)," ",(e=document.createElementNS(n,"path"),e.setAttribute("d","M23.196 18.92l-4.828-5.258-.366-.4-.368.398-4.828 5.196a1.13 1.13 0 0 0 0 1.546c.428.46 1.11.46 1.537 0l3.45-3.71-.868-.34v15.03c0 .64.445 1.118 1.075 1.118.63 0 1.075-.48 1.075-1.12V16.35l-.867.34 3.45 3.712a1 1 0 0 0 .767.345 1 1 0 0 0 .77-.345c.416-.33.416-1.036 0-1.485v.003z"),e)," "]),r},dashboardBgIcon:function(){var t,e;return(e=document.createElementNS(n,"svg")).setAttribute("width","48"),e.setAttribute("height","69"),e.setAttribute("viewBox","0 0 48 69"),e.setAttribute("class","UppyIcon"),o(e,[" ",(t=document.createElementNS(n,"path"),t.setAttribute("d","M.5 1.5h5zM10.5 1.5h5zM20.5 1.5h5zM30.504 1.5h5zM45.5 11.5v5zM45.5 21.5v5zM45.5 31.5v5zM45.5 41.502v5zM45.5 51.502v5zM45.5 61.5v5zM45.5 66.502h-4.998zM35.503 66.502h-5zM25.5 66.502h-5zM15.5 66.502h-5zM5.5 66.502h-5zM.5 66.502v-5zM.5 56.502v-5zM.5 46.503V41.5zM.5 36.5v-5zM.5 26.5v-5zM.5 16.5v-5zM.5 6.5V1.498zM44.807 11H36V2.195z"),t)," "]),e}}},1351:function(t,e,r){(function(e){var r;r="undefined"!==typeof window?window:"undefined"!==typeof e?e:"undefined"!==typeof self?self:{},t.exports=r}).call(this,r(40))},1359:function(t,e,r){var n=r(4);t.exports=function(t){if("number"!==typeof t||isNaN(t))throw new TypeError("Expected a number, got "+n(t));var e=t<0,r=["B","KB","MB","GB","TB","PB","EB","ZB","YB"];e&&(t=-t);if(t<1)return(e?"-":"")+t+" B";var o=Math.min(Math.floor(Math.log(t)/Math.log(1e3)),r.length-1);t=Number(t/Math.pow(1e3,o));var i=r[o];return t>=10||t%1===0?(e?"-":"")+t.toFixed(0)+" "+i:(e?"-":"")+t.toFixed(1)+" "+i}},1552:function(t,e,r){(function(n,o){var i,s=r(4);(function(){"use strict";function a(t){return"function"===typeof t}var u,c,l=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},p=0,d=function(t,e){x[p]=t,x[p+1]=e,2===(p+=2)&&(c?c(U):y())};var f="undefined"!==typeof window?window:void 0,h=f||{},m=h.MutationObserver||h.WebKitMutationObserver,b="undefined"===typeof self&&"undefined"!==typeof n&&"[object process]"==={}.toString.call(n),g="undefined"!==typeof Uint8ClampedArray&&"undefined"!==typeof importScripts&&"undefined"!==typeof MessageChannel;function v(){return function(){setTimeout(U,1)}}var y,A,w,S,E,x=new Array(1e3);function U(){for(var t=0;t<p;t+=2){(0,x[t])(x[t+1]),x[t]=void 0,x[t+1]=void 0}p=0}b?y=function(){n.nextTick(U)}:m?(w=0,S=new m(U),E=document.createTextNode(""),S.observe(E,{characterData:!0}),y=function(){E.data=w=++w%2}):g?((A=new MessageChannel).port1.onmessage=U,y=function(){A.port2.postMessage(0)}):y=void 0===f?function(){try{var t=r(2396);return u=t.runOnLoop||t.runOnContext,function(){u(U)}}catch(e){return v()}}():v();var _=function(t,e){var r=this,n=new this.constructor(I);void 0===n[T]&&G(n);var o=r._state;if(o){var i=arguments[o-1];d(function(){V(o,n,i,r._result)})}else B(r,n,t,e);return n};var P=function(t){if(t&&"object"===s(t)&&t.constructor===this)return t;var e=new this(I);return F(e,t),e},T=Math.random().toString(36).substring(16);function I(){}var M=void 0,D=1,k=2,N=new q;function C(t){try{return t.then}catch(e){return N.error=e,N}}function O(t,e,r){e.constructor===t.constructor&&r===_&&constructor.resolve===P?function(t,e){e._state===D?j(t,e._result):e._state===k?R(t,e._result):B(e,void 0,function(e){F(t,e)},function(e){R(t,e)})}(t,e):r===N?R(t,N.error):void 0===r?j(t,e):a(r)?function(t,e,r){d(function(t){var n=!1,o=function(t,e,r,n){try{t.call(e,r,n)}catch(o){return o}}(r,e,function(r){n||(n=!0,e!==r?F(t,r):j(t,r))},function(e){n||(n=!0,R(t,e))},t._label);!n&&o&&(n=!0,R(t,o))},t)}(t,e,r):j(t,e)}function F(t,e){var r;t===e?R(t,new TypeError("You cannot resolve a promise with itself")):"function"===typeof(r=e)||"object"===s(r)&&null!==r?O(t,e,C(e)):j(t,e)}function z(t){t._onerror&&t._onerror(t._result),L(t)}function j(t,e){t._state===M&&(t._result=e,t._state=D,0!==t._subscribers.length&&d(L,t))}function R(t,e){t._state===M&&(t._state=k,t._result=e,d(z,t))}function B(t,e,r,n){var o=t._subscribers,i=o.length;t._onerror=null,o[i]=e,o[i+D]=r,o[i+k]=n,0===i&&t._state&&d(L,t)}function L(t){var e=t._subscribers,r=t._state;if(0!==e.length){for(var n,o,i=t._result,s=0;s<e.length;s+=3)n=e[s],o=e[s+r],n?V(r,n,o,i):o(i);t._subscribers.length=0}}function q(){this.error=null}var H=new q;function V(t,e,r,n){var o,i,s,u,c=a(r);if(c){if((o=function(t,e){try{return t(e)}catch(r){return H.error=r,H}}(r,n))===H?(u=!0,i=o.error,o=null):s=!0,e===o)return void R(e,new TypeError("A promises callback cannot return that same promise."))}else o=n,s=!0;e._state!==M||(c&&s?F(e,o):u?R(e,i):t===D?j(e,o):t===k&&R(e,o))}var W=0;function G(t){t[T]=W++,t._state=void 0,t._result=void 0,t._subscribers=[]}var X=function(t){return new J(this,t).promise};var Y=function(t){var e=this;return l(t)?new e(function(r,n){for(var o=t.length,i=0;i<o;i++)e.resolve(t[i]).then(r,n)}):new e(function(t,e){e(new TypeError("You must pass an array to race."))})};var $=function(t){var e=new this(I);return R(e,t),e};var K=Z;function Z(t){this[T]=W++,this._result=this._state=void 0,this._subscribers=[],I!==t&&("function"!==typeof t&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof Z?function(t,e){try{e(function(e){F(t,e)},function(e){R(t,e)})}catch(r){R(t,r)}}(this,t):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}Z.all=X,Z.race=Y,Z.resolve=P,Z.reject=$,Z._setScheduler=function(t){c=t},Z._setAsap=function(t){d=t},Z._asap=d,Z.prototype={constructor:Z,then:_,catch:function(t){return this.then(null,t)}};var J=Q;function Q(t,e){this._instanceConstructor=t,this.promise=new t(I),this.promise[T]||G(this.promise),l(e)?(this._input=e,this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?j(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&j(this.promise,this._result))):R(this.promise,new Error("Array Methods must be provided an Array"))}Q.prototype._enumerate=function(){for(var t=this.length,e=this._input,r=0;this._state===M&&r<t;r++)this._eachEntry(e[r],r)},Q.prototype._eachEntry=function(t,e){var r=this._instanceConstructor,n=r.resolve;if(n===P){var o=C(t);if(o===_&&t._state!==M)this._settledAt(t._state,e,t._result);else if("function"!==typeof o)this._remaining--,this._result[e]=t;else if(r===K){var i=new r(I);O(i,t,o),this._willSettleAt(i,e)}else this._willSettleAt(new r(function(e){e(t)}),e)}else this._willSettleAt(n(t),e)},Q.prototype._settledAt=function(t,e,r){var n=this.promise;n._state===M&&(this._remaining--,t===k?R(n,r):this._result[e]=r),0===this._remaining&&j(n,this._result)},Q.prototype._willSettleAt=function(t,e){var r=this;B(t,void 0,function(t){r._settledAt(D,e,t)},function(t){r._settledAt(k,e,t)})};var tt=function(){var t;if("undefined"!==typeof o)t=o;else if("undefined"!==typeof self)t=self;else try{t=Function("return this")()}catch(r){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;e&&"[object Promise]"===Object.prototype.toString.call(e.resolve())&&!e.cast||(t.Promise=K)},et={Promise:K,polyfill:tt};void 0===(i=function(){return et}.call(e,r,e,t))||(t.exports=i),tt()}).call(this)}).call(this,r(107),r(40))},1553:function(t,e,r){"use strict";var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t};t.exports=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var r={locale:{strings:{},pluralize:function(t){return 1===t?0:1}}};this.opts=n({},r,e),this.locale=n({},r.locale,e.locale)}return t.prototype.interpolate=function(t,e){var r=String.prototype.replace,n=/\$/g;for(var o in e)if("_"!==o&&e.hasOwnProperty(o)){var i=e[o];"string"===typeof i&&(i=r.call(e[o],n,"$$$$")),t=r.call(t,new RegExp("%\\{"+o+"\\}","g"),i)}return t},t.prototype.translate=function(t,e){if(e&&e.smart_count){var r=this.locale.pluralize(e.smart_count);return this.interpolate(this.opts.locale.strings[t][r],e)}return this.interpolate(this.opts.locale.strings[t],e)},t}()},1554:function(t,e,r){(function(e){var n,o="undefined"!==typeof e?e:"undefined"!==typeof window?window:{},i=r(2404);"undefined"!==typeof document?n=document:(n=o["__GLOBAL_DOCUMENT_CACHE@4"])||(n=o["__GLOBAL_DOCUMENT_CACHE@4"]=i),t.exports=n}).call(this,r(40))},1555:function(t,e,r){var n=r(1554),o=r(1351),i=Object.create(null),s="data-"+("onloadid"+(new Date%9e6).toString(36)),a=0;o&&o.MutationObserver&&new MutationObserver(function(t){if(!(Object.keys(i).length<1))for(var e=0;e<t.length;e++)t[e].attributeName!==s?(p(t[e].removedNodes,c),p(t[e].addedNodes,u)):l(t[e],u,c)}).observe(n.body,{childList:!0,subtree:!0,attributes:!0,attributeOldValue:!0,attributeFilter:[s]});function u(t,e){i[t][0]&&0===i[t][2]&&(i[t][0](e),i[t][2]=1)}function c(t,e){i[t][1]&&1===i[t][2]&&(i[t][1](e),i[t][2]=0)}function l(t,e,r){var n=t.target.getAttribute(s);!function(t,e){return!(!t||!e)&&i[t][3]===i[e][3]}(t.oldValue,n)?(i[t.oldValue]&&r(t.oldValue,t.target),i[n]&&e(n,t.target)):i[n]=i[t.oldValue]}function p(t,e){for(var r=Object.keys(i),n=0;n<t.length;n++){if(t[n]&&t[n].getAttribute&&t[n].getAttribute(s)){var o=t[n].getAttribute(s);r.forEach(function(r){o===r&&e(r,t[n])})}t[n].childNodes.length>0&&p(t[n].childNodes,e)}}t.exports=function t(e,r,n,o){return r=r||function(){},n=n||function(){},e.setAttribute(s,"o"+a),i["o"+a]=[r,n,0,o||t.caller],a+=1,e}},1556:function(t,e,r){"use strict";var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();r(1760);var o=function(t){return t.split("-").map(function(t){return t.charAt(0).toUpperCase()+t.slice(1)}).join(" ")};t.exports=function(){function t(e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.core=e,this.opts=r,this.provider=r.provider,this.id=this.provider,this.authProvider=r.authProvider||this.provider,this.name=this.opts.name||o(this.id),this.onReceiveResponse=this.onReceiveResponse.bind(this)}return n(t,[{key:"onReceiveResponse",value:function(t){var e,r,n,o=this.core.state.uppyServer||{},i=this.opts.host,s=t.headers;return s.has("i-am")&&s.get("i-am")!==o[i]&&this.core.setState({uppyServer:Object.assign({},o,(e={},r=i,n=s.get("i-am"),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e))}),t}},{key:"checkAuth",value:function(){return fetch(this.hostname+"/"+this.id+"/authorized",{method:"get",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(this.onReceiveResponse).then(function(t){return t.json().then(function(t){return t.authenticated})})}},{key:"authUrl",value:function(){return this.opts.host+"/"+this.id+"/connect"}},{key:"fileUrl",value:function(t){return this.opts.host+"/"+this.id+"/get/"+t}},{key:"list",value:function(t){return fetch(this.hostname+"/"+this.id+"/list/"+(t||""),{method:"get",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(this.onReceiveResponse).then(function(t){return t.json()})}},{key:"logout",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:location.href;return fetch(this.hostname+"/"+this.id+"/logout?redirect="+t,{method:"get",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"}})}},{key:"hostname",get:function(){var t=this.core.state.uppyServer||{},e=this.opts.host;return t[e]||e}}]),t}()},1557:function(t,e,r){"use strict";var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t};var o=r(2428),i=r(2429),s=r(1761),a=r(1112);t.exports=function(){function t(e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.plugin=e,this.Provider=e[e.id];this.opts=n({},{viewType:"list"},r),this.addFile=this.addFile.bind(this),this.filterItems=this.filterItems.bind(this),this.filterQuery=this.filterQuery.bind(this),this.toggleSearch=this.toggleSearch.bind(this),this.getFolder=this.getFolder.bind(this),this.getNextFolder=this.getNextFolder.bind(this),this.logout=this.logout.bind(this),this.checkAuth=this.checkAuth.bind(this),this.handleAuth=this.handleAuth.bind(this),this.handleDemoAuth=this.handleDemoAuth.bind(this),this.sortByTitle=this.sortByTitle.bind(this),this.sortByDate=this.sortByDate.bind(this),this.isActiveRow=this.isActiveRow.bind(this),this.handleError=this.handleError.bind(this),this.handleScroll=this.handleScroll.bind(this),this.render=this.render.bind(this)}return t.prototype.updateState=function(t){var e,r=this.plugin.stateId,o=this.plugin.core.state;this.plugin.core.setState(((e={})[r]=n({},o[r],t),e))},t.prototype._updateFilesAndFolders=function(t,e,r){var n=this;this.plugin.getItemSubList(t).forEach(function(t){n.plugin.isFolder(t)?r.push(t):e.push(t)}),this.updateState({folders:r,files:e})},t.prototype.checkAuth=function(){var t=this;this.updateState({checkAuthInProgress:!0}),this.Provider.checkAuth().then(function(e){t.updateState({checkAuthInProgress:!1}),t.plugin.onAuth(e)}).catch(function(e){t.updateState({checkAuthInProgress:!1}),t.handleError(e)})},t.prototype.getFolder=function(t,e){var r=this;return this._loaderWrapper(this.Provider.list(t),function(n){var o=void 0,i=r.plugin.core.getState()[r.plugin.stateId],s=i.directories.findIndex(function(e){return t===e.id});o=-1!==s?i.directories.slice(0,s+1):i.directories.concat([{id:t,title:e||r.plugin.getItemName(n)}]),r._updateFilesAndFolders(n,[],[]),r.updateState({directories:o})},this.handleError)},t.prototype.getNextFolder=function(t){var e=this.plugin.getItemRequestPath(t);this.getFolder(e,this.plugin.getItemName(t))},t.prototype.addFile=function(t){var e=this,r={source:this.plugin.id,data:this.plugin.getItemData(t),name:this.plugin.getItemName(t)||this.plugin.getItemId(t),type:this.plugin.getMimeType(t),isRemote:!0,body:{fileId:this.plugin.getItemId(t)},remote:{host:this.plugin.opts.host,url:""+this.Provider.fileUrl(this.plugin.getItemRequestPath(t)),body:{fileId:this.plugin.getItemId(t)}}};a.getFileType(r).then(function(n){a.isPreviewSupported(n[1])&&(r.preview=e.plugin.getItemThumbnailUrl(t)),e.plugin.core.log("Adding remote file"),e.plugin.core.addFile(r)})},t.prototype.logout=function(){var t=this;this.Provider.logout(location.href).then(function(t){return t.json()}).then(function(e){if(e.ok){t.updateState({authenticated:!1,files:[],folders:[],directories:[]})}}).catch(this.handleError)},t.prototype.filterQuery=function(t){var e=this.plugin.core.getState()[this.plugin.stateId];this.updateState(n({},e,{filterInput:t.target.value}))},t.prototype.toggleSearch=function(){var t=this.plugin.core.getState()[this.plugin.stateId],e=document.querySelector(".Browser-searchInput");this.updateState(n({},t,{isSearchVisible:!t.isSearchVisible,filterInput:""})),e.value="",t.isSearchVisible||e.focus()},t.prototype.filterItems=function(t){var e=this,r=this.plugin.core.getState()[this.plugin.stateId];return t.filter(function(t){return-1!==e.plugin.getItemName(t).toLowerCase().indexOf(r.filterInput.toLowerCase())})},t.prototype.sortByTitle=function(){var t=this,e=n({},this.plugin.core.getState()[this.plugin.stateId]),r=e.files,o=e.folders,i=e.sorting,s=r.sort(function(e,r){return"titleDescending"===i?t.plugin.getItemName(r).localeCompare(t.plugin.getItemName(e)):t.plugin.getItemName(e).localeCompare(t.plugin.getItemName(r))}),a=o.sort(function(e,r){return"titleDescending"===i?t.plugin.getItemName(r).localeCompare(t.plugin.getItemName(e)):t.plugin.getItemName(e).localeCompare(t.plugin.getItemName(r))});this.updateState(n({},e,{files:s,folders:a,sorting:"titleDescending"===i?"titleAscending":"titleDescending"}))},t.prototype.sortByDate=function(){var t=this,e=n({},this.plugin.core.getState()[this.plugin.stateId]),r=e.files,o=e.folders,i=e.sorting,s=r.sort(function(e,r){var n=new Date(t.plugin.getItemModifiedDate(e)),o=new Date(t.plugin.getItemModifiedDate(r));return"dateDescending"===i?n>o?-1:n<o?1:0:n>o?1:n<o?-1:0}),a=o.sort(function(e,r){var n=new Date(t.plugin.getItemModifiedDate(e)),o=new Date(t.plugin.getItemModifiedDate(r));return"dateDescending"===i?n>o?-1:n<o?1:0:n>o?1:n<o?-1:0});this.updateState(n({},e,{files:s,folders:a,sorting:"dateDescending"===i?"dateAscending":"dateDescending"}))},t.prototype.sortBySize=function(){var t=this,e=n({},this.plugin.core.getState()[this.plugin.stateId]),r=e.files,o=e.sorting;if(r.length&&this.plugin.getItemData(r[0]).size){var i=r.sort(function(e,r){var n=t.plugin.getItemData(e).size,i=t.plugin.getItemData(r).size;return"sizeDescending"===o?n>i?-1:n<i?1:0:n>i?1:n<i?-1:0});this.updateState(n({},e,{files:i,sorting:"sizeDescending"===o?"sizeAscending":"sizeDescending"}))}},t.prototype.isActiveRow=function(t){return this.plugin.core.getState()[this.plugin.stateId].activeRow===this.plugin.getItemId(t)},t.prototype.handleDemoAuth=function(){var t=this.plugin.core.getState()[this.plugin.stateId];this.updateState({},t,{authenticated:!0})},t.prototype.handleAuth=function(){var t=this,e=Math.floor(999999*Math.random())+1,r=location.href+(location.search?"&":"?")+"id="+e,n=btoa(JSON.stringify({redirect:r})),o=this.Provider.authUrl()+"?state="+n,i=window.open(o,"_blank");!function e(){var n=void 0;try{n=i.location.href}catch(o){if(o instanceof DOMException||o instanceof TypeError)return setTimeout(e,100);throw o}n&&n.split("#")[0]===r?(i.close(),t._loaderWrapper(t.Provider.checkAuth(),t.plugin.onAuth,t.handleError)):setTimeout(e,100)}()},t.prototype.handleError=function(t){var e=this.plugin.core,r=e.i18n("uppyServerError");e.log(t.toString()),e.emit("informer",r,"error",5e3)},t.prototype.handleScroll=function(t){var e=this,r=t.target.scrollHeight-(t.target.scrollTop+t.target.offsetHeight),n=this.plugin.getNextPagePath?this.plugin.getNextPagePath():null;r<50&&n&&!this._isHandlingScroll&&(this.Provider.list(n).then(function(t){var r=e.plugin.core.getState()[e.plugin.stateId],n=r.files,o=r.folders;e._updateFilesAndFolders(t,n,o)}).catch(this.handleError).then(function(){e._isHandlingScroll=!1}),this._isHandlingScroll=!0)},t.prototype._loaderWrapper=function(t,e,r){var n=this;t.then(e).catch(r).then(function(){return n.updateState({loading:!1})}),this.updateState({loading:!0})},t.prototype.render=function(t){var e=t[this.plugin.stateId],r=e.authenticated,a=e.checkAuthInProgress;if(e.loading)return s();if(!r)return o({pluginName:this.plugin.title,demo:this.plugin.opts.demo,checkAuth:this.checkAuth,handleAuth:this.handleAuth,handleDemoAuth:this.handleDemoAuth,checkAuthInProgress:a});var u=n({},t[this.plugin.stateId],{getNextFolder:this.getNextFolder,getFolder:this.getFolder,addFile:this.addFile,filterItems:this.filterItems,filterQuery:this.filterQuery,toggleSearch:this.toggleSearch,sortByTitle:this.sortByTitle,sortByDate:this.sortByDate,logout:this.logout,demo:this.plugin.opts.demo,isActiveRow:this.isActiveRow,getItemName:this.plugin.getItemName,getItemIcon:this.plugin.getItemIcon,handleScroll:this.handleScroll,title:this.plugin.title,viewType:this.opts.viewType});return i(u)},t}()},1756:function(t,e,r){"use strict";var n=r(1757);t.exports=function(){function t(e){var r=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.queued=[],this.isOpen=!1,this.socket=new WebSocket(e.target),this.emitter=n(),this.socket.onopen=function(t){for(r.isOpen=!0;r.queued.length>0&&r.isOpen;){var e=r.queued[0];r.send(e.action,e.payload),r.queued=r.queued.slice(1)}},this.socket.onclose=function(t){r.isOpen=!1},this._handleMessage=this._handleMessage.bind(this),this.socket.onmessage=this._handleMessage,this.close=this.close.bind(this),this.emit=this.emit.bind(this),this.on=this.on.bind(this),this.once=this.once.bind(this),this.send=this.send.bind(this)}return t.prototype.close=function(){return this.socket.close()},t.prototype.send=function(t,e){this.isOpen?this.socket.send(JSON.stringify({action:t,payload:e})):this.queued.push({action:t,payload:e})},t.prototype.on=function(t,e){console.log(t),this.emitter.on(t,e)},t.prototype.emit=function(t,e){console.log(t),this.emitter.emit(t,e)},t.prototype.once=function(t,e){this.emitter.once(t,e)},t.prototype._handleMessage=function(t){try{var e=JSON.parse(t.data);console.log(e),this.emit(e.action,e.payload)}catch(r){console.log(r)}},t}()},1757:function(t,e){t.exports=function(){var t={_fns:{}};function e(t,e,r){for(var n=0;n<e.length&&e[n];n++)e[n].event=t,e[n].apply(e[n],r)}return t.emit=function(r){var n=[].slice.call(arguments,1),o=function(e){var r=[],n=e.split(":"),o=t._fns;return Object.keys(o).forEach(function(t){"*"===t&&(r=r.concat(o[t])),2===n.length&&n[0]===t&&(r=r.concat(o[t]))}),r}(r);this._fns[r]&&e(r,this._fns[r],n),o&&e(r,o,n)},t.on=function(t,e){if("function"!==typeof e)throw new Error("callback required");(this._fns[t]=this._fns[t]||[]).push(e)},t.once=function(e,r){this.on(e,function n(){r.apply(this,arguments),t.off(e,n)})},t.off=function(t,e){var r=[];if(t&&e)for(var n=0;n<this._fns.length;n++)this._fns[n]!==e&&r.push(this._fns[n]);r.length?this._fns[t]=r:delete this._fns[t]},t}},1758:function(t,e,r){"use strict";var n=r(1153),o=n.iconText,i=n.iconAudio,s=n.iconVideo,a=n.iconPDF;t.exports=function(t,e){return"text"===t?{color:"#000",icon:o()}:"audio"===t?{color:"#1abc9c",icon:i()}:"video"===t?{color:"#2980b9",icon:s()}:"application"===t&&"pdf"===e?{color:"#e74c3c",icon:a()}:"image"===t?{color:"#f2f2f2",icon:""}:{color:"#cbcbcb",icon:""}}},1759:function(t,e,r){"use strict";var n=r(1050);t.exports=function(t){var e,r,o,i=((e=document.createElement("input")).setAttribute("type","file"),e.setAttribute("name","files[]"),e.setAttribute("multiple","multiple"),e.onchange=t.handleInputChange,e.setAttribute("class","UppyDashboard-input"),e);return o=document.createElement("span"),n(o,[" ",0===t.acquirers.length?t.i18n("dropPaste"):t.i18n("dropPasteImport")," ",(r=document.createElement("button"),r.setAttribute("type","button"),r.onclick=function(t){i.click()},r.setAttribute("class","UppyDashboard-browse"),n(r,[t.i18n("browse")]),r)," ",i," "]),o}},1760:function(t,e){!function(t){"use strict";if(!t.fetch){var e={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};if(e.arrayBuffer)var r=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],n=function(t){return t&&DataView.prototype.isPrototypeOf(t)},o=ArrayBuffer.isView||function(t){return t&&r.indexOf(Object.prototype.toString.call(t))>-1};l.prototype.append=function(t,e){t=a(t),e=u(e);var r=this.map[t];this.map[t]=r?r+","+e:e},l.prototype.delete=function(t){delete this.map[a(t)]},l.prototype.get=function(t){return t=a(t),this.has(t)?this.map[t]:null},l.prototype.has=function(t){return this.map.hasOwnProperty(a(t))},l.prototype.set=function(t,e){this.map[a(t)]=u(e)},l.prototype.forEach=function(t,e){for(var r in this.map)this.map.hasOwnProperty(r)&&t.call(e,this.map[r],r,this)},l.prototype.keys=function(){var t=[];return this.forEach(function(e,r){t.push(r)}),c(t)},l.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),c(t)},l.prototype.entries=function(){var t=[];return this.forEach(function(e,r){t.push([r,e])}),c(t)},e.iterable&&(l.prototype[Symbol.iterator]=l.prototype.entries);var i=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];b.prototype.clone=function(){return new b(this,{body:this._bodyInit})},m.call(b.prototype),m.call(v.prototype),v.prototype.clone=function(){return new v(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new l(this.headers),url:this.url})},v.error=function(){var t=new v(null,{status:0,statusText:""});return t.type="error",t};var s=[301,302,303,307,308];v.redirect=function(t,e){if(-1===s.indexOf(e))throw new RangeError("Invalid status code");return new v(null,{status:e,headers:{location:t}})},t.Headers=l,t.Request=b,t.Response=v,t.fetch=function(t,r){return new Promise(function(n,o){var i=new b(t,r),s=new XMLHttpRequest;s.onload=function(){var t,e,r={status:s.status,statusText:s.statusText,headers:(t=s.getAllResponseHeaders()||"",e=new l,t.split(/\r?\n/).forEach(function(t){var r=t.split(":"),n=r.shift().trim();if(n){var o=r.join(":").trim();e.append(n,o)}}),e)};r.url="responseURL"in s?s.responseURL:r.headers.get("X-Request-URL");var o="response"in s?s.response:s.responseText;n(new v(o,r))},s.onerror=function(){o(new TypeError("Network request failed"))},s.ontimeout=function(){o(new TypeError("Network request failed"))},s.open(i.method,i.url,!0),"include"===i.credentials&&(s.withCredentials=!0),"responseType"in s&&e.blob&&(s.responseType="blob"),i.headers.forEach(function(t,e){s.setRequestHeader(e,t)}),s.send("undefined"===typeof i._bodyInit?null:i._bodyInit)})},t.fetch.polyfill=!0}function a(t){if("string"!==typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function u(t){return"string"!==typeof t&&(t=String(t)),t}function c(t){var r={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return e.iterable&&(r[Symbol.iterator]=function(){return r}),r}function l(t){this.map={},t instanceof l?t.forEach(function(t,e){this.append(e,t)},this):Array.isArray(t)?t.forEach(function(t){this.append(t[0],t[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function p(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function d(t){return new Promise(function(e,r){t.onload=function(){e(t.result)},t.onerror=function(){r(t.error)}})}function f(t){var e=new FileReader,r=d(e);return e.readAsArrayBuffer(t),r}function h(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function m(){return this.bodyUsed=!1,this._initBody=function(t){if(this._bodyInit=t,t)if("string"===typeof t)this._bodyText=t;else if(e.blob&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t;else if(e.formData&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else if(e.searchParams&&URLSearchParams.prototype.isPrototypeOf(t))this._bodyText=t.toString();else if(e.arrayBuffer&&e.blob&&n(t))this._bodyArrayBuffer=h(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!e.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(t)&&!o(t))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=h(t)}else this._bodyText="";this.headers.get("content-type")||("string"===typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):e.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},e.blob&&(this.blob=function(){var t=p(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?p(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(f)}),this.text=function(){var t,e,r,n=p(this);if(n)return n;if(this._bodyBlob)return t=this._bodyBlob,e=new FileReader,r=d(e),e.readAsText(t),r;if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),r=new Array(e.length),n=0;n<e.length;n++)r[n]=String.fromCharCode(e[n]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},e.formData&&(this.formData=function(){return this.text().then(g)}),this.json=function(){return this.text().then(JSON.parse)},this}function b(t,e){var r,n,o=(e=e||{}).body;if(t instanceof b){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new l(t.headers)),this.method=t.method,this.mode=t.mode,o||null==t._bodyInit||(o=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"omit",!e.headers&&this.headers||(this.headers=new l(e.headers)),this.method=(r=e.method||this.method||"GET",n=r.toUpperCase(),i.indexOf(n)>-1?n:r),this.mode=e.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&o)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(o)}function g(t){var e=new FormData;return t.trim().split("&").forEach(function(t){if(t){var r=t.split("="),n=r.shift().replace(/\+/g," "),o=r.join("=").replace(/\+/g," ");e.append(decodeURIComponent(n),decodeURIComponent(o))}}),e}function v(t,e){e||(e={}),this.type="default",this.status="status"in e?e.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new l(e.headers),this.url=e.url||"",this._initBody(t)}}("undefined"!==typeof self?self:this)},1761:function(t,e,r){"use strict";var n=r(1050);t.exports=function(t){var e,r;return(r=document.createElement("div")).setAttribute("class","UppyProvider-loading"),n(r,[" ",(e=document.createElement("span"),e.textContent="Loading...",e)," "]),r}},1762:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setItem=function(t,e){if(!n)return;return localStorage.setItem(t,e)},e.getItem=function(t){if(!n)return;return localStorage.getItem(t)},e.removeItem=function(t){if(!n)return;return localStorage.removeItem(t)};var n=!1;try{n="localStorage"in window;var o="tusSupport";localStorage.setItem(o,localStorage.getItem(o))}catch(i){if(i.code!==i.SECURITY_ERR&&i.code!==i.QUOTA_EXCEEDED_ERR)throw i;n=!1}e.canStoreURLs=n},2394:function(t,e,r){"use strict";var n=r(2395);t.exports=n},2395:function(t,e,r){"use strict";(function(e){var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t};var o=r(1112),i=r(1553),s=r(1756),a=r(1757),u=r(2398),c=r(1134),l=r(1359),p=r(2399),d=function(){function t(r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var o={strings:{youCanOnlyUploadX:{0:"You can only upload %{smart_count} file",1:"You can only upload %{smart_count} files"},youHaveToAtLeastSelectX:{0:"You have to select at least %{smart_count} file",1:"You have to select at least %{smart_count} files"},exceedsSize:"This file exceeds maximum allowed size of",youCanOnlyUploadFileTypes:"You can only upload:",uppyServerError:"Connection with Uppy server failed"}},s={autoProceed:!0,debug:!1,restrictions:{maxFileSize:!1,maxNumberOfFiles:!1,minNumberOfFiles:!1,allowedFileTypes:!1},onBeforeFileAdded:function(t,e){return Promise.resolve()},onBeforeUpload:function(t,e){return Promise.resolve()},locale:o};this.opts=n({},s,r),this.locale=n({},o,this.opts.locale),this.locale.strings=n({},o.strings,this.opts.locale.strings),this.translator=new i({locale:this.locale}),this.i18n=this.translator.translate.bind(this.translator),this.plugins={},this.translator=new i({locale:this.opts.locale}),this.i18n=this.translator.translate.bind(this.translator),this.getState=this.getState.bind(this),this.updateMeta=this.updateMeta.bind(this),this.initSocket=this.initSocket.bind(this),this.log=this.log.bind(this),this.addFile=this.addFile.bind(this),this.calculateProgress=this.calculateProgress.bind(this),this.resetProgress=this.resetProgress.bind(this),this.emitter=a(),this.on=this.emitter.on.bind(this.emitter),this.off=this.emitter.off.bind(this.emitter),this.once=this.emitter.once.bind(this.emitter),this.emit=this.emitter.emit.bind(this.emitter),this.preProcessors=[],this.uploaders=[],this.postProcessors=[],this.state={files:{},capabilities:{resumableUploads:!1},totalProgress:0,meta:n({},this.opts.meta),info:{isHidden:!0,type:"",msg:""}},this.updateNum=0,this.opts.debug&&(e.UppyState=this.state,e.uppyLog="",e._uppy=this)}return t.prototype.updateAll=function(t){var e=this;Object.keys(this.plugins).forEach(function(r){e.plugins[r].forEach(function(e){e.update(t)})})},t.prototype.setState=function(t){var e=n({},this.state,t);this.emit("core:state-update",this.state,e,t),this.state=e,this.updateAll(this.state)},t.prototype.getState=function(){return this.state},t.prototype.reset=function(){this.emit("core:pause-all"),this.emit("core:cancel-all"),this.setState({totalProgress:0})},t.prototype.resetProgress=function(){var t={percentage:0,bytesUploaded:0,uploadComplete:!1,uploadStarted:!1},e=n({},this.state.files),r={};Object.keys(e).forEach(function(o){var i=n({},e[o]);i.progress=n({},i.progress,t),r[o]=i}),console.log(r),this.setState({files:r,totalProgress:0})},t.prototype.addPreProcessor=function(t){this.preProcessors.push(t)},t.prototype.removePreProcessor=function(t){var e=this.preProcessors.indexOf(t);-1!==e&&this.preProcessors.splice(e,1)},t.prototype.addPostProcessor=function(t){this.postProcessors.push(t)},t.prototype.removePostProcessor=function(t){var e=this.postProcessors.indexOf(t);-1!==e&&this.postProcessors.splice(e,1)},t.prototype.addUploader=function(t){this.uploaders.push(t)},t.prototype.removeUploader=function(t){var e=this.uploaders.indexOf(t);-1!==e&&this.uploaders.splice(e,1)},t.prototype.setMeta=function(t){var e=n({},this.getState().meta,t);this.log("Adding metadata:"),this.log(t),this.setState({meta:e})},t.prototype.updateMeta=function(t,e){var r=n({},this.getState().files),o=n({},r[e].meta,t);r[e]=n({},r[e],{meta:o}),this.setState({files:r})},t.prototype.checkRestrictions=function(t,e,r){var n=this.opts.restrictions,o=n.maxFileSize,i=n.maxNumberOfFiles,s=n.minNumberOfFiles,a=n.allowedFileTypes;if(t&&s)return!(Object.keys(this.state.files).length<s)||(this.info(""+this.i18n("youHaveToAtLeastSelectX",{smart_count:s}),"error",5e3),!1);if(i&&Object.keys(this.state.files).length+1>i)return this.info(""+this.i18n("youCanOnlyUploadX",{smart_count:i}),"error",5e3),!1;if(a&&!(a.filter(p(r.join("/"))).length>0)){var u=a.join(", ");return this.info(this.i18n("youCanOnlyUploadFileTypes")+" "+u,"error",5e3),!1}return!(o&&e.data.size>o)||(this.info(this.i18n("exceedsSize")+" "+l(o),"error",5e3),!1)},t.prototype.addFile=function(t){var e=this;return this.opts.onBeforeFileAdded(t,this.getState().files).catch(function(t){return e.info(t,"error",5e3),Promise.reject("onBeforeFileAdded: "+t)}).then(function(){return o.getFileType(t).then(function(r){var i=n({},e.state.files),s=t.name||"noname",a=o.getFileNameAndExtension(s)[1],u=t.isRemote||!1,c=o.generateFileID(t),l=r[0],p=r[1],d={source:t.source||"",id:c,name:s,extension:a||"",meta:n({},{name:s},e.getState().meta),type:{general:l,specific:p},data:t.data,progress:{percentage:0,bytesUploaded:0,bytesTotal:t.data.size||0,uploadComplete:!1,uploadStarted:!1},size:t.data.size||"N/A",isRemote:u,remote:t.remote||"",preview:t.preview};if(o.isPreviewSupported(p)&&!u&&(d.preview=o.getThumbnail(t.data)),!e.checkRestrictions(!1,d,r))return Promise.reject("File not allowed");i[c]=d,e.setState({files:i}),e.emit("core:file-added",d),e.log("Added file: "+s+", "+c+", mime type: "+r),e.opts.autoProceed&&!e.scheduledAutoProceed&&(e.scheduledAutoProceed=setTimeout(function(){e.scheduledAutoProceed=null,e.upload().catch(function(t){console.error(t.stack||t.message||t)})},4))})})},t.prototype.getFile=function(t){return this.getState().files[t]},t.prototype.removeFile=function(t){var e=n({},this.getState().files);delete e[t],this.setState({files:e}),this.calculateTotalProgress(),this.emit("core:file-removed",t),this.log("Removed file: "+t)},t.prototype.calculateProgress=function(t){var e=t.id,r=n({},this.getState().files);if(r[e]){var o=n({},r[e],n({},{progress:n({},r[e].progress,{bytesUploaded:t.bytesUploaded,bytesTotal:t.bytesTotal,percentage:Math.floor((t.bytesUploaded/t.bytesTotal*100).toFixed(2))})}));r[t.id]=o,this.setState({files:r}),this.calculateTotalProgress()}else this.log("Trying to set progress for a file that\u2019s not with us anymore: ",e)},t.prototype.calculateTotalProgress=function(){var t=n({},this.getState().files),e=Object.keys(t).filter(function(e){return t[e].progress.uploadStarted}),r=100*e.length,o=0;e.forEach(function(e){o+=t[e].progress.percentage});var i=Math.floor((100*o/r).toFixed(2));this.setState({totalProgress:i})},t.prototype.actions=function(){var t=this;this.on("core:error",function(e){t.setState({error:e})}),this.on("core:upload",function(){t.setState({error:null})}),this.on("core:file-add",function(e){t.addFile(e)}),this.on("core:file-remove",function(e){t.removeFile(e)}),this.on("core:cancel-all",function(){t.setState({files:{}})}),this.on("core:upload-started",function(e,r){var o=n({},t.getState().files),i=n({},o[e],n({},{progress:n({},o[e].progress,{uploadStarted:Date.now()})}));o[e]=i,t.setState({files:o})});var e=c(this.calculateProgress,100,{leading:!0,trailing:!1});this.on("core:upload-progress",function(t){e(t)}),this.on("core:upload-success",function(e,r,o){var i=n({},t.getState().files),s=n({},i[e],{progress:n({},i[e].progress,{uploadComplete:!0,percentage:100}),uploadURL:o});if(i[e]=s,t.setState({files:i}),t.calculateTotalProgress(),100===t.getState().totalProgress){var a=Object.keys(i).filter(function(t){return i[t].progress.uploadComplete});t.emit("core:upload-complete",a.length)}}),this.on("core:update-meta",function(e,r){t.updateMeta(e,r)}),this.on("core:preprocess-progress",function(e,r){var o=n({},t.getState().files);o[e]=n({},o[e],{progress:n({},o[e].progress,{preprocess:r})}),t.setState({files:o})}),this.on("core:preprocess-complete",function(e){var r=n({},t.getState().files);r[e]=n({},r[e],{progress:n({},r[e].progress)}),delete r[e].progress.preprocess,t.setState({files:r})}),this.on("core:postprocess-progress",function(e,r){var o=n({},t.getState().files);o[e]=n({},o[e],{progress:n({},o[e].progress,{postprocess:r})}),t.setState({files:o})}),this.on("core:postprocess-complete",function(e){var r=n({},t.getState().files);r[e]=n({},r[e],{progress:n({},r[e].progress)}),delete r[e].progress.postprocess,t.setState({files:r})}),"undefined"!==typeof window&&(window.addEventListener("online",function(){return t.isOnline(!0)}),window.addEventListener("offline",function(){return t.isOnline(!1)}),setTimeout(function(){return t.isOnline()},3e3))},t.prototype.isOnline=function(t){t||window.navigator.onLine?(this.emit("is-online"),this.wasOffline&&(this.emit("back-online"),this.info("Connected!","success",3e3),this.wasOffline=!1)):(this.emit("is-offline"),this.info("No internet connection","error",0),this.wasOffline=!0)},t.prototype.use=function(t,e){var r=new t(this,e),n=r.id;if(this.plugins[r.type]=this.plugins[r.type]||[],!n)throw new Error("Your plugin must have a name");if(!r.type)throw new Error("Your plugin must have a type");var o=this.getPlugin(n);if(o){var i="Already found a plugin named '"+o.name+"'.\n        Tried to use: '"+n+"'.\n        Uppy is currently limited to running one of every plugin.\n        Share your use case with us over at\n        https://github.com/transloadit/uppy/issues/\n        if you want us to reconsider.";throw new Error(i)}return this.plugins[r.type].push(r),r.install(),this},t.prototype.getPlugin=function(t){var e=!1;return this.iteratePlugins(function(r){if(r.id===t)return e=r,!1}),e},t.prototype.iteratePlugins=function(t){var e=this;Object.keys(this.plugins).forEach(function(r){e.plugins[r].forEach(t)})},t.prototype.removePlugin=function(t){var e=this.plugins[t.type];t.uninstall&&t.uninstall();var r=e.indexOf(t);-1!==r&&e.splice(r,1)},t.prototype.close=function(){this.reset(),this.iteratePlugins(function(t){t.uninstall()}),this.socket&&this.socket.close()},t.prototype.info=function(t,e,r){var o=this;this.setState({info:{isHidden:!1,type:e,msg:t}}),this.emit("core:info-visible"),window.clearTimeout(this.infoTimeoutID),this.infoTimeoutID=0!==r?setTimeout(function(){var t=n({},o.state.info,{isHidden:!0});o.setState({info:t}),o.emit("core:info-hidden")},r):void 0},t.prototype.hideInfo=function(){var t=n({},this.core.state.info,{isHidden:!0});this.setState({info:t}),this.emit("core:info-hidden")},t.prototype.log=function(t,r){this.opts.debug&&("error"!==r?(t===""+t?console.log("LOG: "+t):console.dir(t),e.uppyLog=e.uppyLog+"\nDEBUG LOG: "+t):console.error("LOG: "+t))},t.prototype.initSocket=function(t){return this.socket||(this.socket=new s(t)),this.socket},t.prototype.run=function(){return this.log("Core is run, initializing actions..."),this.actions(),this},t.prototype.restore=function(t){return this.log('Core: attempting to restore upload "'+t+'"'),this.state.currentUploads[t]?this.runUpload(t):(this.removeUpload(t),Promise.reject(new Error("Nonexistent upload")))},t.prototype.createUpload=function(t){var e,r=u();return this.emit("core:upload",{id:r,fileIDs:t}),this.setState({currentUploads:n({},this.state.currentUploads,(e={},e[r]={fileIDs:t,step:0},e))}),r},t.prototype.removeUpload=function(t){var e=n({},this.state.currentUploads);delete e[t],this.setState({currentUploads:e})},t.prototype.runUpload=function(t){var e=this,r=this.state.currentUploads[t],o=r.fileIDs,i=r.step,s=[].concat(this.preProcessors,this.uploaders,this.postProcessors),a=Promise.resolve();return s.forEach(function(r,s){s<i||(a=a.then(function(){var i,a=n({},e.state.currentUploads[t],{step:s});return e.setState({currentUploads:n({},e.state.currentUploads,(i={},i[t]=a,i))}),r(o)}))}),a.catch(function(r){e.emit("core:error",r),e.removeUpload(t)}),a.then(function(){e.emit("core:success",o),e.removeUpload(t)})},t.prototype.upload=function(t){var e=this;return this.checkRestrictions(!0)?this.opts.onBeforeUpload(this.state.files).catch(function(t){return e.info(t,"error",5e3),Promise.reject("onBeforeUpload: "+t)}).then(function(){var r=[];Object.keys(e.state.files).forEach(function(n){var o=e.getFile(n);t?(e.resetProgress(),r.push(o.id)):o.progress.uploadStarted&&!o.isRemote||r.push(o.id)});var n=e.createUpload(r);return e.runUpload(n)}):Promise.reject("Minimum number of files has not been reached")},t}();t.exports=function(t){if(!(this instanceof d))return new d(t)}}).call(this,r(40))},2397:function(t,e,r){"use strict";var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t};t.exports=function(t){var e=new Uint8Array(t);if(!(e&&e.length>1))return null;var r=function(t,r){r=n({offset:0},r);for(var o=0;o<t.length;o++)if(t[o]!==e[o+r.offset])return!1;return!0};if(r([255,216,255]))return{ext:"jpg",mime:"image/jpeg"};if(r([137,80,78,71,13,10,26,10]))return{ext:"png",mime:"image/png"};if(r([71,73,70]))return{ext:"gif",mime:"image/gif"};if(r([87,69,66,80],{offset:8}))return{ext:"webp",mime:"image/webp"};if(r([70,76,73,70]))return{ext:"flif",mime:"image/flif"};if((r([73,73,42,0])||r([77,77,0,42]))&&r([67,82],{offset:8}))return{ext:"cr2",mime:"image/x-canon-cr2"};if(r([73,73,42,0])||r([77,77,0,42]))return{ext:"tif",mime:"image/tiff"};if(r([66,77]))return{ext:"bmp",mime:"image/bmp"};if(r([73,73,188]))return{ext:"jxr",mime:"image/vnd.ms-photo"};if(r([56,66,80,83]))return{ext:"psd",mime:"image/vnd.adobe.photoshop"};if(r([80,75,3,4])&&r([109,105,109,101,116,121,112,101,97,112,112,108,105,99,97,116,105,111,110,47,101,112,117,98,43,122,105,112],{offset:30}))return{ext:"epub",mime:"application/epub+zip"};if(r([80,75,3,4])&&r([77,69,84,65,45,73,78,70,47,109,111,122,105,108,108,97,46,114,115,97],{offset:30}))return{ext:"xpi",mime:"application/x-xpinstall"};if(r([80,75])&&(3===e[2]||5===e[2]||7===e[2])&&(4===e[3]||6===e[3]||8===e[3]))return{ext:"zip",mime:"application/zip"};if(r([117,115,116,97,114],{offset:257}))return{ext:"tar",mime:"application/x-tar"};if(r([82,97,114,33,26,7])&&(0===e[6]||1===e[6]))return{ext:"rar",mime:"application/x-rar-compressed"};if(r([31,139,8]))return{ext:"gz",mime:"application/gzip"};if(r([66,90,104]))return{ext:"bz2",mime:"application/x-bzip2"};if(r([55,122,188,175,39,28]))return{ext:"7z",mime:"application/x-7z-compressed"};if(r([120,1]))return{ext:"dmg",mime:"application/x-apple-diskimage"};if(r([0,0,0])&&(24===e[3]||32===e[3])&&r([102,116,121,112],{offset:4})||r([51,103,112,53])||r([0,0,0,28,102,116,121,112,109,112,52,50])&&r([109,112,52,49,109,112,52,50,105,115,111,109],{offset:16})||r([0,0,0,28,102,116,121,112,105,115,111,109])||r([0,0,0,28,102,116,121,112,109,112,52,50,0,0,0,0]))return{ext:"mp4",mime:"video/mp4"};if(r([0,0,0,28,102,116,121,112,77,52,86]))return{ext:"m4v",mime:"video/x-m4v"};if(r([77,84,104,100]))return{ext:"mid",mime:"audio/midi"};if(r([26,69,223,163])){var o=e.subarray(4,4100),i=o.findIndex(function(t,e,r){return 66===r[e]&&130===r[e+1]});if(i>=0){var s=i+3,a=function(t){return Array.from(t).every(function(t,e){return o[s+e]===t.charCodeAt(0)})};if(a("matroska"))return{ext:"mkv",mime:"video/x-matroska"};if(a("webm"))return{ext:"webm",mime:"video/webm"}}}return r([0,0,0,20,102,116,121,112,113,116,32,32])||r([102,114,101,101],{offset:4})||r([102,116,121,112,113,116,32,32],{offset:4})||r([109,100,97,116],{offset:4})||r([119,105,100,101],{offset:4})?{ext:"mov",mime:"video/quicktime"}:r([82,73,70,70])&&r([65,86,73],{offset:8})?{ext:"avi",mime:"video/x-msvideo"}:r([48,38,178,117,142,102,207,17,166,217])?{ext:"wmv",mime:"video/x-ms-wmv"}:r([0,0,1,186])?{ext:"mpg",mime:"video/mpeg"}:r([73,68,51])||r([255,251])?{ext:"mp3",mime:"audio/mpeg"}:r([102,116,121,112,77,52,65],{offset:4})||r([77,52,65,32])?{ext:"m4a",mime:"audio/m4a"}:r([79,112,117,115,72,101,97,100],{offset:28})?{ext:"opus",mime:"audio/opus"}:r([79,103,103,83])?{ext:"ogg",mime:"audio/ogg"}:r([102,76,97,67])?{ext:"flac",mime:"audio/x-flac"}:r([82,73,70,70])&&r([87,65,86,69],{offset:8})?{ext:"wav",mime:"audio/x-wav"}:r([35,33,65,77,82,10])?{ext:"amr",mime:"audio/amr"}:r([37,80,68,70])?{ext:"pdf",mime:"application/pdf"}:r([77,90])?{ext:"exe",mime:"application/x-msdownload"}:67!==e[0]&&70!==e[0]||!r([87,83],{offset:1})?r([123,92,114,116,102])?{ext:"rtf",mime:"application/rtf"}:r([0,97,115,109])?{ext:"wasm",mime:"application/wasm"}:r([119,79,70,70])&&(r([0,1,0,0],{offset:4})||r([79,84,84,79],{offset:4}))?{ext:"woff",mime:"font/woff"}:r([119,79,70,50])&&(r([0,1,0,0],{offset:4})||r([79,84,84,79],{offset:4}))?{ext:"woff2",mime:"font/woff2"}:r([76,80],{offset:34})&&(r([0,0,1],{offset:8})||r([1,0,2],{offset:8})||r([2,0,2],{offset:8}))?{ext:"eot",mime:"application/octet-stream"}:r([0,1,0,0,0])?{ext:"ttf",mime:"font/ttf"}:r([79,84,84,79,0])?{ext:"otf",mime:"font/otf"}:r([0,0,1,0])?{ext:"ico",mime:"image/x-icon"}:r([70,76,86,1])?{ext:"flv",mime:"video/x-flv"}:r([37,33])?{ext:"ps",mime:"application/postscript"}:r([253,55,122,88,90,0])?{ext:"xz",mime:"application/x-xz"}:r([83,81,76,105])?{ext:"sqlite",mime:"application/x-sqlite3"}:r([78,69,83,26])?{ext:"nes",mime:"application/x-nintendo-nes-rom"}:r([67,114,50,52])?{ext:"crx",mime:"application/x-google-chrome-extension"}:r([77,83,67,70])||r([73,83,99,40])?{ext:"cab",mime:"application/vnd.ms-cab-compressed"}:r([33,60,97,114,99,104,62,10,100,101,98,105,97,110,45,98,105,110,97,114,121])?{ext:"deb",mime:"application/x-deb"}:r([33,60,97,114,99,104,62])?{ext:"ar",mime:"application/x-unix-archive"}:r([237,171,238,219])?{ext:"rpm",mime:"application/x-rpm"}:r([31,160])||r([31,157])?{ext:"Z",mime:"application/x-compress"}:r([76,90,73,80])?{ext:"lz",mime:"application/x-lzip"}:r([208,207,17,224,161,177,26,225])?{ext:"msi",mime:"application/x-msi"}:r([6,14,43,52,2,5,1,1,13,1,2,1,1,2])?{ext:"mxf",mime:"application/mxf"}:r([71],{offset:4})&&(r([71],{offset:192})||r([71],{offset:196}))?{ext:"mts",mime:"video/mp2t"}:r([66,76,69,78,68,69,82])?{ext:"blend",mime:"application/x-blender"}:r([66,80,71,251])?{ext:"bpg",mime:"image/bpg"}:null:{ext:"swf",mime:"application/x-shockwave-flash"}}},2398:function(t,e,r){!function(e){"use strict";var r=0,n=Math.pow(36,4),o=function(t,e){var r="000000000"+t;return r.substr(r.length-e)},i=function(){return o((Math.random()*n<<0).toString(36),4)},s=function(){return r=r<n?r:0,++r-1},a=function(){var t=(new Date).getTime().toString(36),e=a.fingerprint(),r=i()+i();return"c"+t+o(s().toString(36),4)+e+r};a.slug=function(){var t,e=(new Date).getTime().toString(36),r=a.fingerprint().slice(0,1)+a.fingerprint().slice(-1),n=i().slice(-2);return t=s().toString(36).slice(-4),e.slice(-2)+t+r+n},a.globalCount=function(){var t=function(){var t,e=0;for(t in window)e++;return e}();return a.globalCount=function(){return t},t},a.fingerprint=function(){return o((navigator.mimeTypes.length+navigator.userAgent.length).toString(36)+a.globalCount().toString(36),4)},e.register?e.register("cuid",a):t.exports=a}(this.applitude||this)},2399:function(t,e,r){var n=r(2400),o=/[\/\+\.]/;t.exports=function(t,e){function r(e){var r=n(e,t,o);return r&&r.length>=2}return e?r(e.split(";")[0]):r}},2400:function(t,e,r){"use strict";var n=r(4);function o(t,e){this.text=t=t||"",this.hasWild=~t.indexOf("*"),this.separator=e,this.parts=t.split(e)}o.prototype.match=function(t){var e,r,o=!0,i=this.parts,s=i.length;if("string"==typeof t||t instanceof String)if(this.hasWild||this.text==t){for(r=(t||"").split(this.separator),e=0;o&&e<s;e++)"*"!==i[e]&&(o=e<r.length&&i[e]===r[e]);o=o&&r}else o=!1;else if("function"==typeof t.splice)for(o=[],e=t.length;e--;)this.match(t[e])&&(o[o.length]=t[e]);else if("object"==n(t))for(var a in o={},t)this.match(a)&&(o[a]=t[a]);return o},t.exports=function(t,e,r){var n=new o(t,r||/[\/\.]/);return"undefined"!=typeof e?n.match(e):n}},2401:function(t,e,r){"use strict";var n=r(4),o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t};var i=r(1139),s=r(1553),a=r(2414),u=r(2417),c=r(2424),l=r(2426),p=r(1112).findDOMElement,d=r(1359),f=r(1153).defaultTabIcon;t.exports=function(t){function e(r,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==n(e)&&"function"!==typeof e?t:e}(this,t.call(this,r,i));a.id="DashboardUI",a.title="Dashboard UI",a.type="orchestrator";var u={strings:{selectToUpload:"Select files to upload",closeModal:"Close Modal",upload:"Upload",importFrom:"Import files from",dashboardWindowTitle:"Uppy Dashboard Window (Press escape to close)",dashboardTitle:"Uppy Dashboard",copyLinkToClipboardSuccess:"Link copied to clipboard.",copyLinkToClipboardFallback:"Copy the URL below",done:"Done",localDisk:"Local Disk",myDevice:"My Device",dropPasteImport:"Drop files here, paste, import from one of the locations above or",dropPaste:"Drop files here, paste or",browse:"browse",fileProgress:"File progress: upload speed and ETA",numberOfSelectedFiles:"Number of selected files",uploadAllNewFiles:"Upload all new files"}},c={target:"body",getMetaFromForm:!0,trigger:"#uppy-select-files",inline:!1,width:750,height:550,semiTransparent:!1,defaultTabIcon:f(),showProgressDetails:!1,hideUploadButton:!1,note:!1,locale:u};return a.opts=o({},c,i),a.locale=o({},u,a.opts.locale),a.locale.strings=o({},u.strings,a.opts.locale.strings),a.translator=new s({locale:a.locale}),a.containerWidth=a.translator.translate.bind(a.translator),a.hideModal=a.hideModal.bind(a),a.showModal=a.showModal.bind(a),a.addTarget=a.addTarget.bind(a),a.actions=a.actions.bind(a),a.hideAllPanels=a.hideAllPanels.bind(a),a.showPanel=a.showPanel.bind(a),a.initEvents=a.initEvents.bind(a),a.handleEscapeKeyPress=a.handleEscapeKeyPress.bind(a),a.handleFileCard=a.handleFileCard.bind(a),a.handleDrop=a.handleDrop.bind(a),a.pauseAll=a.pauseAll.bind(a),a.resumeAll=a.resumeAll.bind(a),a.cancelAll=a.cancelAll.bind(a),a.updateDashboardElWidth=a.updateDashboardElWidth.bind(a),a.render=a.render.bind(a),a.install=a.install.bind(a),a}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+n(e));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.addTarget=function(t){var e=t.id||t.constructor.name,r=t.title||e,n=t.icon||this.opts.defaultTabIcon,i=t.type;if("acquirer"===i||"progressindicator"===i||"presenter"===i){var s={id:e,name:r,icon:n,type:i,focus:t.focus,render:t.render,isHidden:!0},a=this.core.getState().modal,u=a.targets.slice();return u.push(s),this.core.setState({modal:o({},a,{targets:u})}),this.target}this.core.log("Dashboard: Modal can only be used by plugins of types: acquirer, progressindicator, presenter")},e.prototype.hideAllPanels=function(){var t=this.core.getState().modal;this.core.setState({modal:o({},t,{activePanel:!1})})},e.prototype.showPanel=function(t){var e=this.core.getState().modal,r=e.targets.filter(function(e){return"acquirer"===e.type&&e.id===t})[0];this.core.setState({modal:o({},e,{activePanel:r})})},e.prototype.hideModal=function(){var t=this.core.getState().modal;this.core.setState({modal:o({},t,{isHidden:!0})}),document.body.classList.remove("is-UppyDashboard-open"),window.scrollTo(0,this.savedDocumentScrollPosition)},e.prototype.showModal=function(){var t=this.core.getState().modal;this.core.setState({modal:o({},t,{isHidden:!1})}),this.savedDocumentScrollPosition=window.scrollY,document.body.classList.add("is-UppyDashboard-open"),document.body.style.top="-"+this.savedDocumentScrollPosition+"px",this.target.querySelector(".UppyDashboard-inner").focus(),setTimeout(this.updateDashboardElWidth,500)},e.prototype.handleEscapeKeyPress=function(t){27===t.keyCode&&this.hideModal()},e.prototype.initEvents=function(){var t=this,e=p(this.opts.trigger);!this.opts.inline&&e&&e.addEventListener("click",this.showModal),this.opts.inline||e||this.core.log("Dashboard modal trigger not found, you won\u2019t be able to select files. Make sure `trigger` is set correctly in Dashboard options","error"),document.body.addEventListener("keyup",this.handleEscapeKeyPress),this.removeDragDropListener=a(this.el,function(e){t.handleDrop(e)})},e.prototype.removeEvents=function(){var t=p(this.opts.trigger);!this.opts.inline&&t&&t.removeEventListener("click",this.showModal),this.removeDragDropListener(),document.body.removeEventListener("keyup",this.handleEscapeKeyPress)},e.prototype.actions=function(){this.core.on("core:file-added",this.hideAllPanels),this.core.on("dashboard:file-card",this.handleFileCard),window.addEventListener("resize",this.updateDashboardElWidth)},e.prototype.removeActions=function(){window.removeEventListener("resize",this.updateDashboardElWidth),this.core.off("core:file-added",this.hideAllPanels),this.core.off("dashboard:file-card",this.handleFileCard)},e.prototype.updateDashboardElWidth=function(){var t=this.target.querySelector(".UppyDashboard-inner");this.core.log("Dashboard width: "+t.offsetWidth);var e=this.core.getState().modal;this.core.setState({modal:o({},e,{containerWidth:t.offsetWidth})})},e.prototype.handleFileCard=function(t){var e=this.core.getState().modal;this.core.setState({modal:o({},e,{fileCardFor:t||!1})})},e.prototype.handleDrop=function(t){var e=this;this.core.log("All right, someone dropped something..."),t.forEach(function(t){e.core.addFile({source:e.id,name:t.name,type:t.type,data:t})})},e.prototype.cancelAll=function(){this.core.emit("core:cancel-all")},e.prototype.pauseAll=function(){this.core.emit("core:pause-all")},e.prototype.resumeAll=function(){this.core.emit("core:resume-all")},e.prototype.render=function(t){var e=this,r=t.files,n=Object.keys(r).filter(function(t){return!r[t].progress.uploadStarted}),o=Object.keys(r).filter(function(t){return!r[t].progress.uploadComplete&&r[t].progress.uploadStarted&&!r[t].isPaused}),i=[];o.forEach(function(t){i.push(r[t])});var s=0,a=0;i.forEach(function(t){s+=t.progress.bytesTotal||0,a+=t.progress.bytesUploaded||0}),s=d(s),a=d(a);var c=t.modal.targets.filter(function(t){return"acquirer"===t.type}),l=t.modal.targets.filter(function(t){return"progressindicator"===t.type}),p=this.core.getState().capabilities.resumableUploads||!1;return u({state:t,modal:t.modal,newFiles:n,files:r,totalFileCount:Object.keys(r).length,totalProgress:t.totalProgress,acquirers:c,activePanel:t.modal.activePanel,progressindicators:l,autoProceed:this.core.opts.autoProceed,hideUploadButton:this.opts.hideUploadButton,id:this.id,hideModal:this.hideModal,showProgressDetails:this.opts.showProgressDetails,inline:this.opts.inline,semiTransparent:this.opts.semiTransparent,showPanel:this.showPanel,hideAllPanels:this.hideAllPanels,log:this.core.log,i18n:this.containerWidth,pauseAll:this.pauseAll,resumeAll:this.resumeAll,addFile:this.core.addFile,removeFile:function(t){e.core.emitter.emit("core:file-remove",t)},info:function(t,r,n){e.core.info(t,r,n)},note:this.opts.note,metaFields:t.metaFields,resumableUploads:p,startUpload:function(t){e.core.upload().catch(function(t){console.error(t.stack||t.message||t)})},pauseUpload:function(t){e.core.emitter.emit("core:upload-pause",t)},cancelUpload:function(t){e.core.emitter.emit("core:upload-cancel",t),e.core.emitter.emit("core:file-remove",t)},fileCardFor:t.modal.fileCardFor,showFileCard:function(t){e.core.emitter.emit("dashboard:file-card",t)},fileCardDone:function(t,r){e.core.emitter.emit("core:update-meta",t,r),e.core.emitter.emit("dashboard:file-card")},updateDashboardElWidth:this.updateDashboardElWidth,maxWidth:this.opts.maxWidth,maxHeight:this.opts.maxHeight,currentWidth:t.modal.containerWidth,isWide:t.modal.containerWidth>400})},e.prototype.install=function(){this.core.setState({modal:{isHidden:!0,showFileCard:!1,activePanel:!1,targets:[]}});var t=this.opts.target;this.target=this.mount(t,this),this.opts.disableStatusBar||this.core.use(c,{target:e}),this.opts.disableInformer||this.core.use(l,{target:e}),this.initEvents(),this.actions()},e.prototype.uninstall=function(){this.unmount(),this.removeActions(),this.removeEvents()},e}(i)},2402:function(t,e,r){var n=r(2403),o=r(2409),i=r(2410);t.exports=n,t.exports.update=function(t,e,r){return r||(r={}),!1!==r.events&&(r.onBeforeElUpdated||(r.onBeforeElUpdated=function(t,e){for(var n=r.events||i,o=0;o<n.length;o++){var s=n[o];e[s]?t[s]=e[s]:t[s]&&(t[s]=void 0)}var a=t.value,u=e.value;"INPUT"===t.nodeName&&"file"!==t.type||"SELECT"===t.nodeName?u?u!==a&&(t.value=u):e.value=t.value:"TEXTAREA"===t.nodeName&&null===e.getAttribute("value")&&(t.value=e.value)})),o(t,e,r)}},2403:function(t,e,r){var n=r(1554),o=r(2405),i=r(2407),s="http://www.w3.org/2000/svg",a="http://www.w3.org/1999/xlink",u={autofocus:1,checked:1,defaultchecked:1,disabled:1,formnovalidate:1,indeterminate:1,readonly:1,required:1,selected:1,willvalidate:1},c="!--",l=["svg","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignObject","g","glyph","glyphRef","hkern","image","line","linearGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","set","stop","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"];function p(t,e,r){var o;-1!==l.indexOf(t)&&(e.namespace=s);var d=!1;if(e.namespace&&(d=e.namespace,delete e.namespace),d)o=n.createElementNS(d,t);else{if(t===c)return n.createComment(e.comment);o=n.createElement(t)}if(e.onload||e.onunload){var f=e.onload||function(){},h=e.onunload||function(){};i(o,function(){f(o)},function(){h(o)},p.caller.caller.caller),delete e.onload,delete e.onunload}for(var m in e)if(e.hasOwnProperty(m)){var b=m.toLowerCase(),g=e[m];if("classname"===b&&(b="class",m="class"),"htmlFor"===m&&(m="for"),u[b])if("true"===g)g=b;else if("false"===g)continue;"on"===b.slice(0,2)?o[m]=g:d?"xlink:href"===m?o.setAttributeNS(a,m,g):/^xmlns($|:)/i.test(m)||o.setAttributeNS(null,m,g):o.setAttribute(m,g)}return function t(e){if(Array.isArray(e))for(var r=0;r<e.length;r++){var i=e[r];if(Array.isArray(i))t(i);else{if(("number"===typeof i||"boolean"===typeof i||"function"===typeof i||i instanceof Date||i instanceof RegExp)&&(i=i.toString()),"string"===typeof i){if(o.lastChild&&"#text"===o.lastChild.nodeName){o.lastChild.nodeValue+=i;continue}i=n.createTextNode(i)}i&&i.nodeType&&o.appendChild(i)}}}(r),o}t.exports=o(p,{comments:!0}),t.exports.default=t.exports,t.exports.createElement=p},2405:function(t,e,r){var n=r(4),o=r(2406),i=1,s=2,a=3,u=4,c=5,l=6,p=7,d=8,f=9,h=10,m=11,b=12,g=13;function v(t){return t===f||t===h}t.exports=function(t,e){e||(e={});var r=e.concat||function(t,e){return String(t)+String(e)};return!1!==e.attrToProp&&(t=o(t)),function(o){for(var w=i,S="",E=arguments.length,x=[],U=0;U<o.length;U++)if(U<E-1){var _=arguments[U+1],P=R(o[U]),T=w;T===h&&(T=d),T===f&&(T=d),T===p&&(T=d),T===u&&(T=c),T===s?"/"===S?(P.push([s,"/",_]),S=""):P.push([s,_]):P.push([0,T,_]),x.push.apply(x,P)}else x.push.apply(x,R(o[U]));var I,M=[null,{},[]],D=[[M,-1]];for(U=0;U<x.length;U++){var k=D[D.length-1][0],N=(P=x[U])[0];if(N===s&&/^\//.test(P[1])){var C=D[D.length-1][1];D.length>1&&(D.pop(),D[D.length-1][0][2][C]=t(k[0],k[1],k[2].length?k[2]:void 0))}else if(N===s){var O=[P[1],{},[]];k[2].push(O),D.push([O,k[2].length-1])}else if(N===c||0===N&&P[1]===c){for(var F,z="";U<x.length;U++)if(x[U][0]===c)z=r(z,x[U][1]);else{if(0!==x[U][0]||x[U][1]!==c)break;if("object"!==n(x[U][2])||z)z=r(z,x[U][2]);else for(F in x[U][2])x[U][2].hasOwnProperty(F)&&!k[1][F]&&(k[1][F]=x[U][2][F])}x[U][0]===m&&U++;for(var j=U;U<x.length;U++)if(x[U][0]===d||x[U][0]===c)k[1][z]?""===x[U][1]||(k[1][z]=r(k[1][z],x[U][1])):k[1][z]=A(x[U][1]);else{if(0!==x[U][0]||x[U][1]!==d&&x[U][1]!==c){!z.length||k[1][z]||U!==j||x[U][0]!==a&&x[U][0]!==b||(k[1][z]=z.toLowerCase()),x[U][0]===a&&U--;break}k[1][z]?""===x[U][2]||(k[1][z]=r(k[1][z],x[U][2])):k[1][z]=A(x[U][2])}}else if(N===c)k[1][P[1]]=!0;else if(0===N&&P[1]===c)k[1][P[2]]=!0;else if(N===a){if(I=k[0],y.test(I)&&D.length){C=D[D.length-1][1];D.pop(),D[D.length-1][0][2][C]=t(k[0],k[1],k[2].length?k[2]:void 0)}}else if(0===N&&P[1]===i)void 0===P[2]||null===P[2]?P[2]="":P[2]||(P[2]=r("",P[2])),Array.isArray(P[2][0])?k[2].push.apply(k[2],P[2]):k[2].push(P[2]);else if(N===i)k[2].push(P[1]);else if(N!==m&&N!==b)throw new Error("unhandled: "+N)}if(M[2].length>1&&/^\s*$/.test(M[2][0])&&M[2].shift(),M[2].length>2||2===M[2].length&&/\S/.test(M[2][1]))throw new Error("multiple root elements must be wrapped in an enclosing tag");return Array.isArray(M[2][0])&&"string"===typeof M[2][0][0]&&Array.isArray(M[2][0][2])&&(M[2][0]=t(M[2][0][0],M[2][0][1],M[2][0][2])),M[2][0];function R(t){var r=[];w===p&&(w=u);for(var n=0;n<t.length;n++){var o=t.charAt(n);w===i&&"<"===o?(S.length&&r.push([i,S]),S="",w=s):">"!==o||v(w)||w===g?w===g&&/-$/.test(S)&&"-"===o?(e.comments&&r.push([d,S.substr(0,S.length-1)],[a]),S="",w=i):w===s&&/^!--$/.test(S)?(e.comments&&r.push([s,S],[c,"comment"],[m]),S=o,w=g):w===i||w===g?S+=o:w===s&&"/"===o&&S.length||(w===s&&/\s/.test(o)?(S.length&&r.push([s,S]),S="",w=u):w===s?S+=o:w===u&&/[^\s"'=\/]/.test(o)?(w=c,S=o):w===u&&/\s/.test(o)?(S.length&&r.push([c,S]),r.push([b])):w===c&&/\s/.test(o)?(r.push([c,S]),S="",w=l):w===c&&"="===o?(r.push([c,S],[m]),S="",w=p):w===c?S+=o:w!==l&&w!==u||"="!==o?w!==l&&w!==u||/\s/.test(o)?w===p&&'"'===o?w=h:w===p&&"'"===o?w=f:w===h&&'"'===o?(r.push([d,S],[b]),S="",w=u):w===f&&"'"===o?(r.push([d,S],[b]),S="",w=u):w!==p||/\s/.test(o)?w===d&&/\s/.test(o)?(r.push([d,S],[b]),S="",w=u):w!==d&&w!==f&&w!==h||(S+=o):(w=d,n--):(r.push([b]),/[\w-]/.test(o)?(S+=o,w=c):w=u):(r.push([m]),w=p)):(w===s&&S.length?r.push([s,S]):w===c?r.push([c,S]):w===d&&S.length&&r.push([d,S]),r.push([a]),S="",w=i)}return w===i&&S.length?(r.push([i,S]),S=""):w===d&&S.length?(r.push([d,S]),S=""):w===h&&S.length?(r.push([d,S]),S=""):w===f&&S.length?(r.push([d,S]),S=""):w===c&&(r.push([c,S]),S=""),r}};function A(t){return"function"===typeof t?t:"string"===typeof t?t:t&&"object"===n(t)?t:r("",t)}};Object.prototype.hasOwnProperty;var y=RegExp("^("+["area","base","basefont","bgsound","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr","!--","animate","animateTransform","circle","cursor","desc","ellipse","feBlend","feColorMatrix","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","font-face-format","font-face-name","font-face-uri","glyph","glyphRef","hkern","image","line","missing-glyph","mpath","path","polygon","polyline","rect","set","stop","tref","use","view","vkern"].join("|")+")(?:[.#][a-zA-Z0-9\x7f-\uffff_:-]+)*$")},2406:function(t,e){t.exports=function(t){return function(e,n,o){for(var i in n)i in r&&(n[r[i]]=n[i],delete n[i]);return t(e,n,o)}};var r={class:"className",for:"htmlFor","http-equiv":"httpEquiv"}},2407:function(t,e,r){var n=r(1554),o=r(1351),i=r(2408),s=Object.create(null),a="onloadid"+(new Date%9e6).toString(36),u="data-"+a,c=0;if(o&&o.MutationObserver){var l=new MutationObserver(function(t){if(!(Object.keys(s).length<1))for(var e=0;e<t.length;e++)t[e].attributeName!==u?(m(t[e].removedNodes,f),m(t[e].addedNodes,d)):h(t[e],d,f)});n.body?p(l):n.addEventListener("DOMContentLoaded",function(t){p(l)})}function p(t){t.observe(n.documentElement,{childList:!0,subtree:!0,attributes:!0,attributeOldValue:!0,attributeFilter:[u]})}function d(t,e){s[t][0]&&0===s[t][2]&&(s[t][0](e),s[t][2]=1)}function f(t,e){s[t][1]&&1===s[t][2]&&(s[t][1](e),s[t][2]=0)}function h(t,e,r){var n=t.target.getAttribute(u);!function(t,e){return!(!t||!e)&&s[t][3]===s[e][3]}(t.oldValue,n)?(s[t.oldValue]&&r(t.oldValue,t.target),s[n]&&e(n,t.target)):s[n]=s[t.oldValue]}function m(t,e){for(var r=Object.keys(s),n=0;n<t.length;n++){if(t[n]&&t[n].getAttribute&&t[n].getAttribute(u)){var o=t[n].getAttribute(u);r.forEach(function(r){o===r&&e(r,t[n])})}t[n].childNodes.length>0&&m(t[n].childNodes,e)}}t.exports=function t(e,r,o,a){return i(n.body,"on-load: will not work prior to DOMContentLoaded"),r=r||function(){},o=o||function(){},e.setAttribute(u,"o"+c),s["o"+c]=[r,o,0,a||t.caller],c+=1,e},t.exports.KEY_ATTR=u,t.exports.KEY_ID=a},2408:function(t,e){function r(t,e){if(!t)throw new Error(e||"AssertionError")}r.notEqual=function(t,e,n){r(t!=e,n)},r.notOk=function(t,e){r(!t,e)},r.equal=function(t,e,n){r(t==e,n)},r.ok=r,t.exports=r},2409:function(t,e,r){"use strict";var n,o="http://www.w3.org/1999/xhtml",i="undefined"===typeof document?void 0:document,s=i?i.body||i.createElement("div"):{},a=s.hasAttributeNS?function(t,e,r){return t.hasAttributeNS(e,r)}:s.hasAttribute?function(t,e,r){return t.hasAttribute(r)}:function(t,e,r){return null!=t.getAttributeNode(e,r)};function u(t,e){var r=t.nodeName,n=e.nodeName;return r===n||!!(e.actualize&&r.charCodeAt(0)<91&&n.charCodeAt(0)>90)&&r===n.toUpperCase()}function c(t,e,r){t[r]!==e[r]&&(t[r]=e[r],t[r]?t.setAttribute(r,""):t.removeAttribute(r,""))}var l={OPTION:function(t,e){c(t,e,"selected")},INPUT:function(t,e){c(t,e,"checked"),c(t,e,"disabled"),t.value!==e.value&&(t.value=e.value),a(e,null,"value")||t.removeAttribute("value")},TEXTAREA:function(t,e){var r=e.value;t.value!==r&&(t.value=r);var n=t.firstChild;if(n){var o=n.nodeValue;if(o==r||!r&&o==t.placeholder)return;n.nodeValue=r}},SELECT:function(t,e){if(!a(e,null,"multiple")){for(var r=0,n=e.firstChild;n;){var o=n.nodeName;if(o&&"OPTION"===o.toUpperCase()){if(a(n,null,"selected")){r;break}r++}n=n.nextSibling}t.selectedIndex=r}}},p=1,d=3,f=8;function h(){}function m(t){return t.id}var b=function(t){return function(e,r,s){if(s||(s={}),"string"===typeof r)if("#document"===e.nodeName||"HTML"===e.nodeName){var a=r;(r=i.createElement("html")).innerHTML=a}else c=r,!n&&i.createRange&&(n=i.createRange()).selectNode(i.body),n&&n.createContextualFragment?b=n.createContextualFragment(c):(b=i.createElement("body")).innerHTML=c,r=b.childNodes[0];var c,b,g,v=s.getNodeKey||m,y=s.onBeforeNodeAdded||h,A=s.onNodeAdded||h,w=s.onBeforeElUpdated||h,S=s.onElUpdated||h,E=s.onBeforeNodeDiscarded||h,x=s.onNodeDiscarded||h,U=s.onBeforeElChildrenUpdated||h,_=!0===s.childrenOnly,P={};function T(t){g?g.push(t):g=[t]}function I(t,e,r){!1!==E(t)&&(e&&e.removeChild(t),x(t),function t(e,r){if(e.nodeType===p)for(var n=e.firstChild;n;){var o=void 0;r&&(o=v(n))?T(o):(x(n),n.firstChild&&t(n,r)),n=n.nextSibling}}(t,r))}function M(t){A(t);for(var e=t.firstChild;e;){var r=e.nextSibling,n=v(e);if(n){var o=P[n];o&&u(e,o)&&(e.parentNode.replaceChild(o,e),D(o,e))}M(e),e=r}}function D(n,o,s){var a,c=v(o);if(c&&delete P[c],!r.isSameNode||!r.isSameNode(e)){if(!s){if(!1===w(n,o))return;if(t(n,o),S(n),!1===U(n,o))return}if("TEXTAREA"!==n.nodeName){var h,m,b,g,A=o.firstChild,E=n.firstChild;t:for(;A;){for(b=A.nextSibling,h=v(A);E;){if(m=E.nextSibling,A.isSameNode&&A.isSameNode(E)){A=b,E=m;continue t}a=v(E);var x=E.nodeType,_=void 0;if(x===A.nodeType&&(x===p?(h?h!==a&&((g=P[h])?E.nextSibling===g?_=!1:(n.insertBefore(g,E),m=E.nextSibling,a?T(a):I(E,n,!0),E=g):_=!1):a&&(_=!1),(_=!1!==_&&u(E,A))&&D(E,A)):x!==d&&x!=f||(_=!0,E.nodeValue!==A.nodeValue&&(E.nodeValue=A.nodeValue))),_){A=b,E=m;continue t}a?T(a):I(E,n,!0),E=m}if(h&&(g=P[h])&&u(g,A))n.appendChild(g),D(g,A);else{var k=y(A);!1!==k&&(k&&(A=k),A.actualize&&(A=A.actualize(n.ownerDocument||i)),n.appendChild(A),M(A))}A=b,E=m}for(;E;)m=E.nextSibling,(a=v(E))?T(a):I(E,n,!0),E=m}var N=l[n.nodeName];N&&N(n,o)}}!function t(e){if(e.nodeType===p)for(var r=e.firstChild;r;){var n=v(r);n&&(P[n]=r),t(r),r=r.nextSibling}}(e);var k,N,C=e,O=C.nodeType,F=r.nodeType;if(!_)if(O===p)F===p?u(e,r)||(x(e),C=function(t,e){for(var r=t.firstChild;r;){var n=r.nextSibling;e.appendChild(r),r=n}return e}(e,(k=r.nodeName,(N=r.namespaceURI)&&N!==o?i.createElementNS(N,k):i.createElement(k)))):C=r;else if(O===d||O===f){if(F===O)return C.nodeValue!==r.nodeValue&&(C.nodeValue=r.nodeValue),C;C=r}if(C===r)x(e);else if(D(C,r,_),g)for(var z=0,j=g.length;z<j;z++){var R=P[g[z]];R&&I(R,R.parentNode,!1)}return!_&&C!==e&&e.parentNode&&(C.actualize&&(C=C.actualize(e.ownerDocument||i)),e.parentNode.replaceChild(C,e)),C}}(function(t,e){var r,n,o,i,s,u=e.attributes;for(r=u.length-1;r>=0;--r)o=(n=u[r]).name,i=n.namespaceURI,s=n.value,i?(o=n.localName||o,t.getAttributeNS(i,o)!==s&&t.setAttributeNS(i,o,s)):t.getAttribute(o)!==s&&t.setAttribute(o,s);for(r=(u=t.attributes).length-1;r>=0;--r)!1!==(n=u[r]).specified&&(o=n.name,(i=n.namespaceURI)?(o=n.localName||o,a(e,i,o)||t.removeAttributeNS(i,o)):a(e,null,o)||t.removeAttribute(o))});t.exports=b},2410:function(t,e){t.exports=["onclick","ondblclick","onmousedown","onmouseup","onmouseover","onmousemove","onmouseout","ondragstart","ondrag","ondragenter","ondragleave","ondragover","ondrop","ondragend","onkeydown","onkeypress","onkeyup","onunload","onabort","onerror","onresize","onscroll","onselect","onchange","onsubmit","onreset","onfocus","onblur","oninput","oncontextmenu","onfocusin","onfocusout"]},2411:function(t,e,r){"use strict";var n=r(4),o=r(2412);t.exports=function(t,e){o.equal(n(t),"function","nanoraf: render should be a function"),o.ok("function"===typeof e||"undefined"===typeof e,"nanoraf: raf should be a function or undefined"),e||(e=window.requestAnimationFrame);var r=!1,i=null;return function(){null!==i||r||(r=!0,e(function(){r=!1;for(var e=i.length,n=new Array(e),o=0;o<e;o++)n[o]=i[o];t.apply(t,n),i=null})),i=arguments}}},2412:function(t,e,r){"use strict";(function(e){var n=r(4);function o(t,e){if(t===e)return 0;for(var r=t.length,n=e.length,o=0,i=Math.min(r,n);o<i;++o)if(t[o]!==e[o]){r=t[o],n=e[o];break}return r<n?-1:n<r?1:0}function i(t){return e.Buffer&&"function"===typeof e.Buffer.isBuffer?e.Buffer.isBuffer(t):!(null==t||!t._isBuffer)}var s=r(264),a=Object.prototype.hasOwnProperty,u=Array.prototype.slice,c="foo"===function(){}.name;function l(t){return Object.prototype.toString.call(t)}function p(t){return!i(t)&&("function"===typeof e.ArrayBuffer&&("function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(t):!!t&&(t instanceof DataView||!!(t.buffer&&t.buffer instanceof ArrayBuffer))))}var d=t.exports=v,f=/\s*function\s+([^\(\s]*)\s*/;function h(t){if(s.isFunction(t)){if(c)return t.name;var e=t.toString().match(f);return e&&e[1]}}function m(t,e){return"string"===typeof t?t.length<e?t:t.slice(0,e):t}function b(t){if(c||!s.isFunction(t))return s.inspect(t);var e=h(t);return"[Function"+(e?": "+e:"")+"]"}function g(t,e,r,n,o){throw new d.AssertionError({message:r,actual:t,expected:e,operator:n,stackStartFunction:o})}function v(t,e){t||g(t,!0,e,"==",d.ok)}function y(t,e,r,a){if(t===e)return!0;if(i(t)&&i(e))return 0===o(t,e);if(s.isDate(t)&&s.isDate(e))return t.getTime()===e.getTime();if(s.isRegExp(t)&&s.isRegExp(e))return t.source===e.source&&t.global===e.global&&t.multiline===e.multiline&&t.lastIndex===e.lastIndex&&t.ignoreCase===e.ignoreCase;if(null!==t&&"object"===n(t)||null!==e&&"object"===n(e)){if(p(t)&&p(e)&&l(t)===l(e)&&!(t instanceof Float32Array||t instanceof Float64Array))return 0===o(new Uint8Array(t.buffer),new Uint8Array(e.buffer));if(i(t)!==i(e))return!1;var c=(a=a||{actual:[],expected:[]}).actual.indexOf(t);return-1!==c&&c===a.expected.indexOf(e)||(a.actual.push(t),a.expected.push(e),function(t,e,r,n){if(null===t||void 0===t||null===e||void 0===e)return!1;if(s.isPrimitive(t)||s.isPrimitive(e))return t===e;if(r&&Object.getPrototypeOf(t)!==Object.getPrototypeOf(e))return!1;var o=A(t),i=A(e);if(o&&!i||!o&&i)return!1;if(o)return t=u.call(t),e=u.call(e),y(t,e,r);var a,c,l=E(t),p=E(e);if(l.length!==p.length)return!1;for(l.sort(),p.sort(),c=l.length-1;c>=0;c--)if(l[c]!==p[c])return!1;for(c=l.length-1;c>=0;c--)if(a=l[c],!y(t[a],e[a],r,n))return!1;return!0}(t,e,r,a))}return r?t===e:t==e}function A(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function w(t,e){if(!t||!e)return!1;if("[object RegExp]"==Object.prototype.toString.call(e))return e.test(t);try{if(t instanceof e)return!0}catch(r){}return!Error.isPrototypeOf(e)&&!0===e.call({},t)}function S(t,e,r,n){var o;if("function"!==typeof e)throw new TypeError('"block" argument must be a function');"string"===typeof r&&(n=r,r=null),o=function(t){var e;try{t()}catch(r){e=r}return e}(e),n=(r&&r.name?" ("+r.name+").":".")+(n?" "+n:"."),t&&!o&&g(o,r,"Missing expected exception"+n);var i="string"===typeof n,a=!t&&o&&!r;if((!t&&s.isError(o)&&i&&w(o,r)||a)&&g(o,r,"Got unwanted exception"+n),t&&o&&r&&!w(o,r)||!t&&o)throw o}d.AssertionError=function(t){var e;this.name="AssertionError",this.actual=t.actual,this.expected=t.expected,this.operator=t.operator,t.message?(this.message=t.message,this.generatedMessage=!1):(this.message=m(b((e=this).actual),128)+" "+e.operator+" "+m(b(e.expected),128),this.generatedMessage=!0);var r=t.stackStartFunction||g;if(Error.captureStackTrace)Error.captureStackTrace(this,r);else{var n=new Error;if(n.stack){var o=n.stack,i=h(r),s=o.indexOf("\n"+i);if(s>=0){var a=o.indexOf("\n",s+1);o=o.substring(a+1)}this.stack=o}}},s.inherits(d.AssertionError,Error),d.fail=g,d.ok=v,d.equal=function(t,e,r){t!=e&&g(t,e,r,"==",d.equal)},d.notEqual=function(t,e,r){t==e&&g(t,e,r,"!=",d.notEqual)},d.deepEqual=function(t,e,r){y(t,e,!1)||g(t,e,r,"deepEqual",d.deepEqual)},d.deepStrictEqual=function(t,e,r){y(t,e,!0)||g(t,e,r,"deepStrictEqual",d.deepStrictEqual)},d.notDeepEqual=function(t,e,r){y(t,e,!1)&&g(t,e,r,"notDeepEqual",d.notDeepEqual)},d.notDeepStrictEqual=function t(e,r,n){y(e,r,!0)&&g(e,r,n,"notDeepStrictEqual",t)},d.strictEqual=function(t,e,r){t!==e&&g(t,e,r,"===",d.strictEqual)},d.notStrictEqual=function(t,e,r){t===e&&g(t,e,r,"!==",d.notStrictEqual)},d.throws=function(t,e,r){S(!0,t,e,r)},d.doesNotThrow=function(t,e,r){S(!1,t,e,r)},d.ifError=function(t){if(t)throw t};var E=Object.keys||function(t){var e=[];for(var r in t)a.call(t,r)&&e.push(r);return e}}).call(this,r(40))},2413:function(t,e,r){"use strict";e.__esModule=!0;var n={"[object HTMLCollection]":!0,"[object NodeList]":!0,"[object RadioNodeList]":!0},o={button:!0,fieldset:!0,reset:!0,submit:!0},i={checkbox:!0,radio:!0},s=/^\s+|\s+$/g,a=Array.prototype.slice,u=Object.prototype.toString;function c(t){var e=arguments.length<=1||void 0===arguments[1]?{trim:!1}:arguments[1];if(!t)throw new Error("A form is required by getFormData, was given form="+t);for(var r={},n=void 0,i=[],s={},a=0,u=t.elements.length;a<u;a++){var c=t.elements[a];o[c.type]||c.disabled||(n=c.name||c.id)&&!s[n]&&(i.push(n),s[n]=!0)}for(a=0,u=i.length;a<u;a++){var p=l(t,n=i[a],e);null!=p&&(r[n]=p)}return r}function l(t,e){var r=arguments.length<=2||void 0===arguments[2]?{trim:!1}:arguments[2];if(!t)throw new Error("A form is required by getNamedFormElementData, was given form="+t);if(!e&&"[object String]"!==u.call(e))throw new Error("A form element name is required by getNamedFormElementData, was given elementName="+e);var o=t.elements[e];if(!o||o.disabled)return null;if(!n[u.call(o)])return p(o,r.trim);for(var i=[],s=!0,a=0,c=o.length;a<c;a++)if(!o[a].disabled){s&&"radio"!==o[a].type&&(s=!1);var l=p(o[a],r.trim);null!=l&&(i=i.concat(l))}return s&&1===i.length?i[0]:i.length>0?i:null}function p(t,e){var r=null,n=t.type;if("select-one"===n)return t.options.length&&(r=t.options[t.selectedIndex].value),r;if("select-multiple"===n){r=[];for(var o=0,u=t.options.length;o<u;o++)t.options[o].selected&&r.push(t.options[o].value);return 0===r.length&&(r=null),r}return"file"===n&&"files"in t?(t.multiple?0===(r=a.call(t.files)).length&&(r=null):r=t.files[0],r):(i[n]?t.checked&&(r=t.value):r=e?t.value.replace(s,""):t.value,r)}c.getNamedFormElementData=l,e.default=c,t.exports=e.default},2414:function(t,e,r){t.exports=function(t,e){if("string"===typeof t){var r=t;if(!(t=window.document.querySelector(t)))throw new Error('"'+r+'" does not match any HTML elements')}if(!t)throw new Error('"'+t+'" is not a valid HTML element');"function"===typeof e&&(e={onDrop:e});var a;return t.addEventListener("dragenter",u,!1),t.addEventListener("dragover",c,!1),t.addEventListener("dragleave",l,!1),t.addEventListener("drop",p,!1),function(){d(),t.removeEventListener("dragenter",u,!1),t.removeEventListener("dragover",c,!1),t.removeEventListener("dragleave",l,!1),t.removeEventListener("drop",p,!1)};function u(t){return e.onDragEnter&&e.onDragEnter(t),t.stopPropagation(),t.preventDefault(),!1}function c(r){if(r.stopPropagation(),r.preventDefault(),r.dataTransfer.items){var n=s(r.dataTransfer.items),o=n.filter(function(t){return"file"===t.kind}),i=n.filter(function(t){return"string"===t.kind});if(0===o.length&&!e.onDropText)return;if(0===i.length&&!e.onDrop)return;if(0===o.length&&0===i.length)return}return t.classList.add("drag"),clearTimeout(a),e.onDragOver&&e.onDragOver(r),r.dataTransfer.dropEffect="copy",!1}function l(t){return t.stopPropagation(),t.preventDefault(),e.onDragLeave&&e.onDragLeave(t),clearTimeout(a),a=setTimeout(d,50),!1}function p(t){t.stopPropagation(),t.preventDefault(),e.onDragLeave&&e.onDragLeave(t),clearTimeout(a),d();var r={x:t.clientX,y:t.clientY},u=t.dataTransfer.getData("text");if(u&&e.onDropText&&e.onDropText(u,r),t.dataTransfer.items){var c=s(t.dataTransfer.items).filter(function(t){return"file"===t.kind});if(0===c.length)return;o(c.map(function(t){return function(e){!function(t,e){var r=[];if(t.isFile)t.file(function(r){r.fullPath=t.fullPath,e(null,r)},function(t){e(t)});else if(t.isDirectory){var n=t.createReader();!function t(){n.readEntries(function(n){n.length>0?(r=r.concat(s(n)),t()):o(r.map(function(t){return function(e){i(t,e)}}),e)})}()}}(t.webkitGetAsEntry(),e)}}),function(t,o){if(t)throw t;e.onDrop&&e.onDrop(n(o),r)})}else{var l=s(t.dataTransfer.files);if(0===l.length)return;l.forEach(function(t){t.fullPath="/"+t.name}),e.onDrop&&e.onDrop(l,r)}return!1}function d(){t.classList.remove("drag")}};var n=r(2415),o=r(2416);function i(t,e){var r=[];if(t.isFile){t.file(function(r){r.fullPath=t.fullPath;e(null,r)},function(t){e(t)})}else if(t.isDirectory){var n=t.createReader();a()}function a(){n.readEntries(function(t){if(t.length>0){r=r.concat(s(t));a()}else{u()}})}function u(){o(r.map(function(t){return function(e){i(t,e)}}),e)}}function s(t){return Array.prototype.slice.call(t||[],0)}},2415:function(t,e){t.exports=function(t,e){return(e="number"==typeof e?e:1/0)?function t(r,n){return r.reduce(function(r,o){return Array.isArray(o)&&n<e?r.concat(t(o,n+1)):r.concat(o)},[])}(t,1):Array.isArray(t)?t.map(function(t){return t}):t}},2416:function(t,e,r){(function(e){t.exports=function(t,r){var n,o,i,s=!0;Array.isArray(t)?(n=[],o=t.length):(i=Object.keys(t),n={},o=i.length);function a(t){function o(){r&&r(t,n),r=null}s?e.nextTick(o):o()}function u(t,e,r){n[t]=r,(0===--o||e)&&a(e)}o?i?i.forEach(function(e){t[e](function(t,r){u(e,t,r)})}):t.forEach(function(t,e){t(function(t,r){u(e,t,r)})}):a(null);s=!1}}).call(this,r(107))},2417:function(t,e,r){"use strict";var n=r(1050),o=r(1555),i=r(2418),s=r(2421),a=r(2422),u=r(2423),c=r(1112),l=c.isTouchDevice,p=c.toArray,d=r(1153).closeIcon;t.exports=function(t){var e,r,c,f,h,m,b,g,v,y,A,w;function S(e){e.preventDefault(),p(e.target.files).forEach(function(e){t.addFile({source:t.id,name:e.name,type:e.type,data:e})})}return w=document.createElement("div"),o(w,function(){return t.updateDashboardElWidth()},null,1),w.setAttribute("aria-hidden",""+String(t.inline?"false":t.modal.isHidden)),w.setAttribute("aria-label",""+String(t.inline?t.i18n("dashboardTitle"):t.i18n("dashboardWindowTitle"))),w.setAttribute("role","dialog"),w.onpaste=function(e){e.preventDefault(),p(e.clipboardData.items).forEach(function(e){if("file"===e.kind){var r=e.getAsFile();t.log("File pasted"),t.addFile({source:t.id,name:e.name,type:e.type,data:r})}})},w.setAttribute("class","Uppy UppyTheme--default UppyDashboard\n                          "+String(l()?"Uppy--isTouchDevice":"")+"\n                          "+String(t.semiTransparent?"UppyDashboard--semiTransparent":"")+"\n                          "+String(t.inline?"":"UppyDashboard--modal")+"\n                          "+String(t.isWide?"UppyDashboard--wide":"")),n(w,[" ",(e=document.createElement("div"),e.onclick=function(){},e.setAttribute("class","UppyDashboard-overlay"),e)," ",(A=document.createElement("div"),A.setAttribute("tabindex","0"),A.setAttribute("style","\n          "+String(t.inline&&t.maxWidth?"max-width: "+t.maxWidth+"px;":"")+"\n          "+String(t.inline&&t.maxHeight?"max-height: "+t.maxHeight+"px;":"")+"\n         "),A.setAttribute("class","UppyDashboard-inner"),n(A,[" ",(r=document.createElement("button"),r.setAttribute("type","button"),r.setAttribute("aria-label",""+String(t.i18n("closeModal"))),r.setAttribute("title",""+String(t.i18n("closeModal"))),r.onclick=t.hideModal,r.setAttribute("class","UppyDashboard-close"),n(r,[d()]),r)," ",(y=document.createElement("div"),y.setAttribute("class","UppyDashboard-innerWrap"),n(y,[" ",s({files:t.files,handleInputChange:S,acquirers:t.acquirers,panelSelectorPrefix:t.panelSelectorPrefix,showPanel:t.showPanel,i18n:t.i18n})," ",a({files:t.files,fileCardFor:t.fileCardFor,done:t.fileCardDone,metaFields:t.metaFields,log:t.log,i18n:t.i18n})," ",(f=document.createElement("div"),f.setAttribute("class","UppyDashboard-filesContainer"),n(f,[" ",i({acquirers:t.acquirers,files:t.files,handleInputChange:S,showFileCard:t.showFileCard,showProgressDetails:t.showProgressDetails,totalProgress:t.totalProgress,totalFileCount:t.totalFileCount,info:t.info,note:t.note,i18n:t.i18n,log:t.log,removeFile:t.removeFile,pauseAll:t.pauseAll,resumeAll:t.resumeAll,pauseUpload:t.pauseUpload,startUpload:t.startUpload,cancelUpload:t.cancelUpload,resumableUploads:t.resumableUploads,isWide:t.isWide})," ",(c=document.createElement("div"),c.setAttribute("class","UppyDashboard-actions"),n(c,[" ",!t.hideUploadButton&&!t.autoProceed&&t.newFiles.length>0?u({i18n:t.i18n,startUpload:t.startUpload,newFileCount:t.newFiles.length}):null," "]),c)," "]),f)," ",(g=document.createElement("div"),g.setAttribute("role","tabpanel"),g.setAttribute("aria-hidden",""+String(t.activePanel?"false":"true")),g.setAttribute("class","UppyDashboardContent-panel"),n(g,[" ",(b=document.createElement("div"),b.setAttribute("class","UppyDashboardContent-bar"),n(b,[" ",(h=document.createElement("h2"),h.setAttribute("class","UppyDashboardContent-title"),n(h,[" ",t.i18n("importFrom")," ",t.activePanel?t.activePanel.name:null," "]),h)," ",(m=document.createElement("button"),m.setAttribute("type","button"),m.onclick=t.hideAllPanels,m.setAttribute("class","UppyDashboardContent-back"),n(m,[t.i18n("done")]),m)," "]),b)," ",t.activePanel?t.activePanel.render(t.state):""," "]),g)," ",(v=document.createElement("div"),v.setAttribute("class","UppyDashboard-progressindicators"),n(v,[" ",t.progressindicators.map(function(e){return e.render(t.state)})," "]),v)," "]),y)," "]),A)," "]),w}},2418:function(t,e,r){"use strict";var n=r(1050),o=r(2419),i=r(1759),s=r(1153).dashboardBgIcon;t.exports=function(t){var e,r,a,u,c;return(e=document.createElement("ul")).setAttribute("class","UppyDashboard-files\n                         "+String(0===t.totalFileCount?"UppyDashboard-files--noFiles":"")),n(e,[" ",0===t.totalFileCount?(u=document.createElement("div"),u.setAttribute("class","UppyDashboard-bgIcon"),n(u,[" ",s()," ",(r=document.createElement("h3"),r.setAttribute("class","UppyDashboard-dropFilesTitle"),n(r,[" ",i({acquirers:t.acquirers,handleInputChange:t.handleInputChange,i18n:t.i18n})," "]),r)," ",t.note?(c=document.createElement("p"),c.setAttribute("class","UppyDashboard-note"),n(c,[t.note]),c):""," ",(a=document.createElement("input"),a.setAttribute("type","file"),a.setAttribute("name","files[]"),a.setAttribute("multiple","multiple"),a.onchange=t.handleInputChange,a.setAttribute("class","UppyDashboard-input"),a)," "]),u):null," ",Object.keys(t.files).map(function(e){return o({acquirers:t.acquirers,file:t.files[e],showFileCard:t.showFileCard,showProgressDetails:t.showProgressDetails,info:t.info,log:t.log,i18n:t.i18n,removeFile:t.removeFile,pauseUpload:t.pauseUpload,cancelUpload:t.cancelUpload,resumableUploads:t.resumableUploads,isWide:t.isWide})})," "]),e}},2419:function(t,e,r){"use strict";var n=r(1050),o="http://www.w3.org/2000/svg",i=r(1112),s=i.getETA,a=i.getSpeed,u=i.prettyETA,c=i.getFileNameAndExtension,l=i.truncateString,p=i.copyToClipboard,d=r(1359),f=r(2420),h=r(1758),m=r(1153),b=m.iconEdit,g=m.iconCopy;t.exports=function(t){var e,r,i,m,v,y,A,w,S,E,x,U,_,P,T,I,M,D,k,N,C,O,F,z,j,R,B,L=t.file,q=t.acquirers,H=L.progress.uploadComplete,V=L.progress.uploadStarted,W=L.progress.uploadStarted&&!L.progress.uploadComplete,G=L.isPaused||!1,X=c(L.meta.name)[0],Y=t.isWide?l(X,15):X;return(E=document.createElement("li")).setAttribute("id","uppy_"+String(L.id)),E.setAttribute("title",""+String(L.meta.name)),E.setAttribute("class","UppyDashboardItem\n                        "+String(W?"is-inprogress":"")+"\n                        "+String(H?"is-complete":"")+"\n                        "+String(G?"is-paused":"")+"\n                        "+String(t.resumableUploads?"is-resumable":"")),n(E,[" ",(m=document.createElement("div"),m.setAttribute("class","UppyDashboardItem-preview"),n(m,[" ",(e=document.createElement("div"),e.setAttribute("style","background-color: "+String(h(L.type.general,L.type.specific).color)),e.setAttribute("class","UppyDashboardItem-previewInnerWrap"),n(e,[" ",L.preview?(x=document.createElement("img"),x.setAttribute("alt",""+String(L.name)),x.setAttribute("src",""+String(L.preview)),x):(M=document.createElement("div"),M.setAttribute("class","UppyDashboardItem-previewIconWrap"),n(M,[" ",(U=document.createElement("span"),U.setAttribute("style","color: "+String(h(L.type.general,L.type.specific).color)),U.setAttribute("class","UppyDashboardItem-previewIcon"),n(U,[h(L.type.general,L.type.specific).icon]),U)," ",(I=document.createElementNS(o,"svg"),I.setAttribute("width","72"),I.setAttribute("height","93"),I.setAttribute("viewBox","0 0 72 93"),I.setAttribute("class","UppyDashboardItem-previewIconBg"),n(I,[(T=document.createElementNS(o,"g"),n(T,[(_=document.createElementNS(o,"path"),_.setAttribute("d","M24.08 5h38.922A2.997 2.997 0 0 1 66 8.003v74.994A2.997 2.997 0 0 1 63.004 86H8.996A2.998 2.998 0 0 1 6 83.01V22.234L24.08 5z"),_.setAttribute("fill","#FFF"),_),(P=document.createElementNS(o,"path"),P.setAttribute("d","M24 5L6 22.248h15.007A2.995 2.995 0 0 0 24 19.244V5z"),P.setAttribute("fill","#E4E4E4"),P)]),T)]),I)," "]),M)," "]),e)," ",(i=document.createElement("div"),i.setAttribute("class","UppyDashboardItem-progress"),n(i,[" ",(r=document.createElement("button"),r.setAttribute("type","button"),r.setAttribute("title",""+String(H?"upload complete":t.resumableUploads?L.isPaused?"resume upload":"pause upload":"cancel upload")),r.onclick=function(e){H||(t.resumableUploads?t.pauseUpload(L.id):t.cancelUpload(L.id))},r.setAttribute("class","UppyDashboardItem-progressBtn"),n(r,[" ",f({progress:L.progress.percentage,fileID:L.id})," "]),r)," ",t.showProgressDetails?(D=document.createElement("div"),D.setAttribute("title",""+String(t.i18n("fileProgress"))),D.setAttribute("aria-label",""+String(t.i18n("fileProgress"))),D.setAttribute("class","UppyDashboardItem-progressInfo"),n(D,[" ",L.isPaused||H?null:(k=document.createElement("span"),n(k,[u(s(L.progress))," \u30fb \u2191 ",d(a(L.progress)),"/s"]),k)," "]),D):null," "]),i)," "]),m)," ",(w=document.createElement("div"),w.setAttribute("class","UppyDashboardItem-info"),n(w,[" ",(v=document.createElement("h4"),v.setAttribute("title",""+String(X)),v.setAttribute("class","UppyDashboardItem-name"),n(v,[" ",L.uploadURL?(N=document.createElement("a"),N.setAttribute("href",""+String(L.uploadURL)),N.setAttribute("target","_blank"),n(N,[" ",L.extension?Y+"."+L.extension:Y," "]),N):L.extension?Y+"."+L.extension:Y," "]),v)," ",(A=document.createElement("div"),A.setAttribute("class","UppyDashboardItem-status"),n(A,[" ",(y=document.createElement("div"),y.setAttribute("class","UppyDashboardItem-statusSize"),n(y,[L.data.size?d(L.data.size):""]),y)," ",L.source?(C=document.createElement("div"),C.setAttribute("class","UppyDashboardItem-sourceIcon"),n(C,[" ",q.map(function(t){var e;if(t.id===L.source)return(e=document.createElement("span")).setAttribute("title",""+String(t.name)),n(e,[t.icon()]),e})," "]),C):""," "]),A)," ",V?null:(O=document.createElement("button"),O.setAttribute("type","button"),O.setAttribute("aria-label","Edit file"),O.setAttribute("title","Edit file"),O.onclick=function(e){return t.showFileCard(L.id)},O.setAttribute("class","UppyDashboardItem-edit"),n(O,[" ",b()]),O)," ",L.uploadURL?(F=document.createElement("button"),F.setAttribute("type","button"),F.setAttribute("aria-label","Copy link"),F.setAttribute("title","Copy link"),F.onclick=function(){p(L.uploadURL,t.i18n("copyLinkToClipboardFallback")).then(function(){t.log("Link copied to clipboard."),t.info(t.i18n("copyLinkToClipboardSuccess"),"info",3e3)}).catch(t.log)},F.setAttribute("class","UppyDashboardItem-copyLink"),n(F,[g()]),F):null," "]),w)," ",(S=document.createElement("div"),S.setAttribute("class","UppyDashboardItem-action"),n(S,[" ",H?null:(B=document.createElement("button"),B.setAttribute("type","button"),B.setAttribute("aria-label","Remove file"),B.setAttribute("title","Remove file"),B.onclick=function(){return t.removeFile(L.id)},B.setAttribute("class","UppyDashboardItem-remove"),n(B,[" ",(R=document.createElementNS(o,"svg"),R.setAttribute("width","22"),R.setAttribute("height","21"),R.setAttribute("viewBox","0 0 18 17"),R.setAttribute("class","UppyIcon"),n(R,[" ",(z=document.createElementNS(o,"ellipse"),z.setAttribute("cx","8.62"),z.setAttribute("cy","8.383"),z.setAttribute("rx","8.62"),z.setAttribute("ry","8.383"),z)," ",(j=document.createElementNS(o,"path"),j.setAttribute("stroke","#FFF"),j.setAttribute("fill","#FFF"),j.setAttribute("d","M11 6.147L10.85 6 8.5 8.284 6.15 6 6 6.147 8.35 8.43 6 10.717l.15.146L8.5 8.578l2.35 2.284.15-.146L8.65 8.43z"),j)," "]),R)," "]),B)," "]),S)," "]),E}},2420:function(t,e,r){"use strict";var n="http://www.w3.org/2000/svg",o=r(1050),i=2*Math.PI*15;t.exports=function(t){var e,r,s,a,u,c,l,p,d,f;return(f=document.createElementNS(n,"svg")).setAttribute("width","70"),f.setAttribute("height","70"),f.setAttribute("viewBox","0 0 36 36"),f.setAttribute("class","UppyIcon UppyIcon-progressCircle"),o(f,[" ",(s=document.createElementNS(n,"g"),s.setAttribute("class","progress-group"),o(s,[" ",(e=document.createElementNS(n,"circle"),e.setAttribute("r","15"),e.setAttribute("cx","18"),e.setAttribute("cy","18"),e.setAttribute("stroke-width","2"),e.setAttribute("fill","none"),e.setAttribute("class","bg"),e)," ",(r=document.createElementNS(n,"circle"),r.setAttribute("r","15"),r.setAttribute("cx","18"),r.setAttribute("cy","18"),r.setAttribute("transform","rotate(-90, 18, 18)"),r.setAttribute("stroke-width","2"),r.setAttribute("fill","none"),r.setAttribute("stroke-dasharray",""+String(i)),r.setAttribute("stroke-dashoffset",""+String(i-i/100*t.progress)),r.setAttribute("class","progress"),r)," "]),s)," ",(a=document.createElementNS(n,"polygon"),a.setAttribute("transform","translate(3, 3)"),a.setAttribute("points","12 20 12 10 20 15"),a.setAttribute("class","play"),a)," ",(l=document.createElementNS(n,"g"),l.setAttribute("transform","translate(14.5, 13)"),l.setAttribute("class","pause"),o(l,[" ",(u=document.createElementNS(n,"rect"),u.setAttribute("x","0"),u.setAttribute("y","0"),u.setAttribute("width","2"),u.setAttribute("height","10"),u.setAttribute("rx","0"),u)," ",(c=document.createElementNS(n,"rect"),c.setAttribute("x","5"),c.setAttribute("y","0"),c.setAttribute("width","2"),c.setAttribute("height","10"),c.setAttribute("rx","0"),c)," "]),l)," ",(p=document.createElementNS(n,"polygon"),p.setAttribute("transform","translate(2, 3)"),p.setAttribute("points","14 22.5 7 15.2457065 8.99985857 13.1732815 14 18.3547104 22.9729883 9 25 11.1005634"),p.setAttribute("class","check"),p)," ",(d=document.createElementNS(n,"polygon"),d.setAttribute("transform","translate(2, 2)"),d.setAttribute("points","19.8856516 11.0625 16 14.9481516 12.1019737 11.0625 11.0625 12.1143484 14.9481516 16 11.0625 19.8980263 12.1019737 20.9375 16 17.0518484 19.8856516 20.9375 20.9375 19.8980263 17.0518484 16 20.9375 12"),d.setAttribute("class","cancel"),d)]),f}},2421:function(t,e,r){"use strict";var n=r(1050),o=r(1759),i=r(1153).localIcon;t.exports=function(t){var e,r,s,a,u,c,l,p,d,f=0===Object.keys(t.files).length;if(0===t.acquirers.length)return(d=document.createElement("div")).setAttribute("aria-hidden",""+String(f)),d.setAttribute("class","UppyDashboardTabs"),n(d,[" ",(p=document.createElement("h3"),p.setAttribute("class","UppyDashboardTabs-title"),n(p,[" ",o({acquirers:t.acquirers,handleInputChange:t.handleInputChange,i18n:t.i18n})," "]),p)," "]),d;var h=((e=document.createElement("input")).setAttribute("type","file"),e.setAttribute("name","files[]"),e.setAttribute("multiple","multiple"),e.onchange=t.handleInputChange,e.setAttribute("class","UppyDashboard-input"),e);return(l=document.createElement("div")).setAttribute("class","UppyDashboardTabs"),n(l,[" ",(c=document.createElement("nav"),n(c,[" ",(u=document.createElement("ul"),u.setAttribute("role","tablist"),u.setAttribute("class","UppyDashboardTabs-list"),n(u,[" ",(a=document.createElement("li"),a.setAttribute("class","UppyDashboardTab"),n(a,[" ",(s=document.createElement("button"),s.setAttribute("type","button"),s.setAttribute("role","tab"),s.setAttribute("tabindex","0"),s.onclick=function(t){h.click()},s.setAttribute("class","UppyDashboardTab-btn UppyDashboard-focus"),n(s,[" ",i()," ",(r=document.createElement("h5"),r.setAttribute("class","UppyDashboardTab-name"),n(r,[t.i18n("myDevice")]),r)," "]),s)," ",h," "]),a)," ",t.acquirers.map(function(e){var r,o,i;return(i=document.createElement("li")).setAttribute("class","UppyDashboardTab"),n(i,[" ",(o=document.createElement("button"),o.setAttribute("type","button"),o.setAttribute("role","tab"),o.setAttribute("tabindex","0"),o.setAttribute("aria-controls","UppyDashboardContent-panel--"+String(e.id)),o.setAttribute("aria-selected",""+String(e.isHidden?"false":"true")),o.onclick=function(){return t.showPanel(e.id)},o.setAttribute("class","UppyDashboardTab-btn"),n(o,[" ",e.icon()," ",(r=document.createElement("h5"),r.setAttribute("class","UppyDashboardTab-name"),n(r,[e.name]),r)," "]),o)," "]),i})," "]),u)," "]),c)," "]),l}},2422:function(t,e,r){"use strict";var n=r(1050),o="http://www.w3.org/2000/svg",i=r(1758),s=r(1153).checkIcon;t.exports=function(t){var e,r,a,u,c,l,p,d,f,h,m,b,g,v,y,A,w,S,E,x,U=!!t.fileCardFor&&t.files[t.fileCardFor],_={};function P(t){var e=t.target.value,r=t.target.attributes.name.value;_[r]=e}return(p=document.createElement("div")).setAttribute("aria-hidden",""+String(!t.fileCardFor)),p.setAttribute("class","UppyDashboardFileCard"),n(p,[" ",(u=document.createElement("div"),u.setAttribute("class","UppyDashboardContent-bar"),n(u,[" ",(r=document.createElement("h2"),r.setAttribute("class","UppyDashboardContent-title"),n(r,["Editing ",(e=document.createElement("span"),e.setAttribute("class","UppyDashboardContent-titleFile"),n(e,[U.meta?U.meta.name:U.name]),e)]),r)," ",(a=document.createElement("button"),a.setAttribute("type","button"),a.setAttribute("title","Finish editing file"),a.onclick=function(){return t.done(_,U.id)},a.setAttribute("class","UppyDashboardContent-back"),a.textContent="Done",a)," "]),u)," ",t.fileCardFor?(g=document.createElement("div"),g.setAttribute("class","UppyDashboardFileCard-inner"),n(g,[" ",(d=document.createElement("div"),d.setAttribute("style","background-color: "+String(i(U.type.general,U.type.specific).color)),d.setAttribute("class","UppyDashboardFileCard-preview"),n(d,[" ",U.preview?(v=document.createElement("img"),v.setAttribute("alt",""+String(U.name)),v.setAttribute("src",""+String(U.preview)),v):(x=document.createElement("div"),x.setAttribute("class","UppyDashboardItem-previewIconWrap"),n(x,[" ",(y=document.createElement("span"),y.setAttribute("style","color: "+String(i(U.type.general,U.type.specific).color)),y.setAttribute("class","UppyDashboardItem-previewIcon"),n(y,[i(U.type.general,U.type.specific).icon]),y)," ",(E=document.createElementNS(o,"svg"),E.setAttribute("width","72"),E.setAttribute("height","93"),E.setAttribute("viewBox","0 0 72 93"),E.setAttribute("class","UppyDashboardItem-previewIconBg"),n(E,[(S=document.createElementNS(o,"g"),n(S,[(A=document.createElementNS(o,"path"),A.setAttribute("d","M24.08 5h38.922A2.997 2.997 0 0 1 66 8.003v74.994A2.997 2.997 0 0 1 63.004 86H8.996A2.998 2.998 0 0 1 6 83.01V22.234L24.08 5z"),A.setAttribute("fill","#FFF"),A),(w=document.createElementNS(o,"path"),w.setAttribute("d","M24 5L6 22.248h15.007A2.995 2.995 0 0 0 24 19.244V5z"),w.setAttribute("fill","#E4E4E4"),w)]),S)]),E)," "]),x)," "]),d)," ",(b=document.createElement("div"),b.setAttribute("class","UppyDashboardFileCard-info"),n(b,[" ",(m=document.createElement("fieldset"),m.setAttribute("class","UppyDashboardFileCard-fieldset"),n(m,[" ",(f=document.createElement("label"),f.setAttribute("class","UppyDashboardFileCard-label"),f.textContent="Name",f)," ",(h=document.createElement("input"),h.setAttribute("name","name"),h.setAttribute("type","text"),h.setAttribute("value",""+String(U.meta.name)),h.onkeyup=P,h.setAttribute("class","UppyDashboardFileCard-input"),h)," "]),m)," ",function(e){return(t.metaFields||[]).map(function(t){var r,o,i;return(i=document.createElement("fieldset")).setAttribute("class","UppyDashboardFileCard-fieldset"),n(i,[" ",(r=document.createElement("label"),r.setAttribute("class","UppyDashboardFileCard-label"),n(r,[t.name]),r)," ",(o=document.createElement("input"),o.setAttribute("name",""+String(t.id)),o.setAttribute("type","text"),o.setAttribute("value",""+String(e.meta[t.id])),o.setAttribute("placeholder",""+String(t.placeholder||"")),o.onkeyup=P,o.setAttribute("class","UppyDashboardFileCard-input"),o)]),i})}(U)," "]),b)," "]),g):null," ",(l=document.createElement("div"),l.setAttribute("class","UppyDashboard-actions"),n(l,[" ",(c=document.createElement("button"),c.setAttribute("type","button"),c.setAttribute("title","Finish editing file"),c.onclick=function(){return t.done(_,U.id)},c.setAttribute("class","UppyButton--circular UppyButton--blue UppyDashboardFileCard-done"),n(c,[s()]),c)," "]),l)," "]),p}},2423:function(t,e,r){"use strict";var n=r(1050),o=r(1153).uploadIcon;t.exports=function(t){var e,r;return t=t||{},(r=document.createElement("button")).setAttribute("type","button"),r.setAttribute("title",""+String(t.i18n("uploadAllNewFiles"))),r.setAttribute("aria-label",""+String(t.i18n("uploadAllNewFiles"))),r.onclick=t.startUpload,r.setAttribute("class","UppyButton--circular\n                   UppyButton--blue\n                   UppyDashboard-upload"),n(r,[" ",o()," ",(e=document.createElement("sup"),e.setAttribute("title",""+String(t.i18n("numberOfSelectedFiles"))),e.setAttribute("aria-label",""+String(t.i18n("numberOfSelectedFiles"))),e.setAttribute("class","UppyDashboard-uploadCount"),n(e,[" ",t.newFileCount]),e)," "]),r}},2424:function(t,e,r){"use strict";var n=r(4),o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t};var i=r(1139),s=r(2425),a=r(1112).getSpeed,u=r(1112).getBytesRemaining,c=r(1112).prettyETA,l=r(1359);t.exports=function(t){function e(r,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var s=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==n(e)&&"function"!==typeof e?t:e}(this,t.call(this,r,i));s.id="StatusBarUI",s.title="StatusBar UI",s.type="progressindicator";return s.opts=o({},{target:"body",showProgressDetails:!1},i),s.pauseAll=s.pauseAll.bind(s),s.resumeAll=s.resumeAll.bind(s),s.cancelAll=s.cancelAll.bind(s),s.render=s.render.bind(s),s.install=s.install.bind(s),s}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+n(e));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.cancelAll=function(){this.core.emit("core:cancel-all")},e.prototype.pauseAll=function(){this.core.emit("core:pause-all")},e.prototype.resumeAll=function(){this.core.emit("core:resume-all")},e.prototype.getTotalSpeed=function(t){var e=0;return t.forEach(function(t){e+=a(t.progress)}),e},e.prototype.getTotalETA=function(t){var e=this.getTotalSpeed(t);if(0===e)return 0;var r=t.reduce(function(t,e){return t+u(e.progress)},0);return Math.round(r/e*10)/10},e.prototype.render=function(t){var e=t.files,r=Object.keys(e).filter(function(t){return e[t].progress.uploadStarted}),n=Object.keys(e).filter(function(t){return e[t].progress.uploadComplete}),o=Object.keys(e).filter(function(t){return!e[t].progress.uploadComplete&&e[t].progress.uploadStarted&&!e[t].isPaused}),i=Object.keys(e).filter(function(t){return e[t].progress.preprocess||e[t].progress.postprocess}),a=[];o.forEach(function(t){a.push(e[t])});var u=l(this.getTotalSpeed(a)),p=c(this.getTotalETA(a)),d=0,f=0;a.forEach(function(t){d+=t.progress.bytesTotal||0,f+=t.progress.bytesUploaded||0}),d=l(d),f=l(f);var h=100===t.totalProgress&&n.length===Object.keys(e).length&&0===i.length,m=0===o.length&&!h&&r.length>0,b=r.length>0,g=this.core.getState().capabilities.resumableUploads||!1;return s({error:t.error,totalProgress:t.totalProgress,totalSize:d,totalUploadedSize:f,uploadStartedFiles:r,isAllComplete:h,isAllPaused:m,isUploadStarted:b,pauseAll:this.pauseAll,resumeAll:this.resumeAll,cancelAll:this.cancelAll,complete:n.length,inProgress:r.length,totalSpeed:u,totalETA:p,files:t.files,resumableUploads:g})},e.prototype.install=function(){var t=this.opts.target;this.target=this.mount(t,this)},e.prototype.uninstall=function(){this.unmount()},e}(i)},2425:function(t,e,r){"use strict";var n=r(1050),o="http://www.w3.org/2000/svg";var i=r(1134)(function(t){var e;return e=document.createElement("span"),n(e,[t.totalProgress||0,"%\u30fb",t.complete," / ",t.inProgress,"\u30fb",t.totalUploadedSize," / ",t.totalSize,"\u30fb\u2191 ",t.totalSpeed,"/s\u30fb",t.totalETA]),e},1e3,{leading:!0,trailing:!0}),s="error",a="waiting",u="preprocessing",c="uploading",l="postprocessing",p="complete";t.exports=function(t){var e,r,o,i=function(t,e){if(t.error)return s;if(t.isAllComplete)return p;for(var r=a,n=Object.keys(e),o=0;o<n.length;o++){var i=e[n[o]].progress;if(i.uploadStarted&&!i.uploadComplete)return c;i.preprocess&&r!==c&&(r=u),i.postprocess&&r!==c&&r!==u&&(r=l)}return r}(t=t||{},t.files||{}),b=t.totalProgress,g=void 0,v=void 0;if(i===u||i===l){var y=function(t){var e=[];Object.keys(t).forEach(function(r){var n=t[r].progress;n.preprocess&&e.push(n.preprocess),n.postprocess&&e.push(n.postprocess)});var r=e[0];return{mode:r.mode,message:r.message,value:e.filter(function(t){return"determinate"===t.mode}).reduce(function(t,e,r,n){return t+e.value/n.length},0)}}(t.files);"determinate"===(g=y.mode)&&(b=100*y.value),v=d(y)}else i===p?v=h(t):i===c?v=f(t):i===s&&(b=void 0,v=m(t));var A="number"===typeof b?b:100;return(o=document.createElement("div")).setAttribute("aria-hidden",""+String(i===a)),o.setAttribute("title",""),o.setAttribute("class","UppyStatusBar is-"+String(i)),n(o,[" ",(e=document.createElement("progress"),e.setAttribute("style","display: none;"),e.setAttribute("min","0"),e.setAttribute("max","100"),e.setAttribute("value",""+String(b)),e)," ",(r=document.createElement("div"),r.setAttribute("style","width: "+String(A)+"%"),r.setAttribute("class","UppyStatusBar-progress "+String(g?"is-"+g:"")),r)," ",v," "]),o};var d=function(t){var e;return(e=document.createElement("div")).setAttribute("class","UppyStatusBar-content"),n(e,[" ","determinate"===t.mode?Math.round(100*t.value)+"%\u30fb":""," ",t.message," "]),e},f=function(t){var e,r,o;return(e=document.createElement("div")).setAttribute("class","UppyStatusBar-content"),n(e,[" ",t.isUploadStarted&&!t.isAllComplete?t.isAllPaused?(o=document.createElement("span"),o.setAttribute("title","Paused"),n(o,[b(t)," Paused\u30fb",t.totalProgress,"%"]),o):(r=document.createElement("span"),r.setAttribute("title","Uploading"),n(r,[b(t)," Uploading... ",i(t)]),r):null," "]),e},h=function(t){var e,r,i,s,a=t.totalProgress;return(s=document.createElement("div")).setAttribute("class","UppyStatusBar-content"),n(s,[" ",(i=document.createElement("span"),i.setAttribute("title","Complete"),n(i,[" ",(r=document.createElementNS(o,"svg"),r.setAttribute("width","18"),r.setAttribute("height","17"),r.setAttribute("viewBox","0 0 23 17"),r.setAttribute("class","UppyStatusBar-action UppyIcon"),n(r,[" ",(e=document.createElementNS(o,"path"),e.setAttribute("d","M8.944 17L0 7.865l2.555-2.61 6.39 6.525L20.41 0 23 2.645z"),e)," "]),r)," Upload complete\u30fb",a,"% "]),i)," "]),s},m=function(t){var e,r,o=t.error;return(r=document.createElement("div")).setAttribute("class","UppyStatusBar-content"),n(r,[" ",(e=document.createElement("span"),n(e,[" ",o.message," "]),e)," "]),r},b=function(t){var e,r,i,s,a,u,c,l=t.resumableUploads?t.isAllPaused?"resume upload":"pause upload":"cancel upload";return(e=document.createElement("button")).setAttribute("title",""+String(l)),e.setAttribute("type","button"),e.onclick=function(){return g(t)},e.setAttribute("class","UppyStatusBar-action"),n(e,[" ",t.resumableUploads?t.isAllPaused?(i=document.createElementNS(o,"svg"),i.setAttribute("width","15"),i.setAttribute("height","17"),i.setAttribute("viewBox","0 0 11 13"),i.setAttribute("class","UppyIcon"),n(i,[" ",(r=document.createElementNS(o,"path"),r.setAttribute("d","M1.26 12.534a.67.67 0 0 1-.674.012.67.67 0 0 1-.336-.583v-11C.25.724.38.5.586.382a.658.658 0 0 1 .673.012l9.165 5.5a.66.66 0 0 1 .325.57.66.66 0 0 1-.325.573l-9.166 5.5z"),r)," "]),i):(a=document.createElementNS(o,"svg"),a.setAttribute("width","16"),a.setAttribute("height","17"),a.setAttribute("viewBox","0 0 12 13"),a.setAttribute("class","UppyIcon"),n(a,[" ",(s=document.createElementNS(o,"path"),s.setAttribute("d","M4.888.81v11.38c0 .446-.324.81-.722.81H2.722C2.324 13 2 12.636 2 12.19V.81c0-.446.324-.81.722-.81h1.444c.398 0 .722.364.722.81zM9.888.81v11.38c0 .446-.324.81-.722.81H7.722C7.324 13 7 12.636 7 12.19V.81c0-.446.324-.81.722-.81h1.444c.398 0 .722.364.722.81z"),s)," "]),a):(c=document.createElementNS(o,"svg"),c.setAttribute("width","16px"),c.setAttribute("height","16px"),c.setAttribute("viewBox","0 0 19 19"),c.setAttribute("class","UppyIcon"),n(c,[" ",(u=document.createElementNS(o,"path"),u.setAttribute("d","M17.318 17.232L9.94 9.854 9.586 9.5l-.354.354-7.378 7.378h.707l-.62-.62v.706L9.318 9.94l.354-.354-.354-.354L1.94 1.854v.707l.62-.62h-.706l7.378 7.378.354.354.354-.354 7.378-7.378h-.707l.622.62v-.706L9.854 9.232l-.354.354.354.354 7.378 7.378.708-.707-7.38-7.378v.708l7.38-7.38.353-.353-.353-.353-.622-.622-.353-.353-.354.352-7.378 7.38h.708L2.56 1.23 2.208.88l-.353.353-.622.62-.353.355.352.353 7.38 7.38v-.708l-7.38 7.38-.353.353.352.353.622.622.353.353.354-.353 7.38-7.38h-.708l7.38 7.38z"),u)," "]),c)," "]),e},g=function(t){if(!t.isAllComplete)return t.resumableUploads?t.isAllPaused?t.resumeAll():t.pauseAll():t.cancelAll()}},2426:function(t,e,r){"use strict";var n=r(4),o=r(1050),i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t};var s=r(1139);t.exports=function(t){function e(r,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var s=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==n(e)&&"function"!==typeof e?t:e}(this,t.call(this,r,o));s.type="progressindicator",s.id="Informer",s.title="Informer";return s.opts=i({},{typeColors:{info:{text:"#fff",bg:"#000"},warning:{text:"#fff",bg:"#F6A623"},error:{text:"#fff",bg:"#e74c3c"},success:{text:"#fff",bg:"#7ac824"}}},o),s.render=s.render.bind(s),s}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+n(e));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.render=function(t){var e,r,n=t.info.isHidden,i=t.info.msg,s=t.info.type||"info",a="background-color: "+this.opts.typeColors[s].bg+"; color: "+this.opts.typeColors[s].text+";";return(r=document.createElement("div")).setAttribute("style",""+String(a)),r.setAttribute("aria-hidden",""+String(n)),r.setAttribute("class","Uppy UppyTheme--default UppyInformer"),o(r,[" ",(e=document.createElement("p"),o(e,[i]),e)," "]),r},e.prototype.install=function(){var t=this.opts.target;this.target=this.mount(t,this)},e}(s)},2427:function(t,e,r){"use strict";var n=r(4),o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},i="http://www.w3.org/2000/svg",s=r(1050);var a=r(1139),u=r(1556),c=r(1557);t.exports=function(t){function e(r,a){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var c=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==n(e)&&"function"!==typeof e?t:e}(this,t.call(this,r,a));c.type="acquirer",c.id="GoogleDrive",c.title="Google Drive",c.stateId="googleDrive",c.icon=function(){var t,e;return(e=document.createElementNS(i,"svg")).setAttribute("width","28"),e.setAttribute("height","28"),e.setAttribute("viewBox","0 0 16 16"),e.setAttribute("class","UppyIcon UppyModalTab-icon"),s(e,[" ",(t=document.createElementNS(i,"path"),t.setAttribute("d","M2.955 14.93l2.667-4.62H16l-2.667 4.62H2.955zm2.378-4.62l-2.666 4.62L0 10.31l5.19-8.99 2.666 4.62-2.523 4.37zm10.523-.25h-5.333l-5.19-8.99h5.334l5.19 8.99z"),t)," "]),e},c.GoogleDrive=new u(r,{host:c.opts.host,provider:"drive",authProvider:"google"}),c.files=[],c.onAuth=c.onAuth.bind(c),c.render=c.render.bind(c);return c.opts=o({},{},a),c}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+n(e));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.install=function(){this.view=new c(this),this.core.setState({googleDrive:{authenticated:!1,files:[],folders:[],directories:[],activeRow:-1,filterInput:"",isSearchVisible:!1}});var t=this.opts.target;this.target=this.mount(t,this)},e.prototype.uninstall=function(){this.unmount()},e.prototype.onAuth=function(t){this.view.updateState({authenticated:t}),t&&this.view.getFolder("root")},e.prototype.isFolder=function(t){return"application/vnd.google-apps.folder"===t.mimeType},e.prototype.getItemData=function(t){return o({},t,{size:parseFloat(t.fileSize)})},e.prototype.getItemIcon=function(t){var e;return(e=document.createElement("img")).setAttribute("src",""+String(t.iconLink)),e},e.prototype.getItemSubList=function(t){var e=this;return t.items.filter(function(t){return e.isFolder(t)||!t.mimeType.startsWith("application/vnd.google")})},e.prototype.getItemName=function(t){return t.title?t.title:"/"},e.prototype.getMimeType=function(t){return t.mimeType},e.prototype.getItemId=function(t){return t.id},e.prototype.getItemRequestPath=function(t){return this.getItemId(t)},e.prototype.getItemModifiedDate=function(t){return t.modifiedByMeDate},e.prototype.getItemThumbnailUrl=function(t){return this.opts.host+"/"+this.GoogleDrive.id+"/thumbnail/"+this.getItemRequestPath(t)},e.prototype.render=function(t){return this.view.render(t)},e}(a)},2428:function(t,e,r){"use strict";var n=r(1050),o=r(1555),i=r(1761);t.exports=function(t){var e,r,s,a,u,c,l,p=t.demo?((e=document.createElement("button")).onclick=t.handleDemoAuth,e.setAttribute("class","UppyProvider-authBtnDemo"),e.textContent="Proceed with Demo Account",e):null;return o(((r=document.createElement("div")).setAttribute("style","height: 100%;"),n(r,[" ",t.checkAuthInProgress?i():((l=document.createElement("div")).setAttribute("class","UppyProvider-auth"),n(l,[" ",(u=document.createElement("h1"),u.setAttribute("class","UppyProvider-authTitle"),n(u,["Please authenticate with ",(s=document.createElement("span"),s.setAttribute("class","UppyProvider-authTitleName"),n(s,[t.pluginName]),s),(a=document.createElement("br"),a)," to select files"]),u)," ",(c=document.createElement("button"),c.setAttribute("type","button"),c.onclick=t.handleAuth,c.setAttribute("class","UppyProvider-authBtn"),c.textContent="Authenticate",c)," ",p," "]),l)," "]),r),t.checkAuth,null,"auth"+t.pluginName)}},2429:function(t,e,r){"use strict";var n="http://www.w3.org/2000/svg",o=r(1050),i=r(2430),s=r(2432);t.exports=function(t){var e,r,a,u,c,l,p,d,f,h,m,b,g,v=t.folders,y=t.files;return""!==t.filterInput&&(v=t.filterItems(t.folders),y=t.filterItems(t.files)),(g=document.createElement("div")).setAttribute("class","Browser Browser-viewType--"+String(t.viewType)),o(g,[" ",(m=document.createElement("header"),m.setAttribute("class","Browser-header"),o(m,[" ",(c=document.createElement("div"),c.setAttribute("aria-hidden",""+String(!t.isSearchVisible)),c.setAttribute("class","Browser-search"),o(c,[" ",(e=document.createElement("input"),e.setAttribute("type","text"),e.setAttribute("placeholder","Search"),e.onkeyup=t.filterQuery,e.setAttribute("value",""+String(t.filterInput)),e.setAttribute("class","Browser-searchInput"),e)," ",(u=document.createElement("button"),u.setAttribute("type","button"),u.onclick=t.toggleSearch,u.setAttribute("class","Browser-searchClose"),o(u,[" ",(a=document.createElementNS(n,"svg"),a.setAttribute("viewBox","0 0 19 19"),a.setAttribute("class","UppyIcon"),o(a,[" ",(r=document.createElementNS(n,"path"),r.setAttribute("d","M17.318 17.232L9.94 9.854 9.586 9.5l-.354.354-7.378 7.378h.707l-.62-.62v.706L9.318 9.94l.354-.354-.354-.354L1.94 1.854v.707l.62-.62h-.706l7.378 7.378.354.354.354-.354 7.378-7.378h-.707l.622.62v-.706L9.854 9.232l-.354.354.354.354 7.378 7.378.708-.707-7.38-7.378v.708l7.38-7.38.353-.353-.353-.353-.622-.622-.353-.353-.354.352-7.378 7.38h.708L2.56 1.23 2.208.88l-.353.353-.622.62-.353.355.352.353 7.38 7.38v-.708l-7.38 7.38-.353.353.352.353.622.622.353.353.354-.353 7.38-7.38h-.708l7.38 7.38z"),r)," "]),a)," "]),u)," "]),c)," ",(h=document.createElement("div"),h.setAttribute("class","Browser-headerBar"),o(h,[" ",(d=document.createElement("button"),d.setAttribute("type","button"),d.onclick=t.toggleSearch,d.setAttribute("class","Browser-searchToggle"),o(d,[" ",(p=document.createElementNS(n,"svg"),p.setAttribute("viewBox","0 0 100 100"),p.setAttribute("class","UppyIcon"),o(p,[" ",(l=document.createElementNS(n,"path"),l.setAttribute("d","M87.533 80.03L62.942 55.439c3.324-4.587 5.312-10.207 5.312-16.295 0-.312-.043-.611-.092-.908.05-.301.093-.605.093-.922 0-15.36-12.497-27.857-27.857-27.857-.273 0-.536.043-.799.08-.265-.037-.526-.08-.799-.08-15.361 0-27.858 12.497-27.858 27.857 0 .312.042.611.092.909a5.466 5.466 0 0 0-.093.921c0 15.36 12.496 27.858 27.857 27.858.273 0 .535-.043.8-.081.263.038.524.081.798.081 5.208 0 10.071-1.464 14.245-3.963L79.582 87.98a5.603 5.603 0 0 0 3.976 1.647 5.621 5.621 0 0 0 3.975-9.597zM39.598 55.838c-.265-.038-.526-.081-.8-.081-9.16 0-16.612-7.452-16.612-16.612 0-.312-.042-.611-.092-.908.051-.301.093-.605.093-.922 0-9.16 7.453-16.612 16.613-16.612.272 0 .534-.042.799-.079.263.037.525.079.799.079 9.16 0 16.612 7.452 16.612 16.612 0 .312.043.611.092.909-.05.301-.094.604-.094.921 0 9.16-7.452 16.612-16.612 16.612-.274 0-.536.043-.798.081z"),l)," "]),p)," "]),d)," ",i({getFolder:t.getFolder,directories:t.directories,title:t.title})," ",(f=document.createElement("button"),f.setAttribute("type","button"),f.onclick=t.logout,f.setAttribute("class","Browser-userLogout"),f.textContent="Log out",f)," "]),h)," "]),m)," ",(b=document.createElement("div"),b.setAttribute("class","Browser-body"),o(b,[" ",s({columns:[{name:"Name",key:"title"}],folders:v,files:y,activeRow:t.isActiveRow,sortByTitle:t.sortByTitle,sortByDate:t.sortByDate,handleFileClick:t.addFile,handleFolderClick:t.getNextFolder,getItemName:t.getItemName,getItemIcon:t.getItemIcon,handleScroll:t.handleScroll})," "]),b)," "]),g}},2430:function(t,e,r){"use strict";var n=r(1050),o=r(2431);t.exports=function(t){var e;return(e=document.createElement("ul")).setAttribute("class","UppyProvider-breadcrumbs"),n(e,[" ",t.directories.map(function(e,r){return o({getFolder:function(){return t.getFolder(e.id)},title:0===r?t.title:e.title})})," "]),e}},2431:function(t,e,r){"use strict";var n=r(1050);t.exports=function(t){var e,r;return r=document.createElement("li"),n(r,[" ",(e=document.createElement("button"),e.setAttribute("type","button"),e.onclick=t.getFolder,n(e,[t.title]),e)," "]),r}},2432:function(t,e,r){"use strict";var n=r(1050),o=r(2433);t.exports=function(t){var e,r;return(r=document.createElement("table")).onscroll=t.handleScroll,r.setAttribute("class","BrowserTable"),n(r,[" ",(e=document.createElement("tbody"),n(e,[" ",t.folders.map(function(e){return o({title:t.getItemName(e),active:t.activeRow(e),getItemIcon:function(){return t.getItemIcon(e)},handleClick:function(){return t.handleFolderClick(e)},columns:t.columns})})," ",t.files.map(function(e){return o({title:t.getItemName(e),active:t.activeRow(e),getItemIcon:function(){return t.getItemIcon(e)},handleClick:function(){return t.handleFileClick(e)},columns:t.columns})})," "]),e)," "]),r}},2433:function(t,e,r){"use strict";var n=r(1050),o=r(2434);t.exports=function(t){var e,r=t.active?"BrowserTable-row is-active":"BrowserTable-row";return(e=document.createElement("tr")).onclick=t.handleClick,e.setAttribute("class",""+String(r)),n(e,[" ",o({getItemIcon:t.getItemIcon,value:t.title})," "]),e}},2434:function(t,e,r){"use strict";var n=r(1050);t.exports=function(t){var e;return(e=document.createElement("td")).setAttribute("class","BrowserTable-rowColumn BrowserTable-column"),n(e,[" ",t.getItemIcon()," ",t.value," "]),e}},2435:function(t,e,r){"use strict";var n=r(4),o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},i="http://www.w3.org/2000/svg",s=r(1050);var a=r(1139),u=r(1556),c=r(1557),l=r(2436);t.exports=function(t){function e(r,a){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var c=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==n(e)&&"function"!==typeof e?t:e}(this,t.call(this,r,a));c.type="acquirer",c.id="Dropbox",c.title="Dropbox",c.stateId="dropbox",c.icon=function(){var t,e,r,n;return(n=document.createElementNS(i,"svg")).setAttribute("width","128"),n.setAttribute("height","118"),n.setAttribute("viewBox","0 0 128 118"),n.setAttribute("class","UppyIcon"),s(n,[" ",(t=document.createElementNS(i,"path"),t.setAttribute("d","M38.145.777L1.108 24.96l25.608 20.507 37.344-23.06z"),t)," ",(e=document.createElementNS(i,"path"),e.setAttribute("d","M1.108 65.975l37.037 24.183L64.06 68.525l-37.343-23.06zM64.06 68.525l25.917 21.633 37.036-24.183-25.61-20.51z"),e)," ",(r=document.createElementNS(i,"path"),r.setAttribute("d","M127.014 24.96L89.977.776 64.06 22.407l37.345 23.06zM64.136 73.18l-25.99 21.567-11.122-7.262v8.142l37.112 22.256 37.114-22.256v-8.142l-11.12 7.262z"),r)," "]),n},c.Dropbox=new u(r,{host:c.opts.host,provider:"dropbox"}),c.files=[],c.onAuth=c.onAuth.bind(c),c.render=c.render.bind(c);return c.opts=o({},{},a),c}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+n(e));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.install=function(){this.view=new c(this),this.core.setState({dropbox:{authenticated:!1,files:[],folders:[],directories:[],activeRow:-1,filterInput:"",isSearchVisible:!1}});var t=this.opts.target;this.target=this.mount(t,this)},e.prototype.uninstall=function(){this.unmount()},e.prototype.onAuth=function(t){this.view.updateState({authenticated:t}),t&&this.view.getFolder()},e.prototype.isFolder=function(t){return t.is_dir},e.prototype.getItemData=function(t){return o({},t,{size:t.bytes})},e.prototype.getItemIcon=function(t){var e=l[t.icon];return e||(e=t.icon.startsWith("folder")?l.folder:l.page_white),e()},e.prototype.getItemSubList=function(t){return t.contents},e.prototype.getItemName=function(t){return t.path.length>1?t.path.substring(1):t.path},e.prototype.getMimeType=function(t){return t.mime_type},e.prototype.getItemId=function(t){return t.rev},e.prototype.getItemRequestPath=function(t){return encodeURIComponent(this.getItemName(t))},e.prototype.getItemModifiedDate=function(t){return t.modified},e.prototype.getItemThumbnailUrl=function(t){return this.opts.host+"/"+this.Dropbox.id+"/thumbnail/"+this.getItemRequestPath(t)},e.prototype.render=function(t){return this.view.render(t)},e}(a)},2436:function(t,e,r){"use strict";var n="http://www.w3.org/2000/svg",o=r(1050);t.exports={folder:function(){var t,e;return(e=document.createElementNS(n,"svg")).setAttribute("style","width:16px;margin-right:3px"),e.setAttribute("viewBox","0 0 276.157 276.157"),e.setAttribute("class","UppyIcon"),o(e,[" ",(t=document.createElementNS(n,"path"),t.setAttribute("d","M273.08 101.378c-3.3-4.65-8.86-7.32-15.254-7.32h-24.34V67.59c0-10.2-8.3-18.5-18.5-18.5h-85.322c-3.63 0-9.295-2.875-11.436-5.805l-6.386-8.735c-4.982-6.814-15.104-11.954-23.546-11.954H58.73c-9.292 0-18.638 6.608-21.737 15.372l-2.033 5.752c-.958 2.71-4.72 5.37-7.596 5.37H18.5C8.3 49.09 0 57.39 0 67.59v167.07c0 .886.16 1.73.443 2.52.152 3.306 1.18 6.424 3.053 9.064 3.3 4.652 8.86 7.32 15.255 7.32h188.487c11.395 0 23.27-8.425 27.035-19.18l40.677-116.188c2.11-6.035 1.43-12.164-1.87-16.816zM18.5 64.088h8.864c9.295 0 18.64-6.607 21.738-15.37l2.032-5.75c.96-2.712 4.722-5.373 7.597-5.373h29.565c3.63 0 9.295 2.876 11.437 5.806l6.386 8.735c4.982 6.815 15.104 11.954 23.546 11.954h85.322c1.898 0 3.5 1.602 3.5 3.5v26.47H69.34c-11.395 0-23.27 8.423-27.035 19.178L15 191.23V67.59c0-1.898 1.603-3.5 3.5-3.5zm242.29 49.15l-40.676 116.188c-1.674 4.78-7.812 9.135-12.877 9.135H18.75c-1.447 0-2.576-.372-3.02-.997-.442-.625-.422-1.814.057-3.18l40.677-116.19c1.674-4.78 7.812-9.134 12.877-9.134h188.487c1.448 0 2.577.372 3.02.997.443.625.423 1.814-.056 3.18z"),t)," "]),e},music:function(){var t,e,r,i,s,a;return(a=document.createElementNS(n,"svg")).setAttribute("width","16.000000pt"),a.setAttribute("height","16.000000pt"),a.setAttribute("viewBox","0 0 48.000000 48.000000"),a.setAttribute("preserveAspectRatio","xMidYMid meet"),a.setAttribute("class","UppyIcon"),o(a,[" ",(s=document.createElementNS(n,"g"),s.setAttribute("transform","translate(0.000000,48.000000) scale(0.100000,-0.100000)"),s.setAttribute("fill","#525050"),s.setAttribute("stroke","none"),o(s,[" ",(t=document.createElementNS(n,"path"),t.setAttribute("d","M209 473 c0 -5 0 -52 1 -106 1 -54 -2 -118 -6 -143 l-7 -46 -44 5\n    c-73 8 -133 -46 -133 -120 0 -17 -5 -35 -10 -38 -18 -11 0 -25 33 -24 30 1 30\n    1 7 8 -15 4 -20 10 -13 14 6 4 9 16 6 27 -9 34 7 70 40 90 17 11 39 20 47 20\n    8 0 -3 -9 -26 -19 -42 -19 -54 -36 -54 -75 0 -36 30 -56 84 -56 41 0 53 5 82\n    34 19 19 34 31 34 27 0 -4 -5 -12 -12 -19 -9 -9 -1 -12 39 -12 106 0 183 -21\n    121 -33 -17 -3 -14 -5 10 -6 25 -1 32 3 32 17 0 26 -20 42 -51 42 -39 0 -43\n    13 -10 38 56 41 76 124 45 185 -25 48 -72 105 -103 123 -15 9 -36 29 -47 45\n    -17 26 -63 41 -65 22z m56 -48 c16 -24 31 -42 34 -39 9 9 79 -69 74 -83 -3 -7\n    -2 -13 3 -12 18 3 25 -1 19 -12 -5 -7 -16 -2 -33 13 l-26 23 16 -25 c17 -27\n    29 -92 16 -84 -4 3 -8 -8 -8 -25 0 -16 4 -33 10 -36 5 -3 7 0 4 9 -3 9 3 20\n    15 28 13 8 21 24 22 43 1 18 3 23 6 12 3 -10 2 -29 -1 -43 -7 -26 -62 -94 -77\n    -94 -13 0 -11 17 4 32 21 19 4 88 -28 115 -14 13 -22 23 -16 23 5 0 21 -14 35\n    -31 14 -17 26 -25 26 -19 0 21 -60 72 -79 67 -16 -4 -17 -1 -8 34 6 24 14 36\n    21 32 6 -3 1 5 -11 18 -12 13 -22 29 -23 34 -1 6 -6 17 -12 25 -6 10 -7 -39\n    -4 -142 l6 -158 -26 10 c-33 13 -44 12 -21 -1 17 -10 24 -44 10 -52 -5 -3 -39\n    -8 -76 -12 -68 -7 -69 -7 -65 17 4 28 64 60 117 62 l36 1 0 157 c0 87 2 158 5\n    158 3 0 18 -20 35 -45z m15 -159 c0 -2 -7 -7 -16 -10 -8 -3 -12 -2 -9 4 6 10\n    25 14 25 6z m50 -92 c0 -13 -4 -26 -10 -29 -14 -9 -13 -48 2 -63 9 -9 6 -12\n    -15 -12 -22 0 -27 5 -27 24 0 14 -4 28 -10 31 -15 9 -13 102 3 108 18 7 57\n    -33 57 -59z m-139 -135 c-32 -26 -121 -25 -121 2 0 6 8 5 19 -1 26 -14 64 -13\n    55 1 -4 8 1 9 16 4 13 -4 20 -3 17 2 -3 5 4 10 16 10 22 2 22 2 -2 -18z"),t)," ",(e=document.createElementNS(n,"path"),e.setAttribute("d","M330 345 c19 -19 36 -35 39 -35 3 0 -10 16 -29 35 -19 19 -36 35 -39\n    35 -3 0 10 -16 29 -35z"),e)," ",(r=document.createElementNS(n,"path"),r.setAttribute("d","M349 123 c-13 -16 -12 -17 4 -4 16 13 21 21 13 21 -2 0 -10 -8 -17\n    -17z"),r)," ",(i=document.createElementNS(n,"path"),i.setAttribute("d","M243 13 c15 -2 39 -2 55 0 15 2 2 4 -28 4 -30 0 -43 -2 -27 -4z"),i)," "]),s)," "]),a},page_white_picture:function(){var t,e,r,i,s,a,u,c,l,p,d;return(d=document.createElementNS(n,"svg")).setAttribute("width","16.000000pt"),d.setAttribute("height","16.000000pt"),d.setAttribute("viewBox","0 0 48.000000 36.000000"),d.setAttribute("preserveAspectRatio","xMidYMid meet"),d.setAttribute("class","UppyIcon"),o(d,[" ",(p=document.createElementNS(n,"g"),p.setAttribute("transform","translate(0.000000,36.000000) scale(0.100000,-0.100000)"),p.setAttribute("fill","#565555"),p.setAttribute("stroke","none"),o(p,[" ",(t=document.createElementNS(n,"path"),t.setAttribute("d","M0 180 l0 -180 240 0 240 0 0 180 0 180 -240 0 -240 0 0 -180z m470\n    0 l0 -170 -230 0 -230 0 0 170 0 170 230 0 230 0 0 -170z"),t)," ",(e=document.createElementNS(n,"path"),e.setAttribute("d","M40 185 l0 -135 200 0 200 0 0 135 0 135 -200 0 -200 0 0 -135z m390\n    59 l0 -65 -29 20 c-37 27 -45 26 -65 -4 -9 -14 -22 -25 -28 -25 -7 0 -24 -12\n    -39 -26 -26 -25 -28 -25 -53 -9 -17 11 -26 13 -26 6 0 -7 -4 -9 -10 -6 -5 3\n    -22 -2 -37 -12 l-28 -18 20 27 c11 15 26 25 33 23 6 -2 12 -1 12 4 0 10 -37\n    21 -65 20 -14 -1 -12 -3 7 -8 l28 -6 -50 -55 -49 -55 0 126 1 126 189 1 189 2\n    0 -66z m-16 -73 c11 -12 14 -21 8 -21 -6 0 -13 4 -17 10 -3 5 -12 7 -19 4 -8\n    -3 -16 2 -19 13 -3 11 -4 7 -4 -9 1 -19 6 -25 18 -23 19 4 46 -21 35 -32 -4\n    -4 -11 -1 -16 7 -6 8 -10 10 -10 4 0 -6 7 -17 15 -24 24 -20 11 -24 -76 -27\n    -69 -1 -83 1 -97 18 -9 10 -20 19 -25 19 -5 0 -4 -6 2 -14 14 -17 -5 -26 -55\n    -26 -36 0 -46 16 -17 27 10 4 22 13 27 22 8 13 10 12 17 -4 7 -17 8 -18 8 -2\n    1 23 11 22 55 -8 33 -22 35 -23 26 -5 -9 16 -8 20 5 20 8 0 15 5 15 11 0 5 -4\n    7 -10 4 -5 -3 -10 -4 -10 -1 0 4 59 36 67 36 2 0 1 -10 -2 -21 -5 -15 -4 -19\n    5 -14 6 4 9 17 6 28 -12 49 27 53 68 8z"),e)," ",(r=document.createElementNS(n,"path"),r.setAttribute("d","M100 296 c0 -2 7 -7 16 -10 8 -3 12 -2 9 4 -6 10 -25 14 -25 6z"),r)," ",(i=document.createElementNS(n,"path"),i.setAttribute("d","M243 293 c9 -2 23 -2 30 0 6 3 -1 5 -18 5 -16 0 -22 -2 -12 -5z"),i)," ",(s=document.createElementNS(n,"path"),s.setAttribute("d","M65 280 c-3 -5 -2 -10 4 -10 5 0 13 5 16 10 3 6 2 10 -4 10 -5 0 -13\n    -4 -16 -10z"),s)," ",(a=document.createElementNS(n,"path"),a.setAttribute("d","M155 270 c-3 -6 1 -7 9 -4 18 7 21 14 7 14 -6 0 -13 -4 -16 -10z"),a)," ",(u=document.createElementNS(n,"path"),u.setAttribute("d","M233 252 c-13 -2 -23 -8 -23 -13 0 -7 -12 -8 -30 -4 -22 5 -30 3 -30\n    -7 0 -10 -2 -10 -9 1 -5 8 -19 12 -35 9 -14 -3 -27 -1 -30 4 -2 5 -4 4 -3 -3\n    2 -6 6 -10 10 -10 3 0 20 -4 37 -9 18 -5 32 -5 36 1 3 6 13 8 21 5 13 -5 113\n    21 113 30 0 3 -19 2 -57 -4z"),u)," ",(c=document.createElementNS(n,"path"),c.setAttribute("d","M275 220 c-13 -6 -15 -9 -5 -9 8 0 22 4 30 9 18 12 2 12 -25 0z"),c)," ",(l=document.createElementNS(n,"path"),l.setAttribute("d","M132 23 c59 -2 158 -2 220 0 62 1 14 3 -107 3 -121 0 -172 -2 -113\n    -3z"),l)," "]),p)," "]),d},word:function(){var t,e,r,i,s,a,u,c,l;return(l=document.createElementNS(n,"svg")).setAttribute("width","16.000000pt"),l.setAttribute("height","16.000000pt"),l.setAttribute("viewBox","0 0 48.000000 48.000000"),l.setAttribute("preserveAspectRatio","xMidYMid meet"),l.setAttribute("class","UppyIcon"),o(l,[" ",(c=document.createElementNS(n,"g"),c.setAttribute("transform","translate(0.000000,48.000000) scale(0.100000,-0.100000)"),c.setAttribute("fill","#423d3d"),c.setAttribute("stroke","none"),o(c,[" ",(t=document.createElementNS(n,"path"),t.setAttribute("d","M0 466 c0 -15 87 -26 213 -26 l77 0 0 -140 0 -140 -77 0 c-105 0\n    -213 -11 -213 -21 0 -5 15 -9 34 -9 25 0 33 -4 33 -17 0 -74 4 -113 13 -113 6\n    0 10 32 10 75 l0 75 105 0 105 0 0 150 0 150 -105 0 c-87 0 -105 3 -105 15 0\n    11 -12 15 -45 15 -31 0 -45 -4 -45 -14z"),t)," ",(e=document.createElementNS(n,"path"),e.setAttribute("d","M123 468 c-2 -5 50 -8 116 -8 l121 0 0 -50 c0 -46 -2 -50 -23 -50\n    -14 0 -24 -6 -24 -15 0 -8 4 -15 9 -15 4 0 8 -20 8 -45 0 -25 -4 -45 -8 -45\n    -5 0 -9 -7 -9 -15 0 -9 10 -15 24 -15 22 0 23 3 23 75 l0 75 50 0 50 0 0 -170\n    0 -170 -175 0 -175 0 -2 63 c-2 59 -2 60 -5 13 -3 -27 -2 -60 2 -73 l5 -23\n    183 2 182 3 2 216 c3 275 19 254 -194 254 -85 0 -157 -3 -160 -7z m337 -85 c0\n    -2 -18 -3 -39 -3 -39 0 -39 0 -43 45 l-3 44 42 -41 c24 -23 43 -43 43 -45z\n    m-19 50 c19 -22 23 -29 9 -18 -36 30 -50 43 -50 49 0 11 6 6 41 -31z"),e)," ",(r=document.createElementNS(n,"path"),r.setAttribute("d","M4 300 c0 -74 1 -105 3 -67 2 37 2 97 0 135 -2 37 -3 6 -3 -68z"),r)," ",(i=document.createElementNS(n,"path"),i.setAttribute("d","M20 300 l0 -131 128 3 127 3 3 128 3 127 -131 0 -130 0 0 -130z m250\n    100 c0 -16 -7 -20 -33 -20 -31 0 -34 -2 -34 -31 0 -28 2 -30 13 -14 8 10 11\n    22 8 26 -3 5 1 9 9 9 11 0 9 -12 -12 -50 -14 -27 -32 -50 -39 -50 -15 0 -31\n    38 -26 63 2 10 -1 15 -8 11 -6 -4 -9 -1 -6 6 2 8 10 16 16 18 8 2 12 -10 12\n    -38 0 -38 2 -41 16 -29 9 7 12 15 7 16 -5 2 -7 17 -5 33 4 26 1 30 -20 30 -17\n    0 -29 -9 -39 -27 -20 -41 -22 -50 -6 -30 14 17 15 16 20 -5 4 -13 2 -40 -2\n    -60 -9 -37 -8 -38 20 -38 26 0 33 8 64 70 19 39 37 70 40 70 3 0 5 -40 5 -90\n    l0 -90 -120 0 -120 0 0 120 0 120 120 0 c113 0 120 -1 120 -20z"),i)," ",(s=document.createElementNS(n,"path"),s.setAttribute("d","M40 371 c0 -6 5 -13 10 -16 6 -3 10 -35 10 -71 0 -57 2 -64 20 -64\n    13 0 27 14 40 40 25 49 25 63 0 30 -19 -25 -39 -23 -24 2 5 7 7 23 6 35 -2 11\n    2 24 7 28 23 13 9 25 -29 25 -22 0 -40 -4 -40 -9z m53 -9 c-6 -4 -13 -28 -15\n    -52 l-3 -45 -5 53 c-5 47 -3 52 15 52 13 0 16 -3 8 -8z"),s)," ",(a=document.createElementNS(n,"path"),a.setAttribute("d","M313 165 c0 -9 10 -15 24 -15 14 0 23 6 23 15 0 9 -9 15 -23 15 -14\n    0 -24 -6 -24 -15z"),a)," ",(u=document.createElementNS(n,"path"),u.setAttribute("d","M180 105 c0 -12 17 -15 90 -15 73 0 90 3 90 15 0 12 -17 15 -90 15\n    -73 0 -90 -3 -90 -15z"),u)," "]),c)," "]),l},powerpoint:function(){var t,e,r,i,s,a,u,c,l,p,d,f,h,m,b,g,v,y,A,w;return(w=document.createElementNS(n,"svg")).setAttribute("width","16.000000pt"),w.setAttribute("height","16.000000pt"),w.setAttribute("viewBox","0 0 16.000000 16.000000"),w.setAttribute("preserveAspectRatio","xMidYMid meet"),w.setAttribute("class","UppyIcon"),o(w,[" ",(A=document.createElementNS(n,"g"),A.setAttribute("transform","translate(0.000000,144.000000) scale(0.100000,-0.100000)"),A.setAttribute("fill","#494747"),A.setAttribute("stroke","none"),o(A,[" ",(t=document.createElementNS(n,"path"),t.setAttribute("d","M0 1390 l0 -50 93 0 c50 0 109 -3 130 -6 l37 -7 0 57 0 56 -130 0\n    -130 0 0 -50z"),t)," ",(e=document.createElementNS(n,"path"),e.setAttribute("d","M870 1425 c0 -8 -12 -18 -27 -22 l-28 -6 30 -9 c17 -5 75 -10 130\n    -12 86 -2 100 -5 99 -19 0 -10 -1 -80 -2 -157 l-2 -140 -65 0 c-60 0 -80 -9\n    -55 -25 8 -5 7 -11 -1 -21 -17 -20 2 -25 112 -27 l94 -2 0 40 0 40 100 5 c55\n    3 104 3 108 -1 8 -6 11 -1008 4 -1016 -2 -2 -236 -4 -520 -6 -283 -1 -519 -5\n    -523 -9 -4 -4 -1 -14 6 -23 11 -13 82 -15 561 -15 l549 0 0 570 c0 543 -1 570\n    -18 570 -10 0 -56 39 -103 86 -46 47 -93 90 -104 95 -11 6 22 -31 73 -82 50\n    -50 92 -95 92 -99 0 -14 -23 -16 -136 -12 l-111 4 -6 124 c-6 119 -7 126 -32\n    145 -14 12 -23 25 -20 30 4 5 -38 9 -99 9 -87 0 -106 -3 -106 -15z"),e)," ",(r=document.createElementNS(n,"path"),r.setAttribute("d","M1190 1429 c0 -14 225 -239 239 -239 7 0 11 30 11 85 0 77 -2 85 -19\n    85 -21 0 -61 44 -61 66 0 11 -20 14 -85 14 -55 0 -85 -4 -85 -11z"),r)," ",(i=document.createElementNS(n,"path"),i.setAttribute("d","M281 1331 c-24 -16 7 -23 127 -31 100 -6 107 -7 47 -9 -38 -1 -142\n    -8 -229 -14 l-160 -12 -7 -28 c-10 -37 -16 -683 -6 -693 4 -4 10 -4 15 0 4 4\n    8 166 9 359 l2 352 358 -3 358 -2 5 -353 c3 -193 2 -356 -2 -361 -3 -4 -136\n    -8 -295 -7 -290 2 -423 -4 -423 -20 0 -5 33 -9 73 -9 39 0 90 -3 111 -7 l39\n    -6 -45 -18 c-26 -10 -90 -20 -151 -25 l-107 -7 0 -38 c0 -35 3 -39 24 -39 36\n    0 126 -48 128 -68 1 -9 2 -40 3 -69 2 -29 6 -91 10 -138 l7 -85 44 0 44 0 0\n    219 0 220 311 1 c172 0 314 2 318 4 5 4 6 301 2 759 l-1 137 -297 0 c-164 0\n    -304 -4 -312 -9z"),i)," ",(s=document.createElementNS(n,"path"),s.setAttribute("d","M2 880 c-1 -276 2 -378 10 -360 12 30 11 657 -2 710 -5 21 -8 -121\n    -8 -350z"),s)," ",(a=document.createElementNS(n,"path"),a.setAttribute("d","M145 1178 c-3 -8 -4 -141 -3 -298 l3 -285 295 0 295 0 0 295 0 295\n    -293 3 c-230 2 -294 0 -297 -10z m553 -27 c11 -6 13 -60 11 -260 -1 -139 -6\n    -254 -9 -256 -4 -3 -124 -6 -266 -7 l-259 -3 -3 255 c-1 140 0 260 3 267 3 10\n    62 13 257 13 139 0 259 -4 266 -9z"),a)," ",(u=document.createElementNS(n,"path"),u.setAttribute("d","M445 1090 l-210 -5 -3 -37 -3 -38 225 0 226 0 0 34 c0 18 -6 37 -12\n    42 -7 5 -107 7 -223 4z"),u)," ",(c=document.createElementNS(n,"path"),c.setAttribute("d","M295 940 c-3 -6 1 -12 9 -15 9 -3 23 -7 31 -10 10 -3 15 -18 15 -49\n    0 -25 3 -47 8 -49 15 -9 47 11 52 33 9 38 28 34 41 -8 10 -35 9 -43 -7 -66\n    -23 -31 -51 -34 -56 -4 -4 31 -26 34 -38 4 -5 -14 -12 -26 -16 -26 -4 0 -22\n    16 -41 36 -33 35 -34 40 -28 86 7 48 6 50 -16 46 -18 -2 -23 -9 -21 -23 2 -11\n    3 -49 3 -85 0 -72 6 -83 60 -111 57 -29 95 -25 144 15 37 31 46 34 83 29 40\n    -5 42 -5 42 21 0 24 -3 27 -27 24 -24 -3 -28 1 -31 25 -3 24 0 28 20 25 13 -2\n    23 2 23 7 0 6 -9 9 -20 8 -13 -2 -28 9 -44 32 -13 19 -31 35 -41 35 -10 0 -23\n    7 -30 15 -14 17 -105 21 -115 5z"),c)," ",(l=document.createElementNS(n,"path"),l.setAttribute("d","M522 919 c-28 -11 -20 -29 14 -29 14 0 24 6 24 14 0 21 -11 25 -38\n    15z"),l)," ",(p=document.createElementNS(n,"path"),p.setAttribute("d","M623 922 c-53 -5 -43 -32 12 -32 32 0 45 4 45 14 0 17 -16 22 -57 18z"),p)," ",(d=document.createElementNS(n,"path"),d.setAttribute("d","M597 854 c-13 -14 6 -24 44 -24 28 0 39 4 39 15 0 11 -11 15 -38 15\n    -21 0 -42 -3 -45 -6z"),d)," ",(f=document.createElementNS(n,"path"),f.setAttribute("d","M597 794 c-4 -4 -7 -18 -7 -31 0 -21 4 -23 46 -23 44 0 45 1 42 28\n    -3 23 -8 27 -38 30 -20 2 -39 0 -43 -4z"),f)," ",(h=document.createElementNS(n,"path"),h.setAttribute("d","M989 883 c-34 -4 -37 -6 -37 -37 0 -32 2 -34 45 -40 25 -3 72 -6 104\n    -6 l59 0 0 45 0 45 -67 -2 c-38 -1 -84 -3 -104 -5z"),h)," ",(m=document.createElementNS(n,"path"),m.setAttribute("d","M993 703 c-42 -4 -54 -15 -33 -28 8 -5 8 -11 0 -20 -16 -20 -3 -24\n    104 -31 l96 -7 0 47 0 46 -62 -2 c-35 -1 -82 -3 -105 -5z"),m)," ",(b=document.createElementNS(n,"path"),b.setAttribute("d","M1005 523 c-50 -6 -59 -12 -46 -26 8 -10 7 -17 -1 -25 -6 -6 -9 -14\n    -6 -17 3 -3 51 -8 107 -12 l101 -6 0 46 0 47 -62 -1 c-35 -1 -76 -4 -93 -6z"),b)," ",(g=document.createElementNS(n,"path"),g.setAttribute("d","M537 344 c-4 -4 -7 -25 -7 -46 l0 -38 46 0 45 0 -3 43 c-3 40 -4 42\n    -38 45 -20 2 -39 0 -43 -4z"),g)," ",(v=document.createElementNS(n,"path"),v.setAttribute("d","M714 341 c-2 -2 -4 -22 -4 -43 l0 -38 225 0 225 0 0 45 0 46 -221 -3\n    c-121 -2 -222 -5 -225 -7z"),v)," ",(y=document.createElementNS(n,"path"),y.setAttribute("d","M304 205 c0 -66 1 -92 3 -57 2 34 2 88 0 120 -2 31 -3 3 -3 -63z"),y)," "]),A)," "]),w},page_white:function(){var t,e,r,i,s,a,u;return(u=document.createElementNS(n,"svg")).setAttribute("width","16.000000pt"),u.setAttribute("height","16.000000pt"),u.setAttribute("viewBox","0 0 48.000000 48.000000"),u.setAttribute("preserveAspectRatio","xMidYMid meet"),u.setAttribute("class","UppyIcon"),o(u,[" ",(a=document.createElementNS(n,"g"),a.setAttribute("transform","translate(0.000000,48.000000) scale(0.100000,-0.100000)"),a.setAttribute("fill","#000000"),a.setAttribute("stroke","none"),o(a,[" ",(t=document.createElementNS(n,"path"),t.setAttribute("d","M20 240 c1 -202 3 -240 16 -240 12 0 14 38 14 240 0 208 -2 240 -15\n    240 -13 0 -15 -31 -15 -240z"),t)," ",(e=document.createElementNS(n,"path"),e.setAttribute("d","M75 471 c-4 -8 32 -11 119 -11 l126 0 0 -50 0 -50 50 0 c28 0 50 5\n    50 10 0 6 -18 10 -40 10 l-40 0 0 42 0 42 43 -39 42 -40 -43 45 -42 45 -129 3\n    c-85 2 -131 0 -136 -7z"),e)," ",(r=document.createElementNS(n,"path"),r.setAttribute("d","M398 437 l42 -43 0 -197 c0 -168 2 -197 15 -197 13 0 15 29 15 198\n    l0 198 -36 42 c-21 25 -44 42 -57 42 -18 0 -16 -6 21 -43z"),r)," ",(i=document.createElementNS(n,"path"),i.setAttribute("d","M92 353 l2 -88 3 78 4 77 89 0 89 0 8 -42 c8 -43 9 -43 55 -46 44 -3\n    47 -5 51 -35 4 -31 4 -31 5 6 l2 37 -50 0 -50 0 0 50 0 50 -105 0 -105 0 2\n    -87z"),i)," ",(s=document.createElementNS(n,"path"),s.setAttribute("d","M75 10 c8 -13 332 -13 340 0 4 7 -55 10 -170 10 -115 0 -174 -3 -170\n    -10z"),s)," "]),a)," "]),u}}},2437:function(t,e,r){"use strict";var n=r(4),o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},i="http://www.w3.org/2000/svg",s=r(1050);var a=r(1139),u=r(1556),c=r(1557);t.exports=function(t){function e(r,a){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var c=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==n(e)&&"function"!==typeof e?t:e}(this,t.call(this,r,a));c.type="acquirer",c.id="Instagram",c.title="Instagram",c.stateId="instagram",c.icon=function(){var t,e,r,n;return(n=document.createElementNS(i,"svg")).setAttribute("width","28"),n.setAttribute("height","28"),n.setAttribute("viewBox","0 0 512 512"),n.setAttribute("class","UppyIcon UppyModalTab-icon"),s(n,[" ",(t=document.createElementNS(i,"path"),t.setAttribute("d","M256,49.471c67.266,0,75.233.257,101.8,1.469,24.562,1.121,37.9,5.224,46.778,8.674a78.052,78.052,0,0,1,28.966,18.845,78.052,78.052,0,0,1,18.845,28.966c3.45,8.877,7.554,22.216,8.674,46.778,1.212,26.565,1.469,34.532,1.469,101.8s-0.257,75.233-1.469,101.8c-1.121,24.562-5.225,37.9-8.674,46.778a83.427,83.427,0,0,1-47.811,47.811c-8.877,3.45-22.216,7.554-46.778,8.674-26.56,1.212-34.527,1.469-101.8,1.469s-75.237-.257-101.8-1.469c-24.562-1.121-37.9-5.225-46.778-8.674a78.051,78.051,0,0,1-28.966-18.845,78.053,78.053,0,0,1-18.845-28.966c-3.45-8.877-7.554-22.216-8.674-46.778-1.212-26.564-1.469-34.532-1.469-101.8s0.257-75.233,1.469-101.8c1.121-24.562,5.224-37.9,8.674-46.778A78.052,78.052,0,0,1,78.458,78.458a78.053,78.053,0,0,1,28.966-18.845c8.877-3.45,22.216-7.554,46.778-8.674,26.565-1.212,34.532-1.469,101.8-1.469m0-45.391c-68.418,0-77,.29-103.866,1.516-26.815,1.224-45.127,5.482-61.151,11.71a123.488,123.488,0,0,0-44.62,29.057A123.488,123.488,0,0,0,17.3,90.982C11.077,107.007,6.819,125.319,5.6,152.134,4.369,179,4.079,187.582,4.079,256S4.369,333,5.6,359.866c1.224,26.815,5.482,45.127,11.71,61.151a123.489,123.489,0,0,0,29.057,44.62,123.486,123.486,0,0,0,44.62,29.057c16.025,6.228,34.337,10.486,61.151,11.71,26.87,1.226,35.449,1.516,103.866,1.516s77-.29,103.866-1.516c26.815-1.224,45.127-5.482,61.151-11.71a128.817,128.817,0,0,0,73.677-73.677c6.228-16.025,10.486-34.337,11.71-61.151,1.226-26.87,1.516-35.449,1.516-103.866s-0.29-77-1.516-103.866c-1.224-26.815-5.482-45.127-11.71-61.151a123.486,123.486,0,0,0-29.057-44.62A123.487,123.487,0,0,0,421.018,17.3C404.993,11.077,386.681,6.819,359.866,5.6,333,4.369,324.418,4.079,256,4.079h0Z"),t)," ",(e=document.createElementNS(i,"path"),e.setAttribute("d","M256,126.635A129.365,129.365,0,1,0,385.365,256,129.365,129.365,0,0,0,256,126.635Zm0,213.338A83.973,83.973,0,1,1,339.974,256,83.974,83.974,0,0,1,256,339.973Z"),e)," ",(r=document.createElementNS(i,"circle"),r.setAttribute("cx","390.476"),r.setAttribute("cy","121.524"),r.setAttribute("r","30.23"),r)," "]),n},c.Instagram=new u(r,{host:c.opts.host,provider:"instagram",authProvider:"instagram"}),c.files=[],c.onAuth=c.onAuth.bind(c),c.render=c.render.bind(c);return c.opts=o({},{},a),c}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+n(e));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.install=function(){this.view=new c(this,{viewType:"grid"}),this.core.setState({instagram:{authenticated:!1,files:[],folders:[],directories:[],activeRow:-1,filterInput:"",isSearchVisible:!1}});var t=this.opts.target;this.target=this.mount(t,this)},e.prototype.uninstall=function(){this.unmount()},e.prototype.onAuth=function(t){this.view.updateState({authenticated:t}),t&&this.view.getFolder("recent")},e.prototype.isFolder=function(t){return!1},e.prototype.getItemData=function(t){return t},e.prototype.getItemIcon=function(t){var e;return(e=document.createElement("img")).setAttribute("width","100px"),e.setAttribute("src",""+String(t.images.thumbnail.url)),e},e.prototype.getItemSubList=function(t){var e=[];return t.data.forEach(function(t){t.carousel_media?t.carousel_media.forEach(function(r,n){var i=t.id,s=t.created_time,a=o({},r,{id:i,created_time:s});a.carousel_id=n,e.push(a)}):e.push(t)}),e},e.prototype.getItemName=function(t){return""},e.prototype.getMimeType=function(t){return"video"===t.type?"video/mp4":"image/jpeg"},e.prototype.getItemId=function(t){return""+t.id+(t.carousel_id||"")},e.prototype.getItemRequestPath=function(t){var e=isNaN(t.carousel_id)?"":"?carousel_id="+t.carousel_id;return""+t.id+e},e.prototype.getItemModifiedDate=function(t){return t.created_time},e.prototype.getItemThumbnailUrl=function(t){return t.images.thumbnail.url},e.prototype.getNextPagePath=function(){var t=this.core.getState()[this.stateId].files;return"recent?max_id="+this.getItemId(t[t.length-1])},e.prototype.render=function(t){return this.view.render(t)},e}(a)},2438:function(t,e,r){"use strict";var n=r(4),o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t};var i="undefined"===typeof Promise?r(1552).Promise:Promise,s=r(1139),a=r(2439),u=r(1553),c=r(1112),l=c.extend,p=c.getFileTypeExtension,d=c.supportsMediaRecorder,f=r(2441),h=r(2442),m=r(2448);t.exports=function(t){function e(r,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var s=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==n(e)&&"function"!==typeof e?t:e}(this,t.call(this,r,i));s.userMedia=!0,s.protocol=location.protocol.match(/https/i)?"https":"http",s.type="acquirer",s.id="Webcam",s.title="Webcam",s.icon=f,s.focus=s.focus.bind(s);var c={strings:{smile:"Smile!"}},l={enableFlash:!0,onBeforeSnapshot:function(){return Promise.resolve()},countdown:!1,locale:c,modes:["video-audio","video-only","audio-only","picture"]};return s.params={swfURL:"webcam.swf",width:400,height:300,dest_width:800,dest_height:600,image_format:"jpeg",jpeg_quality:90,enable_flash:!0,force_flash:!1,flip_horiz:!1,fps:30,upload_name:"webcam",constraints:null,flashNotDetectedText:"ERROR: No Adobe Flash Player detected.  Webcam.js relies on Flash for browsers that do not support getUserMedia (like yours).",noInterfaceFoundText:"No supported webcam interface found.",unfreeze_snap:!0},s.opts=o({},l,i),s.locale=o({},c,s.opts.locale),s.locale.strings=o({},c.strings,s.opts.locale.strings),s.translator=new u({locale:s.locale}),s.i18n=s.translator.translate.bind(s.translator),s.install=s.install.bind(s),s.updateState=s.updateState.bind(s),s.render=s.render.bind(s),s.start=s.start.bind(s),s.stop=s.stop.bind(s),s.takeSnapshot=s.takeSnapshot.bind(s),s.startRecording=s.startRecording.bind(s),s.stopRecording=s.stopRecording.bind(s),s.oneTwoThreeSmile=s.oneTwoThreeSmile.bind(s),s.webcam=new a(s.opts,s.params),s.webcamActive=!1,s.opts.countdown&&(s.opts.onBeforeSnapshot=s.oneTwoThreeSmile),s}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+n(e));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.updateState=function(t){var e=this.core.state,r=o({},e.webcam,t);this.core.setState({webcam:r})},e.prototype.start=function(){var t=this;this.webcamActive=!0,this.webcam.start().then(function(e){t.stream=e,t.updateState({cameraReady:!0})}).catch(function(e){t.updateState({cameraError:e})})},e.prototype.startRecording=function(){var t=this;this.recorder=new MediaRecorder(this.stream),this.recordingChunks=[],this.recorder.addEventListener("dataavailable",function(e){t.recordingChunks.push(e.data)}),this.recorder.start(),this.updateState({isRecording:!0})},e.prototype.stopRecording=function(){var t=this;return new i(function(e,r){t.recorder.addEventListener("stop",function(){t.updateState({isRecording:!1});var n=t.recordingChunks[0].type,o=p(n);if(o){var i={source:t.id,name:"webcam-"+Date.now()+"."+o,type:n,data:new Blob(t.recordingChunks,{type:n})};t.core.addfile(i),t.recordingChunks=null,t.recorder=null,e()}else r(new Error('Could not upload file: Unsupported media type "'+n+'"'))}),t.recorder.stop()})},e.prototype.stop=function(){this.stream.getAudioTracks().forEach(function(t){t.stop()}),this.stream.getVideoTracks().forEach(function(t){t.stop()}),this.webcamActive=!1,this.stream=null,this.streamSrc=null},e.prototype.oneTwoThreeSmile=function(){var t=this;return new i(function(e,r){var n=t.opts.countdown,o=setInterval(function(){if(!t.webcamActive)return clearInterval(o),t.captureInProgress=!1,r("Webcam is not active");n>0?(t.core.info(n+"...","warning",800),n--):(clearInterval(o),t.core.info(t.i18n("smile"),"success",1500),setTimeout(function(){return e()},1500))},1e3)})},e.prototype.takeSnapshot=function(){var t=this,e={name:"webcam-"+Date.now()+".jpg",mimeType:"image/jpeg"};this.videoEl=this.target.querySelector(".UppyWebcam-video"),this.captureInProgress||(this.captureInProgress=!0,this.opts.onBeforeSnapshot().catch(function(e){return t.core.info(e,"error",5e3),Promise.reject("onBeforeSnapshot: "+e)}).then(function(){var r=t.target.querySelector(".UppyWebcam-video");if(!r)return t.captureInProgress=!1,Promise.reject("No video element found, likely due to the Webcam tab being closed.");var n=t.webcam.getImage(r,e),o={source:t.id,name:e.name,data:n.data,type:e.mimeType};t.captureInProgress=!1,t.core.addFile(o)}))},e.prototype.focus=function(){var t=this;this.opts.countdown||setTimeout(function(){t.core.info(t.i18n("smile"),"success",1500)},1e3)},e.prototype.render=function(t){return this.webcamActive||this.start(),t.webcam.cameraReady||t.webcam.useTheFlash?(this.streamSrc||(this.streamSrc=this.stream?URL.createObjectURL(this.stream):null),h(l(t.webcam,{onSnapshot:this.takeSnapshot,onStartRecording:this.startRecording,onStopRecording:this.stopRecording,onFocus:this.focus,onStop:this.stop,modes:this.opts.modes,supportsRecording:d(),recording:t.webcam.isRecording,getSWFHTML:this.webcam.getSWFHTML,src:this.streamSrc}))):m(t.webcam)},e.prototype.install=function(){this.webcam.init(),this.core.setState({webcam:{cameraReady:!1}});var t=this.opts.target;this.target=this.mount(t,this)},e.prototype.uninstall=function(){this.webcam.reset(),this.unmount()},e}(s)},2439:function(t,e,r){"use strict";var n=r(4),o="function"===typeof Symbol&&"symbol"===n(Symbol.iterator)?function(t){return n(t)}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":n(t)},i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();var s=r(2440);t.exports=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._userMedia,this.userMedia=!0,this.protocol=location.protocol.match(/https/i)?"https":"http";this.params=Object.assign({},{swfURL:"webcam.swf",width:400,height:300,dest_width:800,dest_height:600,image_format:"jpeg",jpeg_quality:90,enable_flash:!0,force_flash:!1,flip_horiz:!1,fps:30,upload_name:"webcam",constraints:null,flashNotDetectedText:"ERROR: No Adobe Flash Player detected.  Webcam.js relies on Flash for browsers that do not support getUserMedia (like yours).",noInterfaceFoundText:"No supported webcam interface found.",unfreeze_snap:!0},r),this.opts=Object.assign({},{enableFlash:!0,modes:[]},e),this.start=this.start.bind(this),this.init=this.init.bind(this),this.stop=this.stop.bind(this),this.takeSnapshot=this.takeSnapshot.bind(this),this.getImage=this.getImage.bind(this),this.getSWFHTML=this.getSWFHTML.bind(this),this.detectFlash=this.detectFlash.bind(this),this.getUserMedia=this.getUserMedia.bind(this),this.getMediaDevices=this.getMediaDevices.bind(this)}return i(t,[{key:"init",value:function(){var t=this;return this.mediaDevices=this.getMediaDevices(),this.userMedia=this.getUserMedia(this.mediaDevices),this.userMedia&&window.addEventListener("beforeunload",function(e){t.reset()}),{mediaDevices:this.mediaDevices,userMedia:this.userMedia}}},{key:"getMediaDevices",value:function(){return navigator.mediaDevices&&navigator.mediaDevices.getUserMedia?navigator.mediaDevices:navigator.mozGetUserMedia||navigator.webkitGetUserMedia?{getUserMedia:function(t){return new Promise(function(e,r){(navigator.mozGetUserMedia||navigator.webkitGetUserMedia).call(navigator,t,e,r)})}}:null}},{key:"getUserMedia",value:function(t){return navigator.userAgent.match(/Firefox\D+(\d+)/)&&parseInt(RegExp.$1,10)<21?null:(window.URL=window.URL||window.webkitURL||window.mozURL||window.msURL,!!t&&!!window.URL)}},{key:"start",value:function(){var t=this;return this.userMedia=void 0===this._userMedia?this.userMedia:this._userMedia,new Promise(function(e,r){if(t.userMedia){var n=-1!==t.opts.modes.indexOf("video-audio")||-1!==t.opts.modes.indexOf("audio-only"),o=-1!==t.opts.modes.indexOf("video-audio")||-1!==t.opts.modes.indexOf("video-only")||-1!==t.opts.modes.indexOf("picture");t.mediaDevices.getUserMedia({audio:n,video:o}).then(function(t){return e(t)}).catch(function(t){return r(t)})}})}},{key:"detectFlash",value:function(){var t=window,e=navigator,r=!1;if("undefined"!==typeof e.plugins&&"object"===o(e.plugins["Shockwave Flash"]))e.plugins["Shockwave Flash"].description&&"undefined"!==typeof e.mimeTypes&&e.mimeTypes["application/x-shockwave-flash"]&&e.mimeTypes["application/x-shockwave-flash"].enabledPlugin&&(r=!0);else if("undefined"!==typeof t.ActiveXObject)try{var n=new t.ActiveXObject("ShockwaveFlash.ShockwaveFlash");if(n)n.GetVariable("$version")&&(r=!0)}catch(i){}return r}},{key:"reset",value:function(){if(this.preview_active&&this.unfreeze(),this.userMedia){if(this.stream)if(this.stream.getVideoTracks){var t=this.stream.getVideoTracks();t&&t[0]&&t[0].stop&&t[0].stop()}else this.stream.stop&&this.stream.stop();delete this.stream}!0!==this.userMedia&&this.getMovie()._releaseCamera()}},{key:"getSWFHTML",value:function(){var t=this.params.swfURL;if(location.protocol.match(/file/))return'<h3 style="color:red">ERROR: the Webcam.js Flash fallback does not work from local disk.  Please run it from a web server.</h3>';if(!this.detectFlash())return'<h3 style="color:red">No flash</h3>';if(!t){for(var e="",r=document.getElementsByTagName("script"),n=0,o=r.length;n<o;n++){var i=r[n].getAttribute("src");i&&i.match(/\/webcam(\.min)?\.js/)&&(e=i.replace(/\/webcam(\.min)?\.js.*$/,""),n=o)}t=e?e+"/webcam.swf":"webcam.swf"}var s="";for(var a in this.params)s&&(s+="&"),s+=a+"="+escape(this.params[a]);return'<object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" type="application/x-shockwave-flash" codebase="'+this.protocol+'://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=9,0,0,0" width="'+this.params.width+'" height="'+this.params.height+'" id="webcam_movie_obj" align="middle"><param name="wmode" value="opaque" /><param name="allowScriptAccess" value="always" /><param name="allowFullScreen" value="false" /><param name="movie" value="'+t+'" /><param name="loop" value="false" /><param name="menu" value="false" /><param name="quality" value="best" /><param name="bgcolor" value="#ffffff" /><param name="flashvars" value="'+s+'"/><embed id="webcam_movie_embed" src="'+t+'" wmode="opaque" loop="false" menu="false" quality="best" bgcolor="#ffffff" width="'+this.params.width+'" height="'+this.params.height+'" name="webcam_movie_embed" align="middle" allowScriptAccess="always" allowFullScreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="'+s+'"></embed></object>'}},{key:"getMovie",value:function(){var t=document.getElementById("webcam_movie_obj");return t&&t._snap||(t=document.getElementById("webcam_movie_embed")),t||console.log("getMovie error"),t}},{key:"stop",value:function(){var t=this.videoStream;this.updateState({cameraReady:!1}),t&&(t.stop?t.stop():t.msStop&&t.msStop(),t.onended=null,t=null)}},{key:"flashNotify",value:function(t,e){switch(t){case"flashLoadComplete":break;case"cameraLive":this.live=!0;break;case"error":console.log("There was a flash error",e);break;default:console.log("webcam flash_notify: "+t+": "+e)}}},{key:"configure",value:function(t){t||(t="camera"),this.getMovie()._configure(t)}},{key:"getImage",value:function(t,e){var r=document.createElement("canvas");r.width=t.videoWidth,r.height=t.videoHeight,r.getContext("2d").drawImage(t,0,0);var n=r.toDataURL(e.mimeType);return{dataUrl:n,data:s(n,{name:e.name}),type:e.mimeType}}},{key:"takeSnapshot",value:function(t,e){var r={name:"webcam-"+Date.now()+".jpg",mimeType:"image/jpeg"},n=this.getImage(t,e,r);return{source:this.id,name:r.name,data:n.data,type:r.type}}}]),t}()},2440:function(t,e,r){"use strict";t.exports=function(t,e){return function(t,e,r){var n=t.split(",")[1],o=e.mimeType||t.split(",")[0].split(":")[1].split(";")[0];null==o&&(o="plain/text");for(var i=atob(n),s=[],a=0;a<i.length;a++)s.push(i.charCodeAt(a));return r?new File([new Uint8Array(s)],e.name||"",{type:o}):new Blob([new Uint8Array(s)],{type:o})}(t,e,!0)}},2441:function(t,e,r){"use strict";var n="http://www.w3.org/2000/svg",o=r(1050);t.exports=function(t){var e,r,i;return(i=document.createElementNS(n,"svg")).setAttribute("width","18"),i.setAttribute("height","21"),i.setAttribute("viewBox","0 0 18 21"),i.setAttribute("class","UppyIcon"),o(i,[" ",(e=document.createElementNS(n,"path"),e.setAttribute("d","M14.8 16.9c1.9-1.7 3.2-4.1 3.2-6.9 0-5-4-9-9-9s-9 4-9 9c0 2.8 1.2 5.2 3.2 6.9C1.9 17.9.5 19.4 0 21h3c1-1.9 11-1.9 12 0h3c-.5-1.6-1.9-3.1-3.2-4.1zM9 4c3.3 0 6 2.7 6 6s-2.7 6-6 6-6-2.7-6-6 2.7-6 6-6z"),e)," ",(r=document.createElementNS(n,"path"),r.setAttribute("d","M9 14c2.2 0 4-1.8 4-4s-1.8-4-4-4-4 1.8-4 4 1.8 4 4 4zM8 8c.6 0 1 .4 1 1s-.4 1-1 1-1-.4-1-1c0-.5.4-1 1-1z"),r)," "]),i}},2442:function(t,e,r){"use strict";var n=r(1050),o=r(1555),i=r(2443),s=r(2445);function a(t,e){return-1!==t.indexOf(e)}t.exports=function(t){var e,r,u,c,l,p=t.src||"",d=void 0;t.useTheFlash?d=t.getSWFHTML():((l=document.createElement("video")).setAttribute("autoplay","autoplay"),l.setAttribute("muted","muted"),l.setAttribute("src",""+String(p)),l.setAttribute("class","UppyWebcam-video"),d=l);var f=t.supportsRecording&&(a(t.modes,"video-only")||a(t.modes,"audio-only")||a(t.modes,"video-audio")),h=a(t.modes,"picture");return c=document.createElement("div"),o(c,function(e){t.onFocus();var r=e.querySelector(".UppyWebcam-recordButton");r&&r.focus()},function(e){t.onStop()},3),c.setAttribute("class","UppyWebcam-container"),n(c,[" ",(e=document.createElement("div"),e.setAttribute("class","UppyWebcam-videoContainer"),n(e,[" ",d," "]),e)," ",(r=document.createElement("div"),r.setAttribute("class","UppyWebcam-buttonContainer"),n(r,[" ",f?s(t):null," ",h?i(t):null," "]),r)," ",(u=document.createElement("canvas"),u.setAttribute("style","display: none;"),u.setAttribute("class","UppyWebcam-canvas"),u)," "]),c}},2443:function(t,e,r){"use strict";var n=r(1050),o=r(2444);t.exports=function(t){var e,r=t.onSnapshot;return(e=document.createElement("button")).setAttribute("type","button"),e.setAttribute("title","Take a snapshot"),e.setAttribute("aria-label","Take a snapshot"),e.onclick=r,e.setAttribute("class","UppyButton--circular UppyButton--red UppyButton--sizeM UppyWebcam-recordButton"),n(e,[" ",o()," "]),e}},2444:function(t,e,r){"use strict";var n="http://www.w3.org/2000/svg",o=r(1050);t.exports=function(t){var e,r,i;return(i=document.createElementNS(n,"svg")).setAttribute("width","100"),i.setAttribute("height","77"),i.setAttribute("viewBox","0 0 100 77"),i.setAttribute("class","UppyIcon"),o(i,[" ",(e=document.createElementNS(n,"path"),e.setAttribute("d","M50 32c-7.168 0-13 5.832-13 13s5.832 13 13 13 13-5.832 13-13-5.832-13-13-13z"),e)," ",(r=document.createElementNS(n,"path"),r.setAttribute("d","M87 13H72c0-7.18-5.82-13-13-13H41c-7.18 0-13 5.82-13 13H13C5.82 13 0 18.82 0 26v38c0 7.18 5.82 13 13 13h74c7.18 0 13-5.82 13-13V26c0-7.18-5.82-13-13-13zM50 68c-12.683 0-23-10.318-23-23s10.317-23 23-23 23 10.318 23 23-10.317 23-23 23z"),r)," "]),i}},2445:function(t,e,r){"use strict";var n=r(1050),o=r(2446),i=r(2447);t.exports=function(t){var e,r,s=t.recording,a=t.onStartRecording,u=t.onStopRecording;return s?((r=document.createElement("button")).setAttribute("type","button"),r.setAttribute("title","Stop Recording"),r.setAttribute("aria-label","Stop Recording"),r.onclick=u,r.setAttribute("class","UppyButton--circular UppyButton--red UppyButton--sizeM UppyWebcam-recordButton"),n(r,[" ",i()," "]),r):((e=document.createElement("button")).setAttribute("type","button"),e.setAttribute("title","Begin Recording"),e.setAttribute("aria-label","Begin Recording"),e.onclick=a,e.setAttribute("class","UppyButton--circular UppyButton--red UppyButton--sizeM UppyWebcam-recordButton"),n(e,[" ",o()," "]),e)}},2446:function(t,e,r){"use strict";var n=r(1050);t.exports=function(t){var e,r;return(r=document.createElementNS("http://www.w3.org/2000/svg","svg")).setAttribute("width","100"),r.setAttribute("height","100"),r.setAttribute("viewBox","0 0 100 100"),r.setAttribute("class","UppyIcon"),n(r,[" ",(e=document.createElementNS("http://www.w3.org/2000/svg","circle"),e.setAttribute("cx","50"),e.setAttribute("cy","50"),e.setAttribute("r","40"),e)," "]),r}},2447:function(t,e,r){"use strict";var n=r(1050);t.exports=function(t){var e,r;return(r=document.createElementNS("http://www.w3.org/2000/svg","svg")).setAttribute("width","100"),r.setAttribute("height","100"),r.setAttribute("viewBox","0 0 100 100"),r.setAttribute("class","UppyIcon"),n(r,[" ",(e=document.createElementNS("http://www.w3.org/2000/svg","rect"),e.setAttribute("x","15"),e.setAttribute("y","15"),e.setAttribute("width","70"),e.setAttribute("height","70"),e)," "]),r}},2448:function(t,e,r){"use strict";var n=r(1050);t.exports=function(t){var e,r,o,i;return(i=document.createElement("div")).setAttribute("class","uppy-Webcam-permissons"),n(i,[" ",(e=document.createElement("h1"),e.textContent="Please allow access to your camera",e)," ",(o=document.createElement("p"),n(o,["You have been prompted to allow camera access from this site.",(r=document.createElement("br"),r)," In order to take pictures with your camera you must approve this request."]),o)," "]),i}},2449:function(t,e,r){"use strict";var n=r(4),o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t};var i="undefined"===typeof Promise?r(1552).Promise:Promise,s=r(1139),a=r(2450),u=r(1756),c=r(1112);r(1760);var l={endpoint:"",resume:!0,onProgress:null,onChunkComplete:null,onSuccess:null,onError:null,headers:{},chunkSize:1/0,withCredentials:!1,uploadUrl:null,uploadSize:null,overridePatchMethod:!1,retryDelays:null};t.exports=function(t){function e(r,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var s=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==n(e)&&"function"!==typeof e?t:e}(this,t.call(this,r,i));s.type="uploader",s.id="Tus",s.title="Tus";return s.opts=o({},{resume:!0,allowPause:!0,autoRetry:!0,retryDelays:[0,1e3,3e3,5e3]},i),s.handlePauseAll=s.handlePauseAll.bind(s),s.handleResumeAll=s.handleResumeAll.bind(s),s.handleUpload=s.handleUpload.bind(s),s}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+n(e));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.pauseResume=function(t,e){var r=o({},this.core.getState().files),n=Object.keys(r).filter(function(t){return!r[t].progress.uploadComplete&&r[t].progress.uploadStarted});switch(t){case"toggle":if(r[e].uploadComplete)return;var i=r[e].isPaused||!1,s=!i,a=void 0;return a=o({},r[e],i?{isPaused:!1}:{isPaused:!0}),r[e]=a,this.core.setState({files:r}),s;case"pauseAll":return n.forEach(function(t){var e=o({},r[t],{isPaused:!0});r[t]=e}),void this.core.setState({files:r});case"resumeAll":return n.forEach(function(t){var e=o({},r[t],{isPaused:!1});r[t]=e}),void this.core.setState({files:r})}},e.prototype.handlePauseAll=function(){this.pauseResume("pauseAll")},e.prototype.handleResumeAll=function(){this.pauseResume("resumeAll")},e.prototype.upload=function(t,e,r){var n=this;return this.core.log("uploading "+e+" of "+r),new i(function(e,r){var i=o({},l,n.opts,t.tus||{});i.onError=function(e){n.core.log(e),n.core.emit("core:upload-error",t.id,e),r("Failed because: "+e)},i.onProgress=function(e,r){n.onReceiveUploadUrl(t,s.url),n.core.emit("core:upload-progress",{uploader:n,id:t.id,bytesUploaded:e,bytesTotal:r})},i.onSuccess=function(){n.core.emit("core:upload-success",t.id,s,s.url),s.url&&n.core.log("Download "+s.file.name+" from "+s.url),e(s)},i.metadata=t.meta;var s=new a.Upload(t.data,i);n.onFileRemove(t.id,function(t){s.abort(),e("upload "+t+" was removed")}),n.onPause(t.id,function(t){t?s.abort():s.start()}),n.onPauseAll(t.id,function(){s.abort()}),n.onResumeAll(t.id,function(){s.start()}),n.core.on("core:retry-started",function(){var e=n.core.getState().files;e[t.id].progress.uploadComplete||!e[t.id].progress.uploadStarted||e[t.id].isPaused||s.start()}),s.start(),n.core.emit("core:upload-started",t.id,s)})},e.prototype.uploadRemote=function(t,e,r){var n=this;return new i(function(e,r){if(n.core.log(t.remote.url),t.serverToken)n.connectToServerSocket(t);else{var i=n.opts.endpoint;t.tus&&t.tus.endpoint&&(i=t.tus.endpoint),n.core.emitter.emit("core:upload-started",t.id),fetch(t.remote.url,{method:"post",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(o({},t.remote.body,{endpoint:i,protocol:"tus",size:t.data.size,metadata:t.meta}))}).then(function(o){if(o.status<200&&o.status>300)return r(o.statusText);o.json().then(function(r){var o=r.token;(t=n.getFile(t.id)).serverToken=o,n.updateFile(t),n.connectToServerSocket(t),e()})})}})},e.prototype.connectToServerSocket=function(t){var e=this,r=t.serverToken,n=c.getSocketHost(t.remote.host),o=new u({target:n+"/api/"+r});this.onFileRemove(t.id,function(){return o.send("pause",{})}),this.onPause(t.id,function(t){t?o.send("pause",{}):o.send("resume",{})}),this.onPauseAll(t.id,function(){return o.send("pause",{})}),this.onResumeAll(t.id,function(){return o.send("resume",{})}),o.on("progress",function(r){return c.emitSocketProgress(e,r,t)}),o.on("success",function(r){e.core.emitter.emit("core:upload-success",t.id,r,r.url),o.close()})},e.prototype.getFile=function(t){return this.core.state.files[t]},e.prototype.updateFile=function(t){var e,r=o({},this.core.state.files,((e={})[t.id]=t,e));this.core.setState({files:r})},e.prototype.onReceiveUploadUrl=function(t,e){var r=this.getFile(t.id);if(r&&(!r.tus||r.tus.uploadUrl!==e)){var n=o({},r,{tus:o({},r.tus,{uploadUrl:e})});this.updateFile(n)}},e.prototype.onFileRemove=function(t,e){this.core.on("core:file-removed",function(r){t===r&&e(r)})},e.prototype.onPause=function(t,e){var r=this;this.core.on("core:upload-pause",function(n){if(t===n){var o=r.pauseResume("toggle",t);e(o)}})},e.prototype.onPauseAll=function(t,e){var r=this;this.core.on("core:pause-all",function(){r.core.getFile(t)&&e()})},e.prototype.onResumeAll=function(t,e){var r=this;this.core.on("core:resume-all",function(){r.core.getFile(t)&&e()})},e.prototype.uploadFiles=function(t){var e=this;t.forEach(function(r,n){var o=parseInt(n,10)+1,i=t.length;r.isRemote?e.uploadRemote(r,o,i):e.upload(r,o,i)})},e.prototype.handleUpload=function(t){var e=this;if(0===t.length)return this.core.log("Tus: no files to upload!"),Promise.resolve();this.core.log("Tus is uploading...");var r=t.map(function(t){return e.core.getFile(t)});return this.uploadFiles(r),new i(function(t){e.core.once("core:upload-complete",t)})},e.prototype.actions=function(){var t=this;this.core.on("core:pause-all",this.handlePauseAll),this.core.on("core:resume-all",this.handleResumeAll),this.opts.autoRetry&&this.core.on("back-online",function(){t.core.emit("core:retry-started")})},e.prototype.addResumableUploadsCapabilityFlag=function(){var t=o({},this.core.getState().capabilities);t.resumableUploads=!0,this.core.setState({capabilities:t})},e.prototype.install=function(){this.addResumableUploadsCapabilityFlag(),this.core.addUploader(this.handleUpload),this.actions()},e.prototype.uninstall=function(){this.core.removeUploader(this.handleUpload),this.core.off("core:pause-all",this.handlePauseAll),this.core.off("core:resume-all",this.handleResumeAll)},e}(s)},2450:function(t,e,r){"use strict";var n,o=r(2451),i=(n=o)&&n.__esModule?n:{default:n},s=r(1762);var a=i.default.defaultOptions;if("undefined"!==typeof window)var u=window,c=u.XMLHttpRequest,l=u.Blob,p=c&&l&&"function"===typeof l.prototype.slice;else p=!0;t.exports={Upload:i.default,isSupported:p,canStoreURLs:s.canStoreURLs,defaultOptions:a}},2451:function(t,e,r){"use strict";var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();Object.defineProperty(e,"__esModule",{value:!0});var o=d(r(2452)),i=d(r(2453)),s=d(r(2454)),a=r(2455),u=r(2457),c=p(r(2458)),l=p(r(1762));function p(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function d(t){return t&&t.__esModule?t:{default:t}}var f={endpoint:"",fingerprint:o.default,resume:!0,onProgress:null,onChunkComplete:null,onSuccess:null,onError:null,headers:{},chunkSize:1/0,withCredentials:!1,uploadUrl:null,uploadSize:null,overridePatchMethod:!1,retryDelays:null},h=function(){function t(e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.options=(0,s.default)(!0,{},f,r),this.file=e,this.url=null,this._xhr=null,this._fingerprint=null,this._offset=null,this._aborted=!1,this._size=null,this._source=null,this._retryAttempt=0,this._retryTimeout=null,this._offsetBeforeRetry=0}return n(t,[{key:"start",value:function(){var t=this,e=this.file;if(e)if(this.options.endpoint){var r=this._source=(0,u.getSource)(e,this.options.chunkSize);if(null!=this.options.uploadSize){var n=+this.options.uploadSize;if(isNaN(n))throw new Error("tus: cannot convert `uploadSize` option into a number");this._size=n}else{if(null==(n=r.size))throw new Error("tus: cannot automatically derive upload's size from input and must be specified manually using the `uploadSize` option");this._size=n}var o,i=this.options.retryDelays;if(null!=i){if("[object Array]"!==Object.prototype.toString.call(i))throw new Error("tus: the `retryDelays` option must either be an array or null");o=t.options.onError,t.options.onError=function(e){t.options.onError=o,null!=t._offset&&t._offset>t._offsetBeforeRetry&&(t._retryAttempt=0);var r=!0;if("undefined"!==typeof window&&"navigator"in window&&!1===window.navigator.onLine&&(r=!1),t._retryAttempt<i.length&&null!=e.originalRequest&&r){var n=i[t._retryAttempt++];t._offsetBeforeRetry=t._offset,t.options.uploadUrl=t.url,t._retryTimeout=setTimeout(function(){t.start()},n)}else t._emitError(e)}}if(this._aborted=!1,null!=this.options.uploadUrl)return this.url=this.options.uploadUrl,void this._resumeUpload();if(this.options.resume){this._fingerprint=this.options.fingerprint(e);var s=l.getItem(this._fingerprint);if(null!=s)return this.url=s,void this._resumeUpload()}this._createUpload()}else this._emitError(new Error("tus: no endpoint provided"));else this._emitError(new Error("tus: no file or stream to upload provided"))}},{key:"abort",value:function(){null!==this._xhr&&(this._xhr.abort(),this._source.close(),this._aborted=!0),null!=this._retryTimeout&&(clearTimeout(this._retryTimeout),this._retryTimeout=null)}},{key:"_emitXhrError",value:function(t,e,r){this._emitError(new i.default(e,r,t))}},{key:"_emitError",value:function(t){if("function"!==typeof this.options.onError)throw t;this.options.onError(t)}},{key:"_emitSuccess",value:function(){"function"===typeof this.options.onSuccess&&this.options.onSuccess()}},{key:"_emitProgress",value:function(t,e){"function"===typeof this.options.onProgress&&this.options.onProgress(t,e)}},{key:"_emitChunkComplete",value:function(t,e,r){"function"===typeof this.options.onChunkComplete&&this.options.onChunkComplete(t,e,r)}},{key:"_setupXHR",value:function(t){t.setRequestHeader("Tus-Resumable","1.0.0");var e=this.options.headers;for(var r in e)t.setRequestHeader(r,e[r]);t.withCredentials=this.options.withCredentials}},{key:"_createUpload",value:function(){var t=this,e=(0,a.newRequest)();e.open("POST",this.options.endpoint,!0),e.onload=function(){e.status>=200&&e.status<300?(t.url=(0,a.resolveUrl)(t.options.endpoint,e.getResponseHeader("Location")),t.options.resume&&l.setItem(t._fingerprint,t.url),t._offset=0,t._startUpload()):t._emitXhrError(e,new Error("tus: unexpected response while creating upload"))},e.onerror=function(r){t._emitXhrError(e,new Error("tus: failed to create upload"),r)},this._setupXHR(e),e.setRequestHeader("Upload-Length",this._size);var r=function(t){if(!c.isSupported)return"";var e=[];for(var r in t)e.push(r+" "+c.encode(t[r]));return e.join(",")}(this.options.metadata);""!==r&&e.setRequestHeader("Upload-Metadata",r),e.send(null)}},{key:"_resumeUpload",value:function(){var t=this,e=(0,a.newRequest)();e.open("HEAD",this.url,!0),e.onload=function(){if(!(e.status>=200&&e.status<300))return t.options.resume&&l.removeItem(t._fingerprint),423===e.status?void t._emitXhrError(e,new Error("tus: upload is currently locked; retry later")):(t.url=null,void t._createUpload());var r=parseInt(e.getResponseHeader("Upload-Offset"),10);if(isNaN(r))t._emitXhrError(e,new Error("tus: invalid or missing offset value"));else{var n=parseInt(e.getResponseHeader("Upload-Length"),10);if(isNaN(n))t._emitXhrError(e,new Error("tus: invalid or missing length value"));else{if(r===n)return t._emitProgress(n,n),void t._emitSuccess();t._offset=r,t._startUpload()}}},e.onerror=function(r){t._emitXhrError(e,new Error("tus: failed to resume upload"),r)},this._setupXHR(e),e.send(null)}},{key:"_startUpload",value:function(){var t=this;if(!this._aborted){var e=this._xhr=(0,a.newRequest)();this.options.overridePatchMethod?(e.open("POST",this.url,!0),e.setRequestHeader("X-HTTP-Method-Override","PATCH")):e.open("PATCH",this.url,!0),e.onload=function(){if(e.status>=200&&e.status<300){var r=parseInt(e.getResponseHeader("Upload-Offset"),10);if(isNaN(r))t._emitXhrError(e,new Error("tus: invalid or missing offset value"));else{if(t._emitProgress(r,t._size),t._emitChunkComplete(r-t._offset,r,t._size),t._offset=r,r==t._size)return t._emitSuccess(),void t._source.close();t._startUpload()}}else t._emitXhrError(e,new Error("tus: unexpected response while uploading chunk"))},e.onerror=function(r){t._aborted||t._emitXhrError(e,new Error("tus: failed to upload chunk at offset "+t._offset),r)},"upload"in e&&(e.upload.onprogress=function(e){e.lengthComputable&&t._emitProgress(r+e.loaded,t._size)}),this._setupXHR(e),e.setRequestHeader("Upload-Offset",this._offset),e.setRequestHeader("Content-Type","application/offset+octet-stream");var r=this._offset,n=this._offset+this.options.chunkSize;(n===1/0||n>this._size)&&(n=this._size),e.send(this._source.slice(r,n))}}}]),t}();h.defaultOptions=f,e.default=h},2452:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return["tus",t.name,t.type,t.size,t.lastModified].join("-")}},2453:function(t,e,r){"use strict";var n=r(4);Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(t){var r=arguments.length<=1||void 0===arguments[1]?null:arguments[1],o=arguments.length<=2||void 0===arguments[2]?null:arguments[2];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==n(e)&&"function"!==typeof e?t:e}(this,Object.getPrototypeOf(e).call(this,t.message));i.originalRequest=o,i.causingError=r;var s=t.message;return null!=r&&(s+=", caused by "+r.toString()),null!=o&&(s+=", originated from request (response code: "+o.status+", response text: "+o.responseText+")"),i.message=s,i}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+n(e));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,Error),e}();e.default=o},2454:function(t,e,r){"use strict";var n=r(4),o=Object.prototype.hasOwnProperty,i=Object.prototype.toString,s=Object.defineProperty,a=Object.getOwnPropertyDescriptor,u=function(t){return"function"===typeof Array.isArray?Array.isArray(t):"[object Array]"===i.call(t)},c=function(t){if(!t||"[object Object]"!==i.call(t))return!1;var e,r=o.call(t,"constructor"),n=t.constructor&&t.constructor.prototype&&o.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!r&&!n)return!1;for(e in t);return"undefined"===typeof e||o.call(t,e)},l=function(t,e){s&&"__proto__"===e.name?s(t,e.name,{enumerable:!0,configurable:!0,value:e.newValue,writable:!0}):t[e.name]=e.newValue},p=function(t,e){if("__proto__"===e){if(!o.call(t,e))return;if(a)return a(t,e).value}return t[e]};t.exports=function t(){var e,r,o,i,s,a,d=arguments[0],f=1,h=arguments.length,m=!1;for("boolean"===typeof d&&(m=d,d=arguments[1]||{},f=2),(null==d||"object"!==n(d)&&"function"!==typeof d)&&(d={});f<h;++f)if(null!=(e=arguments[f]))for(r in e)o=p(d,r),d!==(i=p(e,r))&&(m&&i&&(c(i)||(s=u(i)))?(s?(s=!1,a=o&&u(o)?o:[]):a=o&&c(o)?o:{},l(d,{name:r,newValue:t(m,a,i)})):"undefined"!==typeof i&&l(d,{name:r,newValue:i}));return d}},2455:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.newRequest=function(){return new window.XMLHttpRequest},e.resolveUrl=function(t,e){return(0,i.default)(t,e)};var n,o=r(2456),i=(n=o)&&n.__esModule?n:{default:n}},2456:function(t,e,r){var n,o;r(4);void 0===(o="function"===typeof(n=function(){return function(){var t=arguments.length;if(0===t)throw new Error("resolveUrl requires at least one argument; got none.");var e=document.createElement("base");if(e.href=arguments[0],1===t)return e.href;var r=document.getElementsByTagName("head")[0];r.insertBefore(e,r.firstChild);for(var n,o=document.createElement("a"),i=1;i<t;i++)o.href=arguments[i],n=o.href,e.href=n;return r.removeChild(e),n}})?n.call(e,r,e,t):n)||(t.exports=o)},2457:function(t,e,r){"use strict";var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();Object.defineProperty(e,"__esModule",{value:!0}),e.getSource=function(t){if("function"===typeof t.slice&&"undefined"!==typeof t.size)return new o(t);throw new Error("source object may only be an instance of File or Blob in this environment")};var o=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._file=e,this.size=e.size}return n(t,[{key:"slice",value:function(t,e){return this._file.slice(t,e)}},{key:"close",value:function(){}}]),t}()},2458:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.encode=function(t){return n(unescape(encodeURIComponent(t)))};var n=window.btoa;e.isSupported="btoa"in window},2459:function(t,e,r){"use strict";var n=r(4),o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t};var i=r(1139);t.exports=function(t){function e(r,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var s=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==n(e)&&"function"!==typeof e?t:e}(this,t.call(this,r,i));s.type="modifier",s.id="MetaData",s.title="Meta Data";return s.opts=o({},{},i),s.handleFileAdded=s.handleFileAdded.bind(s),s}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+n(e));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.handleFileAdded=function(t){var e=this;this.opts.fields.forEach(function(r){var n={};n[r.id]=r.value,e.core.updateMeta(n,t.id)})},e.prototype.addInitialMeta=function(){var t=this.opts.fields;this.core.setState({metaFields:t}),this.core.on("core:file-added",this.handleFileAdded)},e.prototype.install=function(){this.addInitialMeta()},e.prototype.uninstall=function(){this.core.off("core:file-added",this.handleFileAdded)},e}(i)}}]);
//# sourceMappingURL=134.9fbf091a.chunk.js.map